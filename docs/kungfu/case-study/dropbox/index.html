<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Design Dropbox | Nguyễn Khánk&#39;s Wiki</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="apple-touch-icon" sizes="180x180" href="../public/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../public/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../public/favicons/favicon-16x16.png">
    <link rel="manifest" href="../public/favicons/manifest.json">
    <link rel="mask-icon" href="../public/favicons/safari-pinned-tab.svg" color="#3a0839">
    <link rel="shortcut icon" href="../public/favicons/favicon.ico">
    <meta name="description" content="Wikipedia của tui">
    <meta name="msapplication-TileColor" content="#3a0839">
    <meta name="msapplication-config" content="../public/favicons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    
    <link rel="preload" href="/docs/assets/css/0.styles.13bbcd8a.css" as="style"><link rel="preload" href="/docs/assets/js/app.bc5004d9.js" as="script"><link rel="preload" href="/docs/assets/js/2.105448cf.js" as="script"><link rel="preload" href="/docs/assets/js/49.05d7216f.js" as="script"><link rel="preload" href="/docs/assets/js/75.3c4cd36c.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.86535e21.js"><link rel="prefetch" href="/docs/assets/js/100.b3188006.js"><link rel="prefetch" href="/docs/assets/js/101.5470b48c.js"><link rel="prefetch" href="/docs/assets/js/102.da441bfc.js"><link rel="prefetch" href="/docs/assets/js/103.6d0472e1.js"><link rel="prefetch" href="/docs/assets/js/104.6f217544.js"><link rel="prefetch" href="/docs/assets/js/105.e8210147.js"><link rel="prefetch" href="/docs/assets/js/106.2df88f3a.js"><link rel="prefetch" href="/docs/assets/js/107.035f827b.js"><link rel="prefetch" href="/docs/assets/js/108.eb636999.js"><link rel="prefetch" href="/docs/assets/js/109.31d20eb5.js"><link rel="prefetch" href="/docs/assets/js/11.e34648a9.js"><link rel="prefetch" href="/docs/assets/js/110.5fdcec68.js"><link rel="prefetch" href="/docs/assets/js/111.633af4cf.js"><link rel="prefetch" href="/docs/assets/js/112.02234e86.js"><link rel="prefetch" href="/docs/assets/js/113.eb40c997.js"><link rel="prefetch" href="/docs/assets/js/114.ecf90c83.js"><link rel="prefetch" href="/docs/assets/js/115.6ff6c777.js"><link rel="prefetch" href="/docs/assets/js/116.a2c81401.js"><link rel="prefetch" href="/docs/assets/js/117.2e4d15d1.js"><link rel="prefetch" href="/docs/assets/js/118.6e39679f.js"><link rel="prefetch" href="/docs/assets/js/119.196c0559.js"><link rel="prefetch" href="/docs/assets/js/12.0f25bcb5.js"><link rel="prefetch" href="/docs/assets/js/120.604488af.js"><link rel="prefetch" href="/docs/assets/js/121.30b4dabe.js"><link rel="prefetch" href="/docs/assets/js/122.9c7085b3.js"><link rel="prefetch" href="/docs/assets/js/123.fb7cd3a2.js"><link rel="prefetch" href="/docs/assets/js/124.212ba372.js"><link rel="prefetch" href="/docs/assets/js/125.80b9f57b.js"><link rel="prefetch" href="/docs/assets/js/126.bf0ebdb9.js"><link rel="prefetch" href="/docs/assets/js/127.9179f758.js"><link rel="prefetch" href="/docs/assets/js/128.c7ea16c0.js"><link rel="prefetch" href="/docs/assets/js/129.a82f813d.js"><link rel="prefetch" href="/docs/assets/js/13.a677d1a1.js"><link rel="prefetch" href="/docs/assets/js/130.99d6599b.js"><link rel="prefetch" href="/docs/assets/js/131.2bd4ee40.js"><link rel="prefetch" href="/docs/assets/js/132.16cba406.js"><link rel="prefetch" href="/docs/assets/js/133.fbddd094.js"><link rel="prefetch" href="/docs/assets/js/134.d2ccd2e0.js"><link rel="prefetch" href="/docs/assets/js/135.b376ad8f.js"><link rel="prefetch" href="/docs/assets/js/136.23853944.js"><link rel="prefetch" href="/docs/assets/js/137.59982b19.js"><link rel="prefetch" href="/docs/assets/js/138.715bd06c.js"><link rel="prefetch" href="/docs/assets/js/139.aab47236.js"><link rel="prefetch" href="/docs/assets/js/14.a8d8dd82.js"><link rel="prefetch" href="/docs/assets/js/140.dccb2a09.js"><link rel="prefetch" href="/docs/assets/js/141.29b02893.js"><link rel="prefetch" href="/docs/assets/js/142.bdc15d89.js"><link rel="prefetch" href="/docs/assets/js/143.a8af6b71.js"><link rel="prefetch" href="/docs/assets/js/144.1f0db4e6.js"><link rel="prefetch" href="/docs/assets/js/145.aa32c4f4.js"><link rel="prefetch" href="/docs/assets/js/146.41a31ce8.js"><link rel="prefetch" href="/docs/assets/js/147.73a950a4.js"><link rel="prefetch" href="/docs/assets/js/148.48920d7a.js"><link rel="prefetch" href="/docs/assets/js/149.dc09ae7d.js"><link rel="prefetch" href="/docs/assets/js/15.4df88308.js"><link rel="prefetch" href="/docs/assets/js/150.76d3de36.js"><link rel="prefetch" href="/docs/assets/js/151.c7629da7.js"><link rel="prefetch" href="/docs/assets/js/152.95bb2cc3.js"><link rel="prefetch" href="/docs/assets/js/153.4bcdae2c.js"><link rel="prefetch" href="/docs/assets/js/154.c1bee667.js"><link rel="prefetch" href="/docs/assets/js/155.b0cdae6f.js"><link rel="prefetch" href="/docs/assets/js/156.af9e189a.js"><link rel="prefetch" href="/docs/assets/js/157.ba519d75.js"><link rel="prefetch" href="/docs/assets/js/158.7a2cf1c2.js"><link rel="prefetch" href="/docs/assets/js/159.aa420807.js"><link rel="prefetch" href="/docs/assets/js/16.b58ddb71.js"><link rel="prefetch" href="/docs/assets/js/160.0d810824.js"><link rel="prefetch" href="/docs/assets/js/161.17e69281.js"><link rel="prefetch" href="/docs/assets/js/162.485983cb.js"><link rel="prefetch" href="/docs/assets/js/163.da6340c0.js"><link rel="prefetch" href="/docs/assets/js/164.9dea2c9a.js"><link rel="prefetch" href="/docs/assets/js/165.86d318c7.js"><link rel="prefetch" href="/docs/assets/js/166.041dfd12.js"><link rel="prefetch" href="/docs/assets/js/167.1f17d937.js"><link rel="prefetch" href="/docs/assets/js/168.9da1659c.js"><link rel="prefetch" href="/docs/assets/js/169.58d8ee90.js"><link rel="prefetch" href="/docs/assets/js/17.9db14cb9.js"><link rel="prefetch" href="/docs/assets/js/170.da5c369f.js"><link rel="prefetch" href="/docs/assets/js/171.470523b4.js"><link rel="prefetch" href="/docs/assets/js/172.25e00d56.js"><link rel="prefetch" href="/docs/assets/js/173.6a3ce47d.js"><link rel="prefetch" href="/docs/assets/js/174.d6076d02.js"><link rel="prefetch" href="/docs/assets/js/175.415d1523.js"><link rel="prefetch" href="/docs/assets/js/176.37d4f83e.js"><link rel="prefetch" href="/docs/assets/js/177.60f9c6db.js"><link rel="prefetch" href="/docs/assets/js/178.dfc7d1a0.js"><link rel="prefetch" href="/docs/assets/js/179.c1a7efc2.js"><link rel="prefetch" href="/docs/assets/js/18.528fa8a4.js"><link rel="prefetch" href="/docs/assets/js/180.d9d50a07.js"><link rel="prefetch" href="/docs/assets/js/181.1ed56719.js"><link rel="prefetch" href="/docs/assets/js/182.5e72455c.js"><link rel="prefetch" href="/docs/assets/js/183.fda0b3cc.js"><link rel="prefetch" href="/docs/assets/js/184.60683271.js"><link rel="prefetch" href="/docs/assets/js/185.d67ba33a.js"><link rel="prefetch" href="/docs/assets/js/186.344c83f3.js"><link rel="prefetch" href="/docs/assets/js/187.2810fcd1.js"><link rel="prefetch" href="/docs/assets/js/188.f7e9ea30.js"><link rel="prefetch" href="/docs/assets/js/189.e269d8ee.js"><link rel="prefetch" href="/docs/assets/js/19.3677ab17.js"><link rel="prefetch" href="/docs/assets/js/190.31a020dd.js"><link rel="prefetch" href="/docs/assets/js/191.86308359.js"><link rel="prefetch" href="/docs/assets/js/192.2356e601.js"><link rel="prefetch" href="/docs/assets/js/193.0da0a52a.js"><link rel="prefetch" href="/docs/assets/js/194.7b69c464.js"><link rel="prefetch" href="/docs/assets/js/195.477fff62.js"><link rel="prefetch" href="/docs/assets/js/196.253dcd41.js"><link rel="prefetch" href="/docs/assets/js/197.85024a95.js"><link rel="prefetch" href="/docs/assets/js/198.b4c4d92c.js"><link rel="prefetch" href="/docs/assets/js/199.4c89c375.js"><link rel="prefetch" href="/docs/assets/js/20.298c56e5.js"><link rel="prefetch" href="/docs/assets/js/200.3b8385f6.js"><link rel="prefetch" href="/docs/assets/js/201.32a73c82.js"><link rel="prefetch" href="/docs/assets/js/202.66b297af.js"><link rel="prefetch" href="/docs/assets/js/203.604d5608.js"><link rel="prefetch" href="/docs/assets/js/204.5d23a95b.js"><link rel="prefetch" href="/docs/assets/js/205.7b379979.js"><link rel="prefetch" href="/docs/assets/js/206.058a5cb1.js"><link rel="prefetch" href="/docs/assets/js/207.6e3fef67.js"><link rel="prefetch" href="/docs/assets/js/208.6b06bd4f.js"><link rel="prefetch" href="/docs/assets/js/209.e7324c69.js"><link rel="prefetch" href="/docs/assets/js/21.7769137c.js"><link rel="prefetch" href="/docs/assets/js/210.3117b735.js"><link rel="prefetch" href="/docs/assets/js/211.cb7ab612.js"><link rel="prefetch" href="/docs/assets/js/212.5173339e.js"><link rel="prefetch" href="/docs/assets/js/213.389e4744.js"><link rel="prefetch" href="/docs/assets/js/214.87954d97.js"><link rel="prefetch" href="/docs/assets/js/215.0989ada5.js"><link rel="prefetch" href="/docs/assets/js/216.f29dbaea.js"><link rel="prefetch" href="/docs/assets/js/217.a0e04d0a.js"><link rel="prefetch" href="/docs/assets/js/218.cdd73c64.js"><link rel="prefetch" href="/docs/assets/js/219.7125782a.js"><link rel="prefetch" href="/docs/assets/js/22.42d2684a.js"><link rel="prefetch" href="/docs/assets/js/220.a039e43d.js"><link rel="prefetch" href="/docs/assets/js/221.99e239f2.js"><link rel="prefetch" href="/docs/assets/js/222.ba0c0a7c.js"><link rel="prefetch" href="/docs/assets/js/223.7876094b.js"><link rel="prefetch" href="/docs/assets/js/224.988cf2de.js"><link rel="prefetch" href="/docs/assets/js/225.e2f9ac18.js"><link rel="prefetch" href="/docs/assets/js/226.efe067b9.js"><link rel="prefetch" href="/docs/assets/js/227.895261f5.js"><link rel="prefetch" href="/docs/assets/js/228.72861558.js"><link rel="prefetch" href="/docs/assets/js/229.1ccb4505.js"><link rel="prefetch" href="/docs/assets/js/23.2f556297.js"><link rel="prefetch" href="/docs/assets/js/230.e70ddbd1.js"><link rel="prefetch" href="/docs/assets/js/231.a5e75879.js"><link rel="prefetch" href="/docs/assets/js/232.84e58ea6.js"><link rel="prefetch" href="/docs/assets/js/233.49ccd323.js"><link rel="prefetch" href="/docs/assets/js/234.476db6ac.js"><link rel="prefetch" href="/docs/assets/js/235.504ffb09.js"><link rel="prefetch" href="/docs/assets/js/236.c32fc897.js"><link rel="prefetch" href="/docs/assets/js/237.9275e639.js"><link rel="prefetch" href="/docs/assets/js/238.bd347cd2.js"><link rel="prefetch" href="/docs/assets/js/239.f0e19cfb.js"><link rel="prefetch" href="/docs/assets/js/24.56632360.js"><link rel="prefetch" href="/docs/assets/js/240.2062baf5.js"><link rel="prefetch" href="/docs/assets/js/241.ae6b9d7a.js"><link rel="prefetch" href="/docs/assets/js/242.d9b1447e.js"><link rel="prefetch" href="/docs/assets/js/243.8f064f9c.js"><link rel="prefetch" href="/docs/assets/js/244.8c633018.js"><link rel="prefetch" href="/docs/assets/js/245.ea8601eb.js"><link rel="prefetch" href="/docs/assets/js/246.d7ccdfe3.js"><link rel="prefetch" href="/docs/assets/js/247.ec929bdc.js"><link rel="prefetch" href="/docs/assets/js/248.f06dcf0a.js"><link rel="prefetch" href="/docs/assets/js/249.994499d2.js"><link rel="prefetch" href="/docs/assets/js/25.d67725e0.js"><link rel="prefetch" href="/docs/assets/js/250.f5cbb00c.js"><link rel="prefetch" href="/docs/assets/js/251.eb973d01.js"><link rel="prefetch" href="/docs/assets/js/252.4872be17.js"><link rel="prefetch" href="/docs/assets/js/253.3a0b19ac.js"><link rel="prefetch" href="/docs/assets/js/254.d4858f5e.js"><link rel="prefetch" href="/docs/assets/js/255.04bac715.js"><link rel="prefetch" href="/docs/assets/js/256.a31eecfd.js"><link rel="prefetch" href="/docs/assets/js/257.a4b60f31.js"><link rel="prefetch" href="/docs/assets/js/258.83ec271d.js"><link rel="prefetch" href="/docs/assets/js/259.ad35dff4.js"><link rel="prefetch" href="/docs/assets/js/26.b85af300.js"><link rel="prefetch" href="/docs/assets/js/260.18f30fe4.js"><link rel="prefetch" href="/docs/assets/js/261.92a488d7.js"><link rel="prefetch" href="/docs/assets/js/262.dfcc4947.js"><link rel="prefetch" href="/docs/assets/js/263.359f357a.js"><link rel="prefetch" href="/docs/assets/js/264.90f70442.js"><link rel="prefetch" href="/docs/assets/js/265.3dce19a1.js"><link rel="prefetch" href="/docs/assets/js/266.21715272.js"><link rel="prefetch" href="/docs/assets/js/267.91cae471.js"><link rel="prefetch" href="/docs/assets/js/268.e5d7b547.js"><link rel="prefetch" href="/docs/assets/js/269.17ec145c.js"><link rel="prefetch" href="/docs/assets/js/27.9b17aad2.js"><link rel="prefetch" href="/docs/assets/js/270.2cd7c4f0.js"><link rel="prefetch" href="/docs/assets/js/271.19c32048.js"><link rel="prefetch" href="/docs/assets/js/272.84d5eeb9.js"><link rel="prefetch" href="/docs/assets/js/273.2826ca5e.js"><link rel="prefetch" href="/docs/assets/js/274.2f839546.js"><link rel="prefetch" href="/docs/assets/js/275.77a48259.js"><link rel="prefetch" href="/docs/assets/js/276.3ad0c18e.js"><link rel="prefetch" href="/docs/assets/js/277.8f16f900.js"><link rel="prefetch" href="/docs/assets/js/278.b3118d59.js"><link rel="prefetch" href="/docs/assets/js/279.ded9cb86.js"><link rel="prefetch" href="/docs/assets/js/28.5084a297.js"><link rel="prefetch" href="/docs/assets/js/280.d60f23d8.js"><link rel="prefetch" href="/docs/assets/js/281.b024dbe4.js"><link rel="prefetch" href="/docs/assets/js/282.c5038e25.js"><link rel="prefetch" href="/docs/assets/js/283.ebc0dfb3.js"><link rel="prefetch" href="/docs/assets/js/284.d5ae7ed1.js"><link rel="prefetch" href="/docs/assets/js/285.cf3b07c0.js"><link rel="prefetch" href="/docs/assets/js/286.74c55a23.js"><link rel="prefetch" href="/docs/assets/js/287.4a668496.js"><link rel="prefetch" href="/docs/assets/js/288.9620d3fa.js"><link rel="prefetch" href="/docs/assets/js/289.a23b5297.js"><link rel="prefetch" href="/docs/assets/js/29.34ab3246.js"><link rel="prefetch" href="/docs/assets/js/290.a91a5743.js"><link rel="prefetch" href="/docs/assets/js/291.1d2fe086.js"><link rel="prefetch" href="/docs/assets/js/292.2c48e2d0.js"><link rel="prefetch" href="/docs/assets/js/293.efdb5006.js"><link rel="prefetch" href="/docs/assets/js/294.978a7f80.js"><link rel="prefetch" href="/docs/assets/js/295.7c2f686d.js"><link rel="prefetch" href="/docs/assets/js/296.77f9d97c.js"><link rel="prefetch" href="/docs/assets/js/297.80079660.js"><link rel="prefetch" href="/docs/assets/js/298.8c92c37d.js"><link rel="prefetch" href="/docs/assets/js/299.466b5f92.js"><link rel="prefetch" href="/docs/assets/js/3.0e0c3aea.js"><link rel="prefetch" href="/docs/assets/js/30.062ec6b3.js"><link rel="prefetch" href="/docs/assets/js/300.7f2c4549.js"><link rel="prefetch" href="/docs/assets/js/301.ca46a1c2.js"><link rel="prefetch" href="/docs/assets/js/302.d47d8d76.js"><link rel="prefetch" href="/docs/assets/js/303.50a75eed.js"><link rel="prefetch" href="/docs/assets/js/304.f16b4559.js"><link rel="prefetch" href="/docs/assets/js/305.49897e7b.js"><link rel="prefetch" href="/docs/assets/js/306.c59149a6.js"><link rel="prefetch" href="/docs/assets/js/307.d6565e66.js"><link rel="prefetch" href="/docs/assets/js/308.47593638.js"><link rel="prefetch" href="/docs/assets/js/309.685c2dd2.js"><link rel="prefetch" href="/docs/assets/js/31.18de75ce.js"><link rel="prefetch" href="/docs/assets/js/310.ca88c65a.js"><link rel="prefetch" href="/docs/assets/js/311.67cc2414.js"><link rel="prefetch" href="/docs/assets/js/312.95c66776.js"><link rel="prefetch" href="/docs/assets/js/313.090050db.js"><link rel="prefetch" href="/docs/assets/js/314.259495bd.js"><link rel="prefetch" href="/docs/assets/js/315.1d427607.js"><link rel="prefetch" href="/docs/assets/js/316.bb962cc1.js"><link rel="prefetch" href="/docs/assets/js/317.e5c39c76.js"><link rel="prefetch" href="/docs/assets/js/318.02210b93.js"><link rel="prefetch" href="/docs/assets/js/319.f3721e89.js"><link rel="prefetch" href="/docs/assets/js/32.bfb63a45.js"><link rel="prefetch" href="/docs/assets/js/320.d9178242.js"><link rel="prefetch" href="/docs/assets/js/321.05307b59.js"><link rel="prefetch" href="/docs/assets/js/322.8d8c4759.js"><link rel="prefetch" href="/docs/assets/js/323.e6c8a90e.js"><link rel="prefetch" href="/docs/assets/js/324.266705c2.js"><link rel="prefetch" href="/docs/assets/js/325.e295c532.js"><link rel="prefetch" href="/docs/assets/js/326.b40ee2df.js"><link rel="prefetch" href="/docs/assets/js/327.ace5c515.js"><link rel="prefetch" href="/docs/assets/js/328.6a83fc74.js"><link rel="prefetch" href="/docs/assets/js/329.a673c0cc.js"><link rel="prefetch" href="/docs/assets/js/33.5a514be0.js"><link rel="prefetch" href="/docs/assets/js/330.70a07c62.js"><link rel="prefetch" href="/docs/assets/js/331.264a430b.js"><link rel="prefetch" href="/docs/assets/js/332.3f9bd945.js"><link rel="prefetch" href="/docs/assets/js/333.68dec5dd.js"><link rel="prefetch" href="/docs/assets/js/334.07276a25.js"><link rel="prefetch" href="/docs/assets/js/335.5d2b9d41.js"><link rel="prefetch" href="/docs/assets/js/336.1992606c.js"><link rel="prefetch" href="/docs/assets/js/337.93a7d783.js"><link rel="prefetch" href="/docs/assets/js/338.fb22cbbf.js"><link rel="prefetch" href="/docs/assets/js/339.6f012d32.js"><link rel="prefetch" href="/docs/assets/js/34.abb0db1a.js"><link rel="prefetch" href="/docs/assets/js/340.6bc53fbc.js"><link rel="prefetch" href="/docs/assets/js/341.57e3eca7.js"><link rel="prefetch" href="/docs/assets/js/342.4a1b8901.js"><link rel="prefetch" href="/docs/assets/js/343.4ed12cbd.js"><link rel="prefetch" href="/docs/assets/js/344.2db44689.js"><link rel="prefetch" href="/docs/assets/js/345.c5901cde.js"><link rel="prefetch" href="/docs/assets/js/346.34041157.js"><link rel="prefetch" href="/docs/assets/js/347.ca539e2e.js"><link rel="prefetch" href="/docs/assets/js/348.4952a860.js"><link rel="prefetch" href="/docs/assets/js/349.5ca83889.js"><link rel="prefetch" href="/docs/assets/js/35.095aea40.js"><link rel="prefetch" href="/docs/assets/js/350.779a4df2.js"><link rel="prefetch" href="/docs/assets/js/351.cb80287d.js"><link rel="prefetch" href="/docs/assets/js/352.26f8c3dc.js"><link rel="prefetch" href="/docs/assets/js/353.3f373ee5.js"><link rel="prefetch" href="/docs/assets/js/354.626a6253.js"><link rel="prefetch" href="/docs/assets/js/355.523830ff.js"><link rel="prefetch" href="/docs/assets/js/356.b0243a90.js"><link rel="prefetch" href="/docs/assets/js/357.c846e457.js"><link rel="prefetch" href="/docs/assets/js/358.4ac343a5.js"><link rel="prefetch" href="/docs/assets/js/359.57dfa373.js"><link rel="prefetch" href="/docs/assets/js/36.220650ba.js"><link rel="prefetch" href="/docs/assets/js/360.78203ede.js"><link rel="prefetch" href="/docs/assets/js/361.6417d955.js"><link rel="prefetch" href="/docs/assets/js/362.b731e350.js"><link rel="prefetch" href="/docs/assets/js/363.2e195020.js"><link rel="prefetch" href="/docs/assets/js/364.199910d0.js"><link rel="prefetch" href="/docs/assets/js/365.78f600e0.js"><link rel="prefetch" href="/docs/assets/js/366.e5d7528b.js"><link rel="prefetch" href="/docs/assets/js/367.8f424d32.js"><link rel="prefetch" href="/docs/assets/js/368.dd7903d9.js"><link rel="prefetch" href="/docs/assets/js/369.a564603a.js"><link rel="prefetch" href="/docs/assets/js/37.cdd6e158.js"><link rel="prefetch" href="/docs/assets/js/370.133987d8.js"><link rel="prefetch" href="/docs/assets/js/371.527adb76.js"><link rel="prefetch" href="/docs/assets/js/372.72eacfd8.js"><link rel="prefetch" href="/docs/assets/js/373.2b69fc4d.js"><link rel="prefetch" href="/docs/assets/js/374.cedb1395.js"><link rel="prefetch" href="/docs/assets/js/375.146af6a0.js"><link rel="prefetch" href="/docs/assets/js/376.6cf434b3.js"><link rel="prefetch" href="/docs/assets/js/377.100d8253.js"><link rel="prefetch" href="/docs/assets/js/378.53b02f9a.js"><link rel="prefetch" href="/docs/assets/js/379.34119926.js"><link rel="prefetch" href="/docs/assets/js/38.40019073.js"><link rel="prefetch" href="/docs/assets/js/380.1ae2c0a4.js"><link rel="prefetch" href="/docs/assets/js/381.8a16c692.js"><link rel="prefetch" href="/docs/assets/js/382.33c93ebb.js"><link rel="prefetch" href="/docs/assets/js/383.e15e6bd1.js"><link rel="prefetch" href="/docs/assets/js/384.bb693b6d.js"><link rel="prefetch" href="/docs/assets/js/385.77c2644c.js"><link rel="prefetch" href="/docs/assets/js/386.1518349a.js"><link rel="prefetch" href="/docs/assets/js/387.0e87c3fa.js"><link rel="prefetch" href="/docs/assets/js/388.2496be87.js"><link rel="prefetch" href="/docs/assets/js/389.d2ca8c1a.js"><link rel="prefetch" href="/docs/assets/js/39.154bc535.js"><link rel="prefetch" href="/docs/assets/js/390.57d8a8d6.js"><link rel="prefetch" href="/docs/assets/js/391.63430f06.js"><link rel="prefetch" href="/docs/assets/js/392.6b561902.js"><link rel="prefetch" href="/docs/assets/js/393.b2fec8b9.js"><link rel="prefetch" href="/docs/assets/js/394.2bcc740d.js"><link rel="prefetch" href="/docs/assets/js/395.5908ed23.js"><link rel="prefetch" href="/docs/assets/js/396.2d2d5a2d.js"><link rel="prefetch" href="/docs/assets/js/397.68fcaa15.js"><link rel="prefetch" href="/docs/assets/js/398.db6f4f4d.js"><link rel="prefetch" href="/docs/assets/js/399.87236c9c.js"><link rel="prefetch" href="/docs/assets/js/4.58655ee3.js"><link rel="prefetch" href="/docs/assets/js/40.e0d6aafb.js"><link rel="prefetch" href="/docs/assets/js/400.c41689a8.js"><link rel="prefetch" href="/docs/assets/js/401.be8a4615.js"><link rel="prefetch" href="/docs/assets/js/402.811591ae.js"><link rel="prefetch" href="/docs/assets/js/403.7e1bfd41.js"><link rel="prefetch" href="/docs/assets/js/404.030f107d.js"><link rel="prefetch" href="/docs/assets/js/405.1950c88a.js"><link rel="prefetch" href="/docs/assets/js/406.c760ec47.js"><link rel="prefetch" href="/docs/assets/js/407.adb4620e.js"><link rel="prefetch" href="/docs/assets/js/408.6fa12e28.js"><link rel="prefetch" href="/docs/assets/js/409.8d3ccc8b.js"><link rel="prefetch" href="/docs/assets/js/41.9b57eef0.js"><link rel="prefetch" href="/docs/assets/js/410.edd37751.js"><link rel="prefetch" href="/docs/assets/js/411.acc3ae52.js"><link rel="prefetch" href="/docs/assets/js/412.6664b390.js"><link rel="prefetch" href="/docs/assets/js/413.c16d93cf.js"><link rel="prefetch" href="/docs/assets/js/414.5741884a.js"><link rel="prefetch" href="/docs/assets/js/415.2e574a8a.js"><link rel="prefetch" href="/docs/assets/js/416.62c3457f.js"><link rel="prefetch" href="/docs/assets/js/417.e768d8c2.js"><link rel="prefetch" href="/docs/assets/js/418.48b9b701.js"><link rel="prefetch" href="/docs/assets/js/419.96cc6a22.js"><link rel="prefetch" href="/docs/assets/js/42.aa895cbd.js"><link rel="prefetch" href="/docs/assets/js/420.5e330936.js"><link rel="prefetch" href="/docs/assets/js/421.96ed84de.js"><link rel="prefetch" href="/docs/assets/js/422.b575e05c.js"><link rel="prefetch" href="/docs/assets/js/423.ff7f5449.js"><link rel="prefetch" href="/docs/assets/js/424.3fb94b8d.js"><link rel="prefetch" href="/docs/assets/js/425.ada57fd4.js"><link rel="prefetch" href="/docs/assets/js/426.4f6fa1b5.js"><link rel="prefetch" href="/docs/assets/js/427.b6dee155.js"><link rel="prefetch" href="/docs/assets/js/428.1e7e8171.js"><link rel="prefetch" href="/docs/assets/js/429.2ec1586d.js"><link rel="prefetch" href="/docs/assets/js/43.63696f06.js"><link rel="prefetch" href="/docs/assets/js/430.617c1186.js"><link rel="prefetch" href="/docs/assets/js/431.a4cc6f70.js"><link rel="prefetch" href="/docs/assets/js/432.b3dbe336.js"><link rel="prefetch" href="/docs/assets/js/433.8f1bd342.js"><link rel="prefetch" href="/docs/assets/js/434.0b5f1c91.js"><link rel="prefetch" href="/docs/assets/js/435.634caf51.js"><link rel="prefetch" href="/docs/assets/js/436.5c6487fd.js"><link rel="prefetch" href="/docs/assets/js/437.381b7846.js"><link rel="prefetch" href="/docs/assets/js/438.8b07d13f.js"><link rel="prefetch" href="/docs/assets/js/439.302cca1b.js"><link rel="prefetch" href="/docs/assets/js/44.9400cc55.js"><link rel="prefetch" href="/docs/assets/js/440.b8823b47.js"><link rel="prefetch" href="/docs/assets/js/441.49a38cbc.js"><link rel="prefetch" href="/docs/assets/js/442.8970f6c1.js"><link rel="prefetch" href="/docs/assets/js/443.d42725fc.js"><link rel="prefetch" href="/docs/assets/js/444.e6cd3a53.js"><link rel="prefetch" href="/docs/assets/js/445.6eb313a9.js"><link rel="prefetch" href="/docs/assets/js/446.6fc8fbe9.js"><link rel="prefetch" href="/docs/assets/js/447.dc0487f0.js"><link rel="prefetch" href="/docs/assets/js/448.c6487dce.js"><link rel="prefetch" href="/docs/assets/js/449.d7a97380.js"><link rel="prefetch" href="/docs/assets/js/45.d40f5e3c.js"><link rel="prefetch" href="/docs/assets/js/450.332f9228.js"><link rel="prefetch" href="/docs/assets/js/451.329b67bf.js"><link rel="prefetch" href="/docs/assets/js/452.8a3c28fc.js"><link rel="prefetch" href="/docs/assets/js/453.96ac1dd7.js"><link rel="prefetch" href="/docs/assets/js/454.fc2e3ad0.js"><link rel="prefetch" href="/docs/assets/js/455.6ba98317.js"><link rel="prefetch" href="/docs/assets/js/456.5b7ab030.js"><link rel="prefetch" href="/docs/assets/js/457.0cf190e2.js"><link rel="prefetch" href="/docs/assets/js/458.145d0a79.js"><link rel="prefetch" href="/docs/assets/js/459.5db6889f.js"><link rel="prefetch" href="/docs/assets/js/46.bf9bc688.js"><link rel="prefetch" href="/docs/assets/js/460.a751cc10.js"><link rel="prefetch" href="/docs/assets/js/461.d9874964.js"><link rel="prefetch" href="/docs/assets/js/462.2cf98c2e.js"><link rel="prefetch" href="/docs/assets/js/463.6248c248.js"><link rel="prefetch" href="/docs/assets/js/464.a86ecdcb.js"><link rel="prefetch" href="/docs/assets/js/465.684e8ce7.js"><link rel="prefetch" href="/docs/assets/js/466.6efd60d3.js"><link rel="prefetch" href="/docs/assets/js/467.705e9850.js"><link rel="prefetch" href="/docs/assets/js/468.5bb63037.js"><link rel="prefetch" href="/docs/assets/js/469.8880b924.js"><link rel="prefetch" href="/docs/assets/js/47.c8365ded.js"><link rel="prefetch" href="/docs/assets/js/470.69fe0dea.js"><link rel="prefetch" href="/docs/assets/js/471.7cd4e494.js"><link rel="prefetch" href="/docs/assets/js/472.4aef112e.js"><link rel="prefetch" href="/docs/assets/js/473.f043b1e8.js"><link rel="prefetch" href="/docs/assets/js/474.bb1d6728.js"><link rel="prefetch" href="/docs/assets/js/475.ccdf5824.js"><link rel="prefetch" href="/docs/assets/js/476.dd21b147.js"><link rel="prefetch" href="/docs/assets/js/477.ef47e248.js"><link rel="prefetch" href="/docs/assets/js/478.5c060427.js"><link rel="prefetch" href="/docs/assets/js/479.7ef609c3.js"><link rel="prefetch" href="/docs/assets/js/48.92f6e50d.js"><link rel="prefetch" href="/docs/assets/js/480.25467ef3.js"><link rel="prefetch" href="/docs/assets/js/481.b00c89e7.js"><link rel="prefetch" href="/docs/assets/js/482.86e1fe89.js"><link rel="prefetch" href="/docs/assets/js/483.b1914332.js"><link rel="prefetch" href="/docs/assets/js/484.e15a2f97.js"><link rel="prefetch" href="/docs/assets/js/485.4b8ac91c.js"><link rel="prefetch" href="/docs/assets/js/486.eec64612.js"><link rel="prefetch" href="/docs/assets/js/487.d6a94f8b.js"><link rel="prefetch" href="/docs/assets/js/488.3807918d.js"><link rel="prefetch" href="/docs/assets/js/489.eff88fa6.js"><link rel="prefetch" href="/docs/assets/js/490.25cde392.js"><link rel="prefetch" href="/docs/assets/js/491.d519b2b9.js"><link rel="prefetch" href="/docs/assets/js/492.c13679e9.js"><link rel="prefetch" href="/docs/assets/js/493.45534f52.js"><link rel="prefetch" href="/docs/assets/js/494.60220aa2.js"><link rel="prefetch" href="/docs/assets/js/495.58c30484.js"><link rel="prefetch" href="/docs/assets/js/496.cfc41694.js"><link rel="prefetch" href="/docs/assets/js/497.49b1ee92.js"><link rel="prefetch" href="/docs/assets/js/498.56014cb8.js"><link rel="prefetch" href="/docs/assets/js/499.e8e7903d.js"><link rel="prefetch" href="/docs/assets/js/5.39ff5c1b.js"><link rel="prefetch" href="/docs/assets/js/50.b9383c03.js"><link rel="prefetch" href="/docs/assets/js/500.9d8b1e14.js"><link rel="prefetch" href="/docs/assets/js/501.20635a9a.js"><link rel="prefetch" href="/docs/assets/js/502.602b44e0.js"><link rel="prefetch" href="/docs/assets/js/503.88c94fa5.js"><link rel="prefetch" href="/docs/assets/js/504.fcb4b4b7.js"><link rel="prefetch" href="/docs/assets/js/505.0b7e7bd0.js"><link rel="prefetch" href="/docs/assets/js/506.284364e3.js"><link rel="prefetch" href="/docs/assets/js/507.0b2c38cb.js"><link rel="prefetch" href="/docs/assets/js/508.7826fd0b.js"><link rel="prefetch" href="/docs/assets/js/509.0598a6d2.js"><link rel="prefetch" href="/docs/assets/js/51.cae089a9.js"><link rel="prefetch" href="/docs/assets/js/510.8ba98e6d.js"><link rel="prefetch" href="/docs/assets/js/511.1f5471b9.js"><link rel="prefetch" href="/docs/assets/js/512.4737b5d5.js"><link rel="prefetch" href="/docs/assets/js/513.db2ff9d1.js"><link rel="prefetch" href="/docs/assets/js/514.4d692ac9.js"><link rel="prefetch" href="/docs/assets/js/515.7794889b.js"><link rel="prefetch" href="/docs/assets/js/516.bfbaee0e.js"><link rel="prefetch" href="/docs/assets/js/517.6ed8cc03.js"><link rel="prefetch" href="/docs/assets/js/518.8cf918e4.js"><link rel="prefetch" href="/docs/assets/js/52.fd823610.js"><link rel="prefetch" href="/docs/assets/js/53.ecf7af9b.js"><link rel="prefetch" href="/docs/assets/js/54.c09ead42.js"><link rel="prefetch" href="/docs/assets/js/55.a2fa55de.js"><link rel="prefetch" href="/docs/assets/js/56.51d6257b.js"><link rel="prefetch" href="/docs/assets/js/57.80a2d3a3.js"><link rel="prefetch" href="/docs/assets/js/58.dcb336b6.js"><link rel="prefetch" href="/docs/assets/js/59.7d497fbb.js"><link rel="prefetch" href="/docs/assets/js/6.874bbbeb.js"><link rel="prefetch" href="/docs/assets/js/60.cf0a6441.js"><link rel="prefetch" href="/docs/assets/js/61.6b856b00.js"><link rel="prefetch" href="/docs/assets/js/62.fbcebddd.js"><link rel="prefetch" href="/docs/assets/js/63.40bb6bff.js"><link rel="prefetch" href="/docs/assets/js/64.202fb1e9.js"><link rel="prefetch" href="/docs/assets/js/65.ac238857.js"><link rel="prefetch" href="/docs/assets/js/66.c85ae459.js"><link rel="prefetch" href="/docs/assets/js/67.8c144097.js"><link rel="prefetch" href="/docs/assets/js/68.10c79b04.js"><link rel="prefetch" href="/docs/assets/js/69.cefa482d.js"><link rel="prefetch" href="/docs/assets/js/7.27983714.js"><link rel="prefetch" href="/docs/assets/js/70.19f23b81.js"><link rel="prefetch" href="/docs/assets/js/71.49615150.js"><link rel="prefetch" href="/docs/assets/js/72.373be2cc.js"><link rel="prefetch" href="/docs/assets/js/73.099beec6.js"><link rel="prefetch" href="/docs/assets/js/74.960e8488.js"><link rel="prefetch" href="/docs/assets/js/76.dc6ab344.js"><link rel="prefetch" href="/docs/assets/js/77.cbc92315.js"><link rel="prefetch" href="/docs/assets/js/78.f24e458c.js"><link rel="prefetch" href="/docs/assets/js/79.52bfbb12.js"><link rel="prefetch" href="/docs/assets/js/8.26f6e5b7.js"><link rel="prefetch" href="/docs/assets/js/80.958cb122.js"><link rel="prefetch" href="/docs/assets/js/81.6883ee64.js"><link rel="prefetch" href="/docs/assets/js/82.547a2eb5.js"><link rel="prefetch" href="/docs/assets/js/83.e543ccb6.js"><link rel="prefetch" href="/docs/assets/js/84.d2bd3c00.js"><link rel="prefetch" href="/docs/assets/js/85.0152fb5a.js"><link rel="prefetch" href="/docs/assets/js/86.63d16012.js"><link rel="prefetch" href="/docs/assets/js/87.2de21dfa.js"><link rel="prefetch" href="/docs/assets/js/88.8c15dc8d.js"><link rel="prefetch" href="/docs/assets/js/89.1726fb65.js"><link rel="prefetch" href="/docs/assets/js/9.c3058078.js"><link rel="prefetch" href="/docs/assets/js/90.36d42b31.js"><link rel="prefetch" href="/docs/assets/js/91.d84071d2.js"><link rel="prefetch" href="/docs/assets/js/92.0a96bc3c.js"><link rel="prefetch" href="/docs/assets/js/93.55ca8bd8.js"><link rel="prefetch" href="/docs/assets/js/94.6b4f00ea.js"><link rel="prefetch" href="/docs/assets/js/95.8a50476d.js"><link rel="prefetch" href="/docs/assets/js/96.51fcb57f.js"><link rel="prefetch" href="/docs/assets/js/97.2a2f65d9.js"><link rel="prefetch" href="/docs/assets/js/98.dc92eefa.js"><link rel="prefetch" href="/docs/assets/js/99.eac2124e.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.13bbcd8a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><!----> <span class="site-name">Nguyễn Khánk's Wiki</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/architect/" class="nav-link">
  Architecture
</a></div><div class="nav-item"><a href="https://nguyenngockhank.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Home
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/architect/" class="nav-link">
  Architecture
</a></div><div class="nav-item"><a href="https://nguyenngockhank.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Home
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>System Design Case Studies</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/kungfu/case-study/notification/" class="sidebar-link">Design a notification system</a></li><li><a href="/docs/kungfu/case-study/metrics/" class="sidebar-link">Metrics Monitoring &amp; Alerting System</a></li><li><a href="/docs/kungfu/case-study/ad-click/" class="sidebar-link">Ad Click Event Aggregation</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>Online tools</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/kungfu/case-study/google-docs/" class="sidebar-link">Design Google Docs</a></li><li><a href="/docs/kungfu/case-study/dropbox/" aria-current="page" class="active sidebar-link">Design Dropbox</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/kungfu/case-study/dropbox/#_1-why-cloud-storage" class="sidebar-link">1. Why Cloud Storage?</a></li><li class="sidebar-sub-header"><a href="/docs/kungfu/case-study/dropbox/#_2-requirements-and-goals-of-the-system" class="sidebar-link">2. Requirements and Goals of the System</a></li><li class="sidebar-sub-header"><a href="/docs/kungfu/case-study/dropbox/#_3-some-design-considerations" class="sidebar-link">3. Some Design Considerations</a></li><li class="sidebar-sub-header"><a href="/docs/kungfu/case-study/dropbox/#_4-capacity-estimation-and-constraints" class="sidebar-link">4. Capacity Estimation and Constraints</a></li><li class="sidebar-sub-header"><a href="/docs/kungfu/case-study/dropbox/#_5-high-level-design" class="sidebar-link">5. High Level Design</a></li><li class="sidebar-sub-header"><a href="/docs/kungfu/case-study/dropbox/#_6-component-design" class="sidebar-link">6. Component Design</a></li><li class="sidebar-sub-header"><a href="/docs/kungfu/case-study/dropbox/#_7-file-processing-workflow" class="sidebar-link">7. File Processing Workflow</a></li><li class="sidebar-sub-header"><a href="/docs/kungfu/case-study/dropbox/#_8-data-deduplication" class="sidebar-link">8. Data Deduplication</a></li><li class="sidebar-sub-header"><a href="/docs/kungfu/case-study/dropbox/#_9-metadata-partitioning" class="sidebar-link">9. Metadata Partitioning</a></li><li class="sidebar-sub-header"><a href="/docs/kungfu/case-study/dropbox/#_10-caching" class="sidebar-link">10. Caching</a></li><li class="sidebar-sub-header"><a href="/docs/kungfu/case-study/dropbox/#_11-load-balancer-lb" class="sidebar-link">11. Load Balancer (LB)</a></li><li class="sidebar-sub-header"><a href="/docs/kungfu/case-study/dropbox/#_12-security-permissions-and-file-sharing" class="sidebar-link">12. Security, Permissions and File Sharing</a></li></ul></li><li><a href="/docs/kungfu/case-study/google-drive/" class="sidebar-link">Design Google Drive</a></li><li><a href="/docs/kungfu/case-study/email/" class="sidebar-link">Distributed Email Service</a></li><li><a href="/docs/kungfu/case-study/url-shorter/" class="sidebar-link">Design URL Shorter</a></li><li><a href="/docs/kungfu/case-study/url-shorter/part2/" class="sidebar-link">Design a URL Shortening (2nd)</a></li><li><a href="/docs/kungfu/case-study/pastebin/" class="sidebar-link">Design Pastebin</a></li><li><a href="/docs/kungfu/case-study/web-crawler/" class="sidebar-link">Design a Web Crawler</a></li><li><a href="/docs/kungfu/case-study/web-crawler/part2/" class="sidebar-link">Design a Web Crawler (2nd)</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Booking System</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Social Network</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Location</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Video</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Chat system</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>The Art of Readable Code</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>A Philosophy of Software Design</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Building Microservices</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>97 Things Every Programmer Should Know</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>NoSql Distilled</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Go</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Others</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="design-dropbox"><a href="#design-dropbox" class="header-anchor">#</a> Design Dropbox</h1> <p>Let's design a file hosting service like Dropbox or Google Drive. Cloud file storage enables users to
store their data on remote servers. Usually, these servers are maintained by cloud storage providers and
made available to users over a network (typically through the Internet). Users pay for their cloud data
storage on a monthly basis. Similar Services: OneDrive, Google Drive</p> <p>Difficulty Level: Medium</p> <h2 id="_1-why-cloud-storage"><a href="#_1-why-cloud-storage" class="header-anchor">#</a> 1. Why Cloud Storage?</h2> <p>Cloud file storage services have become very popular recently as they simplify the storage and
exchange of digital resources among multiple devices. The shift from using single personal computers
to using multiple devices with different platforms and operating systems such as smartphones and
tablets each with portable access from various geographical locations at any time, is believed to be
accountable for the huge popularity of cloud storage services. Following are some of the top benefits of
such services:</p> <p><strong>Availability</strong>: The motto of cloud storage services is to have data availability anywhere, anytime. Users
can access their files/photos from any device whenever and wherever they like.</p> <p><strong>Reliability and Durability</strong>: Another benefit of cloud storage is that it offers 100% reliability and
durability of data. Cloud storage ensures that users will never lose their data by keeping multiple copies
of the data stored on different geographically located servers.</p> <p><strong>Scalability</strong>: Users will never have to worry about getting out of storage space. With cloud storage you
have unlimited storage as long as you are ready to pay for it.</p> <p>If you haven’t used dropbox.com before, we would highly recommend creating an account there and
uploading/editing a file and also going through the different options their service offers. This will help
you a lot in understanding this chapter.</p> <h2 id="_2-requirements-and-goals-of-the-system"><a href="#_2-requirements-and-goals-of-the-system" class="header-anchor">#</a> 2. Requirements and Goals of the System</h2> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>You should always clarify requirements at the beginning of the interview. Be sure to ask
questions to find the exact scope of the system that the interviewer has in mind.</p></div> <p>What do we wish to achieve from a Cloud Storage system? Here are the top-level requirements for our
system:</p> <ol><li>Users should be able to upload and download their files/photos from any device.</li> <li>Users should be able to share files or folders with other users.</li> <li>Our service should support automatic synchronization between devices, i.e., after updating a file on one device, it should get synchronized on all devices.</li> <li>The system should support storing large files up to a GB.</li> <li>ACID-ity is required. Atomicity, Consistency, Isolation and Durability of all file operations
should be guaranteed.</li> <li>Our system should support offline editing. Users should be able to add/delete/modify files while
offline, and as soon as they come online, all their changes should be synced to the remote
servers and other online devices.</li></ol> <p><strong>Extended Requirements</strong></p> <ul><li>The system should support snapshotting of the data, so that users can go back to any version of the files.</li></ul> <h2 id="_3-some-design-considerations"><a href="#_3-some-design-considerations" class="header-anchor">#</a> 3. Some Design Considerations</h2> <ul><li>We should expect huge read and write volumes.</li> <li>Read to write ratio is expected to be nearly the same.</li> <li>Internally, files can be stored in small parts or chunks (say 4MB); this can provide a lot of benefits i.e. all failed operations shall only be retried for smaller parts of a file. If a user fails to upload a file, then only the failing chunk will be retried.</li> <li>We can reduce the amount of data exchange by transferring updated chunks only.</li> <li>By removing duplicate chunks, we can save storage space and bandwidth usage.</li> <li>Keeping a local copy of the metadata (file name, size, etc.) with the client can save us a lot of round trips to the server.</li> <li>For small changes, clients can intelligently upload the diffs instead of the whole chunk.</li></ul> <h2 id="_4-capacity-estimation-and-constraints"><a href="#_4-capacity-estimation-and-constraints" class="header-anchor">#</a> 4. Capacity Estimation and Constraints</h2> <ul><li>Let’s assume that we have 500M total users, and 100M daily active users (DAU).</li> <li>Let’s assume that on average each user connects from three different devices.</li> <li>On average if a user has 200 files/photos, we will have 100 billion total files.</li> <li>Let’s assume that average file size is 100KB, this would give us ten petabytes of total storage.</li></ul> <div class="language- extra-class"><pre class="language-text"><code>100B * 100KB =&gt; 10PB
</code></pre></div><ul><li>Let’s also assume that we will have one million active connections per minute.</li></ul> <h2 id="_5-high-level-design"><a href="#_5-high-level-design" class="header-anchor">#</a> 5. High Level Design</h2> <p>The user will specify a folder as the workspace on their device. Any file/photo/folder placed in this
folder will be uploaded to the cloud, and whenever a file is modified or deleted, it will be reflected in
the same way in the cloud storage. The user can specify similar workspaces on all their devices and any
modification done on one device will be propagated to all other devices to have the same view of the
workspace everywhere.</p> <p>At a high level, we need to store files and their metadata information like File Name, File Size,
Directory, etc., and who this file is shared with. So, we need some servers that can help the clients to
upload/download files to Cloud Storage and some servers that can facilitate updating metadata about
files and users. We also need some mechanism to notify all clients whenever an update happens so they
can synchronize their files.</p> <p>As shown in the diagram below, Block servers will work with the clients to upload/download files from
cloud storage and Metadata servers will keep metadata of files updated in a SQL or NoSQL database.
Synchronization servers will handle the workflow of notifying all clients about different changes for
synchronization.</p> <p><img src="/docs/assets/img/4.ec9e5421.png" alt="img"><br> <em>High level design for Dropbox</em></p> <h2 id="_6-component-design"><a href="#_6-component-design" class="header-anchor">#</a> 6. Component Design</h2> <p>Let’s go through the major components of our system one by one:</p> <h3 id="a-client"><a href="#a-client" class="header-anchor">#</a> a. Client</h3> <p>The Client Application monitors the workspace folder on the user’s machine and syncs all files/folders
in it with the remote Cloud Storage. The client application will work with the storage servers to upload,
download, and modify actual files to backend Cloud Storage. The client also interacts with the remote
Synchronization Service to handle any file metadata updates, e.g., change in the file name, size,
modification date, etc.</p> <p>Here are some of the essential operations for the client:</p> <ol><li>Upload and download files.</li> <li>Detect file changes in the workspace folder.</li> <li>Handle conflict due to offline or concurrent updates.</li></ol> <p><strong>How do we handle file transfer efficiently?</strong> As mentioned above, we can break each file into smaller chunks so that we transfer only those chunks that are modified and not the whole file. Let’s say we divide each file into fixed sizes of 4MB chunks. We can statically calculate what could be an optimal chunk size based on</p> <ol><li>Storage devices we use in the cloud to optimize space utilization and input/output operations per second (IOPS)</li> <li>Network bandwidth</li> <li>Average file size in the storage etc.
In our metadata, we should also keep a record of each file and the chunks that constitute it.</li></ol> <p><strong>Should we keep a copy of metadata with Client?</strong> Keeping a local copy of metadata not only enable us to do offline updates but also saves a lot of round trips to update remote metadata.</p> <p><strong>How can clients efficiently listen to changes happening with other clients?</strong> One solution could be
that the clients periodically check with the server if there are any changes. The problem with this
approach is that we will have a delay in reflecting changes locally as clients will be checking for
changes periodically compared to a server notifying whenever there is some change. If the client
frequently checks the server for changes, it will not only be wasting bandwidth, as the server has to
return an empty response most of the time, but will also be keeping the server busy. Pulling information
in this manner is not scalable.</p> <p>A solution to the above problem could be to use HTTP long polling. With long polling the client
requests information from the server with the expectation that the server may not respond immediately.
If the server has no new data for the client when the poll is received, instead of sending an empty
response, the server holds the request open and waits for response information to become available.
Once it does have new information, the server immediately sends an HTTP/S response to the client,
completing the open HTTP/S Request. Upon receipt of the server response, the client can immediately
issue another server request for future updates.</p> <p>Based on the above considerations, we can divide our client into following four parts:</p> <p>I. <strong>Internal Metadata Database</strong> will keep track of all the files, chunks, their versions, and their location in the file system.</p> <p>II. <strong>Chunker</strong> will split the files into smaller pieces called chunks. It will also be responsible for reconstructing a file from its chunks. Our chunking algorithm will detect the parts of the files that have been modified by the user and only transfer those parts to the Cloud Storage; this will save us bandwidth and synchronization time.</p> <p>III. <strong>Watcher</strong> will monitor the local workspace folders and notify the Indexer (discussed below) of any
action performed by the users, e.g. when users create, delete, or update files or folders. Watcher also
listens to any changes happening on other clients that are broadcasted by Synchronization service.</p> <p>IV. <strong>Indexer</strong> will process the events received from the Watcher and update the internal metadata
database with information about the chunks of the modified files. Once the chunks are successfully
submitted/downloaded to the Cloud Storage, the Indexer will communicate with the remote
Synchronization Service to broadcast changes to other clients and update remote metadata database.</p> <p><img src="/docs/assets/img/5.a196ad04.png" alt="img"></p> <p><strong>How should clients handle slow servers?</strong> Clients should exponentially back-off if the server is
busy/not-responding. Meaning, if a server is too slow to respond, clients should delay their retries and
this delay should increase exponentially.</p> <p><strong>Should mobile clients sync remote changes immediately?</strong> Unlike desktop or web clients, mobile
clients usually sync on demand to save user’s bandwidth and space.</p> <h3 id="b-metadata-database"><a href="#b-metadata-database" class="header-anchor">#</a> b. Metadata Database</h3> <p>The Metadata Database is responsible for maintaining the versioning and metadata information about
files/chunks, users, and workspaces. The Metadata Database can be a relational database such as
MySQL, or a NoSQL database service such as DynamoDB. Regardless of the type of the database, the
Synchronization Service should be able to provide a consistent view of the files using a database,
especially if more than one user is working with the same file simultaneously. Since NoSQL data stores
do not support ACID properties in favor of scalability and performance, we need to incorporate the
support for ACID properties programmatically in the logic of our Synchronization Service in case we
opt for this kind of database. However, using a relational database can simplify the implementation of
the Synchronization Service as they natively support ACID properties.</p> <p>The metadata Database should be storing information about following objects:</p> <ol><li>Chunks</li> <li>Files</li> <li>User</li> <li>Devices</li> <li>Workspace (sync folders)</li></ol> <h3 id="c-synchronization-service"><a href="#c-synchronization-service" class="header-anchor">#</a> c. Synchronization Service</h3> <p>The Synchronization Service is the component that processes file updates made by a client and applies
these changes to other subscribed clients. It also synchronizes clients’ local databases with the
information stored in the remote Metadata DB. The Synchronization Service is the most important part
of the system architecture due to its critical role in managing the metadata and synchronizing users’
files. Desktop clients communicate with the Synchronization Service to either obtain updates from the
Cloud Storage or send files and updates to the Cloud Storage and, potentially, other users. If a client
was offline for a period, it polls the system for new updates as soon as they come online. When the
Synchronization Service receives an update request, it checks with the Metadata Database for
consistency and then proceeds with the update. Subsequently, a notification is sent to all subscribed
users or devices to report the file update.</p> <p>The Synchronization Service should be designed in such a way that it transmits less data between
clients and the Cloud Storage to achieve a better response time. To meet this design goal, the
Synchronization Service can employ a differencing algorithm to reduce the amount of the data that
needs to be synchronized. Instead of transmitting entire files from clients to the server or vice versa, we
can just transmit the difference between two versions of a file. Therefore, only the part of the file that
has been changed is transmitted. This also decreases bandwidth consumption and cloud data storage for
the end user. As described above, we will be dividing our files into 4MB chunks and will be
transferring modified chunks only. Server and clients can calculate a hash (e.g., SHA-256) to see
whether to update the local copy of a chunk or not. On the server, if we already have a chunk with a
similar hash (even from another user), we don’t need to create another copy, we can use the same
chunk. This is discussed in detail later under Data Deduplication.</p> <p>To be able to provide an efficient and scalable synchronization protocol we can consider using a
communication middleware between clients and the Synchronization Service. The messaging
middleware should provide scalable message queuing and change notifications to support a high
number of clients using pull or push strategies. This way, multiple Synchronization Service instances
can receive requests from a global request Queue, and the communication middleware will be able to
balance its load.</p> <h3 id="d-message-queuing-service"><a href="#d-message-queuing-service" class="header-anchor">#</a> d. Message Queuing Service</h3> <p>An important part of our architecture is a messaging middleware that should be able to handle a
substantial number of requests. A scalable Message Queuing Service that supports asynchronous
message-based communication between clients and the Synchronization Service best fits the
requirements of our application. The Message Queuing Service supports asynchronous and loosely
coupled message-based communication between distributed components of the system. The Message
Queuing Service should be able to efficiently store any number of messages in a highly available,
reliable and scalable queue.</p> <p>The Message Queuing Service will implement two types of queues in our system. The Request Queue
is a global queue and all clients will share it. Clients’ requests to update the Metadata Database will be
sent to the Request Queue first, from there the Synchronization Service will take it to update metadata.
The Response Queues that correspond to individual subscribed clients are responsible for delivering the
update messages to each client. Since a message will be deleted from the queue once received by a
client, we need to create separate Response Queues for each subscribed client to share update
messages.</p> <p><img src="/docs/assets/img/6.6e073b84.png" alt="img"></p> <h3 id="e-cloud-block-storage"><a href="#e-cloud-block-storage" class="header-anchor">#</a> e. Cloud/Block Storage</h3> <p>Cloud/Block Storage stores chunks of files uploaded by the users. Clients directly interact with the
storage to send and receive objects from it. Separation of the metadata from storage enables us to use
any storage either in the cloud or in-house.</p> <p><img src="/docs/assets/img/7.5736e5f7.png" alt="img"><br> <em>Detailed component design for Dropbox</em></p> <h2 id="_7-file-processing-workflow"><a href="#_7-file-processing-workflow" class="header-anchor">#</a> 7. File Processing Workflow</h2> <p>The sequence below shows the interaction between the components of the application in a scenario
when Client A updates a file that is shared with Client B and C, so they should receive the update too.
If the other clients are not online at the time of the update, the Message Queuing Service keeps the
update notifications in separate response queues for them until they come online later.</p> <ol><li>Client A uploads chunks to cloud storage.</li> <li>Client A updates metadata and commits changes.</li> <li>Client A gets confirmation and notifications are sent to Clients B and C about the changes.</li> <li>Client B and C receive metadata changes and download updated chunks.</li></ol> <h2 id="_8-data-deduplication"><a href="#_8-data-deduplication" class="header-anchor">#</a> 8. Data Deduplication</h2> <p>Data deduplication is a technique used for eliminating duplicate copies of data to improve storage
utilization. It can also be applied to network data transfers to reduce the number of bytes that must be
sent. For each new incoming chunk, we can calculate a hash of it and compare that hash with all the
hashes of the existing chunks to see if we already have the same chunk present in our storage.
We can implement deduplication in two ways in our system:</p> <h3 id="a-post-process-deduplication"><a href="#a-post-process-deduplication" class="header-anchor">#</a> a. Post-process deduplication</h3> <p>With post-process deduplication, new chunks are first stored on the storage device and later some
process analyzes the data looking for duplication. The benefit is that clients will not need to wait for the
hash calculation or lookup to complete before storing the data, thereby ensuring that there is no
degradation in storage performance. Drawbacks of this approach are</p> <ol><li>We will unnecessarily be storing duplicate data, though for a short time</li> <li>Duplicate data will be transferred consuming bandwidth.</li></ol> <h3 id="b-in-line-deduplication"><a href="#b-in-line-deduplication" class="header-anchor">#</a> b. In-line deduplication</h3> <p>Alternatively, deduplication hash calculations can be done in real-time as the clients are entering data
on their device. If our system identifies a chunk that it has already stored, only a reference to the
existing chunk will be added in the metadata, rather than a full copy of the chunk. This approach will
give us optimal network and storage usage.</p> <h2 id="_9-metadata-partitioning"><a href="#_9-metadata-partitioning" class="header-anchor">#</a> 9. Metadata Partitioning</h2> <p>To scale out metadata DB, we need to partition it so that it can store information about millions of users
and billions of files/chunks. We need to come up with a partitioning scheme that would divide and store
our data in different DB servers.</p> <ol><li><p><strong>Vertical Partitioning</strong>: We can partition our database in such a way that we store tables related to one particular feature on one server. For example, we can store all the user related tables in one database and all files/chunks related tables in another database. Although this approach is straightforward to implement it has some issues:</p> <ul><li><ol><li>Will we still have scale issues? What if we have trillions of chunks to be stored and our database cannot support storing such a huge number of records? How would we further partition such tables?</li></ol></li> <li><ol start="2"><li>Joining two tables in two separate databases can cause performance and consistency issues. How frequently do we have to join user and file tables?</li></ol></li></ul></li> <li><p><strong>Range Based Partitioning</strong>: What if we store files/chunks in separate partitions based on the first letter of the File Path? In that case, we save all the files starting with the letter ‘A’ in one partition andthose that start with the letter ‘B’ into another partition and so on. This approach is called range based
partitioning. We can even combine certain less frequently occurring letters into one database partition.
We should come up with this partitioning scheme statically so that we can always store/find a file in a
predictable manner.</p></li></ol> <p>The main problem with this approach is that it can lead to unbalanced servers. For example, if we
decide to put all files starting with the letter ‘E’ into a DB partition, and later we realize that we have
too many files that start with the letter ‘E’, to such an extent that we cannot fit them into one DB
partition.</p> <ol start="3"><li><strong>Hash-Based Partitioning</strong>: In this scheme we take a hash of the object we are storing and based on
this hash we figure out the DB partition to which this object should go. In our case, we can take the
hash of the ‘FileID’ of the File object we are storing to determine the partition the file will be stored.
Our hashing function will randomly distribute objects into different partitions, e.g., our hashing
function can always map any ID to a number between <code>[1...256]</code>, and this number would be the partition
we will store our object.</li></ol> <p>This approach can still lead to overloaded partitions, which can be solved by using Consistent Hashing.</p> <h2 id="_10-caching"><a href="#_10-caching" class="header-anchor">#</a> 10. Caching</h2> <p>We can have two kinds of caches in our system. To deal with hot files/chunks we can introduce a cache
for Block storage. We can use an off-the-shelf solution like Memcached that can store whole chunks
with its respective IDs/Hashes and Block servers before hitting Block storage can quickly check if the
cache has desired chunk. Based on clients’ usage pattern we can determine how many cache servers we
need. A high-end commercial server can have 144GB of memory; one such server can cache 36K
chunks.</p> <p><strong>Which cache replacement policy would best fit our needs?</strong> When the cache is full, and we want to
replace a chunk with a newer/hotter chunk, how would we choose? Least Recently Used (LRU) can be
a reasonable policy for our system. Under this policy, we discard the least recently used chunk first.
Load Similarly, we can have a cache for Metadata DB.</p> <h2 id="_11-load-balancer-lb"><a href="#_11-load-balancer-lb" class="header-anchor">#</a> 11. Load Balancer (LB)</h2> <p>We can add the Load balancing layer at two places in our system:</p> <ol><li>Between Clients and Block servers</li> <li>Between Clients and Metadata servers.</li></ol> <p>Initially, a simple Round Robin approach can be adopted that distributes incoming requests equally among backend servers. This LB is simple to implement and does not introduce any overhead. Another benefit of this approach is if a server is dead, LB will take it out of the rotation and will stop sending any traffic to it. A problem with Round Robin LB is, it won’t
take server load into consideration. If a server is overloaded or slow, the LB will not stop sending new
requests to that server. To handle this, a more intelligent LB solution can be placed that periodically
queries backend server about their load and adjusts traffic based on that.</p> <h2 id="_12-security-permissions-and-file-sharing"><a href="#_12-security-permissions-and-file-sharing" class="header-anchor">#</a> 12. Security, Permissions and File Sharing</h2> <p>One of the primary concerns users will have while storing their files in the cloud is the privacy and
security of their data, especially since in our system users can share their files with other users or even
make them public to share it with everyone. To handle this, we will be storing the permissions of each
file in our metadata DB to reflect what files are visible or modifiable by any user.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/docs/kungfu/case-study/google-docs/" class="prev">
        Design Google Docs
      </a></span> <span class="next"><a href="/docs/kungfu/case-study/google-drive/">
        Design Google Drive
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----><!----></div></div>
    <script src="/docs/assets/js/app.bc5004d9.js" defer></script><script src="/docs/assets/js/2.105448cf.js" defer></script><script src="/docs/assets/js/49.05d7216f.js" defer></script><script src="/docs/assets/js/75.3c4cd36c.js" defer></script>
  </body>
</html>
