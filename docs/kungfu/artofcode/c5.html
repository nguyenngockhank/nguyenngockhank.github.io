<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>5. Knowing What to Comment | Nguyễn Khánk&#39;s Wiki</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="apple-touch-icon" sizes="180x180" href="../public/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../public/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../public/favicons/favicon-16x16.png">
    <link rel="manifest" href="../public/favicons/manifest.json">
    <link rel="mask-icon" href="../public/favicons/safari-pinned-tab.svg" color="#3a0839">
    <link rel="shortcut icon" href="../public/favicons/favicon.ico">
    <meta name="description" content="Wikipedia của tui">
    <meta name="msapplication-TileColor" content="#3a0839">
    <meta name="msapplication-config" content="../public/favicons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    
    <link rel="preload" href="/docs/assets/css/0.styles.fc9225da.css" as="style"><link rel="preload" href="/docs/assets/js/app.2b12affb.js" as="script"><link rel="preload" href="/docs/assets/js/2.8cfc2e4a.js" as="script"><link rel="preload" href="/docs/assets/js/239.29c9ad69.js" as="script"><link rel="preload" href="/docs/assets/js/29.f8e9c6ef.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.e7d140c0.js"><link rel="prefetch" href="/docs/assets/js/100.fc973f3d.js"><link rel="prefetch" href="/docs/assets/js/101.22915313.js"><link rel="prefetch" href="/docs/assets/js/102.80a8830c.js"><link rel="prefetch" href="/docs/assets/js/103.2b0b4ca6.js"><link rel="prefetch" href="/docs/assets/js/104.1ef65546.js"><link rel="prefetch" href="/docs/assets/js/105.8c1e8f5a.js"><link rel="prefetch" href="/docs/assets/js/106.c7af7995.js"><link rel="prefetch" href="/docs/assets/js/107.900e6f18.js"><link rel="prefetch" href="/docs/assets/js/108.bc940df1.js"><link rel="prefetch" href="/docs/assets/js/109.c70d9525.js"><link rel="prefetch" href="/docs/assets/js/11.91593e23.js"><link rel="prefetch" href="/docs/assets/js/110.93e8e861.js"><link rel="prefetch" href="/docs/assets/js/111.44ff7733.js"><link rel="prefetch" href="/docs/assets/js/112.2cedae60.js"><link rel="prefetch" href="/docs/assets/js/113.1db72874.js"><link rel="prefetch" href="/docs/assets/js/114.3367edff.js"><link rel="prefetch" href="/docs/assets/js/115.d08c48bf.js"><link rel="prefetch" href="/docs/assets/js/116.e2d64c99.js"><link rel="prefetch" href="/docs/assets/js/117.40a93f79.js"><link rel="prefetch" href="/docs/assets/js/118.1c6ec1ee.js"><link rel="prefetch" href="/docs/assets/js/119.b6cd8552.js"><link rel="prefetch" href="/docs/assets/js/12.8f590135.js"><link rel="prefetch" href="/docs/assets/js/120.08e8bef3.js"><link rel="prefetch" href="/docs/assets/js/121.fb4d971c.js"><link rel="prefetch" href="/docs/assets/js/122.254f26de.js"><link rel="prefetch" href="/docs/assets/js/123.3e3a99d7.js"><link rel="prefetch" href="/docs/assets/js/124.36c013fe.js"><link rel="prefetch" href="/docs/assets/js/125.f1eec8c0.js"><link rel="prefetch" href="/docs/assets/js/126.71485a31.js"><link rel="prefetch" href="/docs/assets/js/127.c03ceef4.js"><link rel="prefetch" href="/docs/assets/js/128.8d0bac7d.js"><link rel="prefetch" href="/docs/assets/js/129.295ef35e.js"><link rel="prefetch" href="/docs/assets/js/13.6cfe1733.js"><link rel="prefetch" href="/docs/assets/js/130.6fed932a.js"><link rel="prefetch" href="/docs/assets/js/131.9f74ff06.js"><link rel="prefetch" href="/docs/assets/js/132.b2e24d87.js"><link rel="prefetch" href="/docs/assets/js/133.8c91abda.js"><link rel="prefetch" href="/docs/assets/js/134.121ffdfb.js"><link rel="prefetch" href="/docs/assets/js/135.9ef4b47c.js"><link rel="prefetch" href="/docs/assets/js/136.fdacdc06.js"><link rel="prefetch" href="/docs/assets/js/137.b50272d7.js"><link rel="prefetch" href="/docs/assets/js/138.197b617b.js"><link rel="prefetch" href="/docs/assets/js/139.f9231507.js"><link rel="prefetch" href="/docs/assets/js/14.448d7e90.js"><link rel="prefetch" href="/docs/assets/js/140.e3bed087.js"><link rel="prefetch" href="/docs/assets/js/141.c1e60837.js"><link rel="prefetch" href="/docs/assets/js/142.a06c15ad.js"><link rel="prefetch" href="/docs/assets/js/143.24f9ba18.js"><link rel="prefetch" href="/docs/assets/js/144.f6b8c890.js"><link rel="prefetch" href="/docs/assets/js/145.c9022ab2.js"><link rel="prefetch" href="/docs/assets/js/146.9266a4b8.js"><link rel="prefetch" href="/docs/assets/js/147.11ed6812.js"><link rel="prefetch" href="/docs/assets/js/148.e072c6a1.js"><link rel="prefetch" href="/docs/assets/js/149.54cb75bb.js"><link rel="prefetch" href="/docs/assets/js/15.418dd5d4.js"><link rel="prefetch" href="/docs/assets/js/150.21f75096.js"><link rel="prefetch" href="/docs/assets/js/151.70f05c98.js"><link rel="prefetch" href="/docs/assets/js/152.a8025fbc.js"><link rel="prefetch" href="/docs/assets/js/153.034c838c.js"><link rel="prefetch" href="/docs/assets/js/154.2403ac26.js"><link rel="prefetch" href="/docs/assets/js/155.30e0937c.js"><link rel="prefetch" href="/docs/assets/js/156.5c298103.js"><link rel="prefetch" href="/docs/assets/js/157.bdcdbd82.js"><link rel="prefetch" href="/docs/assets/js/158.da6859d0.js"><link rel="prefetch" href="/docs/assets/js/159.7f268461.js"><link rel="prefetch" href="/docs/assets/js/16.40e2da9b.js"><link rel="prefetch" href="/docs/assets/js/160.c6f06402.js"><link rel="prefetch" href="/docs/assets/js/161.af4aecff.js"><link rel="prefetch" href="/docs/assets/js/162.1a3e0f73.js"><link rel="prefetch" href="/docs/assets/js/163.fec0059f.js"><link rel="prefetch" href="/docs/assets/js/164.6369246a.js"><link rel="prefetch" href="/docs/assets/js/165.e738a8c9.js"><link rel="prefetch" href="/docs/assets/js/166.672b2f4c.js"><link rel="prefetch" href="/docs/assets/js/167.5d759cca.js"><link rel="prefetch" href="/docs/assets/js/168.c33db839.js"><link rel="prefetch" href="/docs/assets/js/169.24c8decd.js"><link rel="prefetch" href="/docs/assets/js/17.e7fd31a3.js"><link rel="prefetch" href="/docs/assets/js/170.70bc07d3.js"><link rel="prefetch" href="/docs/assets/js/171.70410b7f.js"><link rel="prefetch" href="/docs/assets/js/172.5a6e36c3.js"><link rel="prefetch" href="/docs/assets/js/173.0af6f847.js"><link rel="prefetch" href="/docs/assets/js/174.62c19983.js"><link rel="prefetch" href="/docs/assets/js/175.4d4f18a3.js"><link rel="prefetch" href="/docs/assets/js/176.867209fb.js"><link rel="prefetch" href="/docs/assets/js/177.46442c0d.js"><link rel="prefetch" href="/docs/assets/js/178.64a8376e.js"><link rel="prefetch" href="/docs/assets/js/179.5bb89e49.js"><link rel="prefetch" href="/docs/assets/js/18.583e2703.js"><link rel="prefetch" href="/docs/assets/js/180.38c65385.js"><link rel="prefetch" href="/docs/assets/js/181.90507431.js"><link rel="prefetch" href="/docs/assets/js/182.40ccbf77.js"><link rel="prefetch" href="/docs/assets/js/183.e05372f6.js"><link rel="prefetch" href="/docs/assets/js/184.e62ef2fe.js"><link rel="prefetch" href="/docs/assets/js/185.c99ee78b.js"><link rel="prefetch" href="/docs/assets/js/186.2abbd510.js"><link rel="prefetch" href="/docs/assets/js/187.813fda2d.js"><link rel="prefetch" href="/docs/assets/js/188.07bcdfc8.js"><link rel="prefetch" href="/docs/assets/js/189.c75b9ade.js"><link rel="prefetch" href="/docs/assets/js/19.e0e60aae.js"><link rel="prefetch" href="/docs/assets/js/190.4af6998b.js"><link rel="prefetch" href="/docs/assets/js/191.15c8b8d1.js"><link rel="prefetch" href="/docs/assets/js/192.df2f121b.js"><link rel="prefetch" href="/docs/assets/js/193.f9c18223.js"><link rel="prefetch" href="/docs/assets/js/194.d38ea375.js"><link rel="prefetch" href="/docs/assets/js/195.578e86ab.js"><link rel="prefetch" href="/docs/assets/js/196.985adc36.js"><link rel="prefetch" href="/docs/assets/js/197.5b841518.js"><link rel="prefetch" href="/docs/assets/js/198.ffd32645.js"><link rel="prefetch" href="/docs/assets/js/199.df27905e.js"><link rel="prefetch" href="/docs/assets/js/20.ef531f85.js"><link rel="prefetch" href="/docs/assets/js/200.ff49b765.js"><link rel="prefetch" href="/docs/assets/js/201.81e39e80.js"><link rel="prefetch" href="/docs/assets/js/202.0fb6712a.js"><link rel="prefetch" href="/docs/assets/js/203.a45956e4.js"><link rel="prefetch" href="/docs/assets/js/204.fac76831.js"><link rel="prefetch" href="/docs/assets/js/205.450b75d2.js"><link rel="prefetch" href="/docs/assets/js/206.375f2688.js"><link rel="prefetch" href="/docs/assets/js/207.551332f4.js"><link rel="prefetch" href="/docs/assets/js/208.ab307032.js"><link rel="prefetch" href="/docs/assets/js/209.35797615.js"><link rel="prefetch" href="/docs/assets/js/21.dde9305b.js"><link rel="prefetch" href="/docs/assets/js/210.195da68c.js"><link rel="prefetch" href="/docs/assets/js/211.7121ff63.js"><link rel="prefetch" href="/docs/assets/js/212.3494ff87.js"><link rel="prefetch" href="/docs/assets/js/213.6bf70eb2.js"><link rel="prefetch" href="/docs/assets/js/214.8d456637.js"><link rel="prefetch" href="/docs/assets/js/215.c30ee21f.js"><link rel="prefetch" href="/docs/assets/js/216.e6a647af.js"><link rel="prefetch" href="/docs/assets/js/217.931e2999.js"><link rel="prefetch" href="/docs/assets/js/218.f2c2473b.js"><link rel="prefetch" href="/docs/assets/js/219.05b3cc84.js"><link rel="prefetch" href="/docs/assets/js/22.df5a33a3.js"><link rel="prefetch" href="/docs/assets/js/220.d6c95305.js"><link rel="prefetch" href="/docs/assets/js/221.fb0bf6e2.js"><link rel="prefetch" href="/docs/assets/js/222.29819ee9.js"><link rel="prefetch" href="/docs/assets/js/223.75fbdb6a.js"><link rel="prefetch" href="/docs/assets/js/224.3a8381d8.js"><link rel="prefetch" href="/docs/assets/js/225.ab7891d7.js"><link rel="prefetch" href="/docs/assets/js/226.1b4e74f2.js"><link rel="prefetch" href="/docs/assets/js/227.70c1b199.js"><link rel="prefetch" href="/docs/assets/js/228.d7e191dd.js"><link rel="prefetch" href="/docs/assets/js/229.60d0ad33.js"><link rel="prefetch" href="/docs/assets/js/23.1487b4d8.js"><link rel="prefetch" href="/docs/assets/js/230.fdb6e911.js"><link rel="prefetch" href="/docs/assets/js/231.a3032772.js"><link rel="prefetch" href="/docs/assets/js/232.aaba4fb3.js"><link rel="prefetch" href="/docs/assets/js/233.c355b440.js"><link rel="prefetch" href="/docs/assets/js/234.537c7740.js"><link rel="prefetch" href="/docs/assets/js/235.cb1ff27d.js"><link rel="prefetch" href="/docs/assets/js/236.3afc6b52.js"><link rel="prefetch" href="/docs/assets/js/237.ac2e9ebe.js"><link rel="prefetch" href="/docs/assets/js/238.d2a53e02.js"><link rel="prefetch" href="/docs/assets/js/24.22cc710e.js"><link rel="prefetch" href="/docs/assets/js/240.9b9868a9.js"><link rel="prefetch" href="/docs/assets/js/241.8b8d2505.js"><link rel="prefetch" href="/docs/assets/js/242.d01d5813.js"><link rel="prefetch" href="/docs/assets/js/243.6b4bf2fd.js"><link rel="prefetch" href="/docs/assets/js/244.8798b39d.js"><link rel="prefetch" href="/docs/assets/js/245.245ba782.js"><link rel="prefetch" href="/docs/assets/js/246.d93af4b6.js"><link rel="prefetch" href="/docs/assets/js/247.ce634b5f.js"><link rel="prefetch" href="/docs/assets/js/248.525eeb63.js"><link rel="prefetch" href="/docs/assets/js/249.20d695a3.js"><link rel="prefetch" href="/docs/assets/js/25.4b170c14.js"><link rel="prefetch" href="/docs/assets/js/250.ea999d53.js"><link rel="prefetch" href="/docs/assets/js/251.4095a0b2.js"><link rel="prefetch" href="/docs/assets/js/252.c2a67a33.js"><link rel="prefetch" href="/docs/assets/js/253.6512b69d.js"><link rel="prefetch" href="/docs/assets/js/254.1625e1e7.js"><link rel="prefetch" href="/docs/assets/js/255.fbc2d17f.js"><link rel="prefetch" href="/docs/assets/js/256.d9b3e02a.js"><link rel="prefetch" href="/docs/assets/js/257.211288e8.js"><link rel="prefetch" href="/docs/assets/js/258.7e6fbfda.js"><link rel="prefetch" href="/docs/assets/js/259.91293af0.js"><link rel="prefetch" href="/docs/assets/js/26.7d8a6a42.js"><link rel="prefetch" href="/docs/assets/js/260.195ddff3.js"><link rel="prefetch" href="/docs/assets/js/261.7d46ebb8.js"><link rel="prefetch" href="/docs/assets/js/262.5539eb48.js"><link rel="prefetch" href="/docs/assets/js/263.1103883b.js"><link rel="prefetch" href="/docs/assets/js/264.12ce7702.js"><link rel="prefetch" href="/docs/assets/js/265.1c51e2e1.js"><link rel="prefetch" href="/docs/assets/js/266.75559020.js"><link rel="prefetch" href="/docs/assets/js/267.8b2c639c.js"><link rel="prefetch" href="/docs/assets/js/268.351f8e67.js"><link rel="prefetch" href="/docs/assets/js/269.627834be.js"><link rel="prefetch" href="/docs/assets/js/27.920a6947.js"><link rel="prefetch" href="/docs/assets/js/270.55865d7c.js"><link rel="prefetch" href="/docs/assets/js/271.aa991568.js"><link rel="prefetch" href="/docs/assets/js/272.63e2a422.js"><link rel="prefetch" href="/docs/assets/js/273.738be2b5.js"><link rel="prefetch" href="/docs/assets/js/274.8dbc8e20.js"><link rel="prefetch" href="/docs/assets/js/275.fd068358.js"><link rel="prefetch" href="/docs/assets/js/276.7dcf2e56.js"><link rel="prefetch" href="/docs/assets/js/277.9c3e7bcb.js"><link rel="prefetch" href="/docs/assets/js/278.bfaf6de6.js"><link rel="prefetch" href="/docs/assets/js/279.0b7bf24c.js"><link rel="prefetch" href="/docs/assets/js/28.ab8ffd4f.js"><link rel="prefetch" href="/docs/assets/js/280.fc6e500a.js"><link rel="prefetch" href="/docs/assets/js/281.55947db7.js"><link rel="prefetch" href="/docs/assets/js/282.3d937c20.js"><link rel="prefetch" href="/docs/assets/js/283.f30d3162.js"><link rel="prefetch" href="/docs/assets/js/284.65faac57.js"><link rel="prefetch" href="/docs/assets/js/285.e21d52d1.js"><link rel="prefetch" href="/docs/assets/js/286.304d166c.js"><link rel="prefetch" href="/docs/assets/js/287.3a280ab5.js"><link rel="prefetch" href="/docs/assets/js/288.bec6178e.js"><link rel="prefetch" href="/docs/assets/js/289.f9cf9426.js"><link rel="prefetch" href="/docs/assets/js/290.895769e8.js"><link rel="prefetch" href="/docs/assets/js/291.9d6708ed.js"><link rel="prefetch" href="/docs/assets/js/292.49b245a6.js"><link rel="prefetch" href="/docs/assets/js/293.42a27525.js"><link rel="prefetch" href="/docs/assets/js/294.c4d898c9.js"><link rel="prefetch" href="/docs/assets/js/295.d2f4ee8d.js"><link rel="prefetch" href="/docs/assets/js/296.305cc090.js"><link rel="prefetch" href="/docs/assets/js/297.ebf2691d.js"><link rel="prefetch" href="/docs/assets/js/298.afeac8a9.js"><link rel="prefetch" href="/docs/assets/js/299.7e5f3ea9.js"><link rel="prefetch" href="/docs/assets/js/3.fb43cf67.js"><link rel="prefetch" href="/docs/assets/js/30.1d34daa4.js"><link rel="prefetch" href="/docs/assets/js/300.e44967ff.js"><link rel="prefetch" href="/docs/assets/js/301.eb5464d7.js"><link rel="prefetch" href="/docs/assets/js/302.1b255e70.js"><link rel="prefetch" href="/docs/assets/js/303.5a37bb2f.js"><link rel="prefetch" href="/docs/assets/js/304.7d6b0cc1.js"><link rel="prefetch" href="/docs/assets/js/305.f111db48.js"><link rel="prefetch" href="/docs/assets/js/306.fd22b4c1.js"><link rel="prefetch" href="/docs/assets/js/307.3d420fa7.js"><link rel="prefetch" href="/docs/assets/js/308.f0abcf55.js"><link rel="prefetch" href="/docs/assets/js/309.ba4562a9.js"><link rel="prefetch" href="/docs/assets/js/31.944aad29.js"><link rel="prefetch" href="/docs/assets/js/310.038b5c58.js"><link rel="prefetch" href="/docs/assets/js/311.22d1e8d2.js"><link rel="prefetch" href="/docs/assets/js/312.b22a3a68.js"><link rel="prefetch" href="/docs/assets/js/313.045a3dfd.js"><link rel="prefetch" href="/docs/assets/js/314.272b8d41.js"><link rel="prefetch" href="/docs/assets/js/315.afed13ca.js"><link rel="prefetch" href="/docs/assets/js/316.b8d609f5.js"><link rel="prefetch" href="/docs/assets/js/317.f8481cfb.js"><link rel="prefetch" href="/docs/assets/js/318.ef97c277.js"><link rel="prefetch" href="/docs/assets/js/319.368fba5b.js"><link rel="prefetch" href="/docs/assets/js/32.b6c20e97.js"><link rel="prefetch" href="/docs/assets/js/320.01de4079.js"><link rel="prefetch" href="/docs/assets/js/321.4181cf3e.js"><link rel="prefetch" href="/docs/assets/js/322.e11fef33.js"><link rel="prefetch" href="/docs/assets/js/323.9de583dc.js"><link rel="prefetch" href="/docs/assets/js/324.d72df4df.js"><link rel="prefetch" href="/docs/assets/js/325.e79b4fe0.js"><link rel="prefetch" href="/docs/assets/js/326.a4950913.js"><link rel="prefetch" href="/docs/assets/js/327.a2e12b14.js"><link rel="prefetch" href="/docs/assets/js/328.fd62513a.js"><link rel="prefetch" href="/docs/assets/js/329.6013dba1.js"><link rel="prefetch" href="/docs/assets/js/33.8dcf617e.js"><link rel="prefetch" href="/docs/assets/js/330.17d7ac56.js"><link rel="prefetch" href="/docs/assets/js/331.cd386733.js"><link rel="prefetch" href="/docs/assets/js/332.107c365b.js"><link rel="prefetch" href="/docs/assets/js/333.91067181.js"><link rel="prefetch" href="/docs/assets/js/334.e6eebc7c.js"><link rel="prefetch" href="/docs/assets/js/335.d9388df1.js"><link rel="prefetch" href="/docs/assets/js/336.a5c97a61.js"><link rel="prefetch" href="/docs/assets/js/337.4e63674b.js"><link rel="prefetch" href="/docs/assets/js/338.9568d206.js"><link rel="prefetch" href="/docs/assets/js/339.ca0e53c1.js"><link rel="prefetch" href="/docs/assets/js/34.7492334c.js"><link rel="prefetch" href="/docs/assets/js/340.cd59778c.js"><link rel="prefetch" href="/docs/assets/js/341.c620de19.js"><link rel="prefetch" href="/docs/assets/js/342.700ad62b.js"><link rel="prefetch" href="/docs/assets/js/343.c7e87e6e.js"><link rel="prefetch" href="/docs/assets/js/344.c5a20adb.js"><link rel="prefetch" href="/docs/assets/js/345.2f16a9c5.js"><link rel="prefetch" href="/docs/assets/js/346.8356b4ef.js"><link rel="prefetch" href="/docs/assets/js/347.814c8b54.js"><link rel="prefetch" href="/docs/assets/js/348.ce51d020.js"><link rel="prefetch" href="/docs/assets/js/349.46a5fef9.js"><link rel="prefetch" href="/docs/assets/js/35.975f441c.js"><link rel="prefetch" href="/docs/assets/js/350.c2016dc4.js"><link rel="prefetch" href="/docs/assets/js/351.7bece7af.js"><link rel="prefetch" href="/docs/assets/js/352.e1291214.js"><link rel="prefetch" href="/docs/assets/js/353.3e4a679a.js"><link rel="prefetch" href="/docs/assets/js/354.80cb25ad.js"><link rel="prefetch" href="/docs/assets/js/355.a9ee4d67.js"><link rel="prefetch" href="/docs/assets/js/356.9edb5039.js"><link rel="prefetch" href="/docs/assets/js/357.547f3ff5.js"><link rel="prefetch" href="/docs/assets/js/358.085e2bef.js"><link rel="prefetch" href="/docs/assets/js/359.5b2c50b0.js"><link rel="prefetch" href="/docs/assets/js/36.7b60ea9e.js"><link rel="prefetch" href="/docs/assets/js/360.f5a51114.js"><link rel="prefetch" href="/docs/assets/js/37.515b593a.js"><link rel="prefetch" href="/docs/assets/js/38.48f34569.js"><link rel="prefetch" href="/docs/assets/js/39.2c45a82f.js"><link rel="prefetch" href="/docs/assets/js/4.6950d4af.js"><link rel="prefetch" href="/docs/assets/js/40.cea57b08.js"><link rel="prefetch" href="/docs/assets/js/41.d6391e8a.js"><link rel="prefetch" href="/docs/assets/js/42.4cbb7ddb.js"><link rel="prefetch" href="/docs/assets/js/43.8494e278.js"><link rel="prefetch" href="/docs/assets/js/44.c7fb60e9.js"><link rel="prefetch" href="/docs/assets/js/45.e3554190.js"><link rel="prefetch" href="/docs/assets/js/46.ab28b34a.js"><link rel="prefetch" href="/docs/assets/js/47.9d744b47.js"><link rel="prefetch" href="/docs/assets/js/48.f6115c42.js"><link rel="prefetch" href="/docs/assets/js/49.2853f0ac.js"><link rel="prefetch" href="/docs/assets/js/5.812ac280.js"><link rel="prefetch" href="/docs/assets/js/50.dd5ccee9.js"><link rel="prefetch" href="/docs/assets/js/51.740ef678.js"><link rel="prefetch" href="/docs/assets/js/52.7f9cf59b.js"><link rel="prefetch" href="/docs/assets/js/53.416da4aa.js"><link rel="prefetch" href="/docs/assets/js/54.d0d086f2.js"><link rel="prefetch" href="/docs/assets/js/55.360ad3e0.js"><link rel="prefetch" href="/docs/assets/js/56.6566fc6f.js"><link rel="prefetch" href="/docs/assets/js/57.ef9c56c9.js"><link rel="prefetch" href="/docs/assets/js/58.fb5c4de3.js"><link rel="prefetch" href="/docs/assets/js/59.5b2db7b4.js"><link rel="prefetch" href="/docs/assets/js/6.bd0048f4.js"><link rel="prefetch" href="/docs/assets/js/60.a3ea1128.js"><link rel="prefetch" href="/docs/assets/js/61.2f021587.js"><link rel="prefetch" href="/docs/assets/js/62.9d570e73.js"><link rel="prefetch" href="/docs/assets/js/63.fe24e35d.js"><link rel="prefetch" href="/docs/assets/js/64.d751313e.js"><link rel="prefetch" href="/docs/assets/js/65.49f45f00.js"><link rel="prefetch" href="/docs/assets/js/66.e5049242.js"><link rel="prefetch" href="/docs/assets/js/67.3f3e46b8.js"><link rel="prefetch" href="/docs/assets/js/68.94728bfb.js"><link rel="prefetch" href="/docs/assets/js/69.ba604c9e.js"><link rel="prefetch" href="/docs/assets/js/7.dcc10f55.js"><link rel="prefetch" href="/docs/assets/js/70.39640e5a.js"><link rel="prefetch" href="/docs/assets/js/71.9bc1c0d6.js"><link rel="prefetch" href="/docs/assets/js/72.bba4979b.js"><link rel="prefetch" href="/docs/assets/js/73.0a89ac53.js"><link rel="prefetch" href="/docs/assets/js/74.67762f44.js"><link rel="prefetch" href="/docs/assets/js/75.fb6777d6.js"><link rel="prefetch" href="/docs/assets/js/76.dd47ddd4.js"><link rel="prefetch" href="/docs/assets/js/77.73757b53.js"><link rel="prefetch" href="/docs/assets/js/78.1e226fc7.js"><link rel="prefetch" href="/docs/assets/js/79.e33a4c20.js"><link rel="prefetch" href="/docs/assets/js/8.03966044.js"><link rel="prefetch" href="/docs/assets/js/80.0b5a8cbd.js"><link rel="prefetch" href="/docs/assets/js/81.9122f86e.js"><link rel="prefetch" href="/docs/assets/js/82.102728af.js"><link rel="prefetch" href="/docs/assets/js/83.66d6af57.js"><link rel="prefetch" href="/docs/assets/js/84.73ca1587.js"><link rel="prefetch" href="/docs/assets/js/85.40f99dcc.js"><link rel="prefetch" href="/docs/assets/js/86.7e2cf446.js"><link rel="prefetch" href="/docs/assets/js/87.142cec36.js"><link rel="prefetch" href="/docs/assets/js/88.4a23efb8.js"><link rel="prefetch" href="/docs/assets/js/89.e69fd30f.js"><link rel="prefetch" href="/docs/assets/js/9.2a21a4ab.js"><link rel="prefetch" href="/docs/assets/js/90.d091f3fe.js"><link rel="prefetch" href="/docs/assets/js/91.3390fe51.js"><link rel="prefetch" href="/docs/assets/js/92.6452706e.js"><link rel="prefetch" href="/docs/assets/js/93.291d8518.js"><link rel="prefetch" href="/docs/assets/js/94.551ab305.js"><link rel="prefetch" href="/docs/assets/js/95.24eae297.js"><link rel="prefetch" href="/docs/assets/js/96.4f4d40e1.js"><link rel="prefetch" href="/docs/assets/js/97.9fc634cd.js"><link rel="prefetch" href="/docs/assets/js/98.6a0a75b8.js"><link rel="prefetch" href="/docs/assets/js/99.a36f37c0.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.fc9225da.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><!----> <span class="site-name">Nguyễn Khánk's Wiki</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/architect/" class="nav-link">
  Architecture
</a></div><div class="nav-item"><a href="/docs/kungfu/letsgo.html" class="nav-link">
  Kungfu
</a></div><div class="nav-item"><a href="https://nguyenngockhank.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Home
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/architect/" class="nav-link">
  Architecture
</a></div><div class="nav-item"><a href="/docs/kungfu/letsgo.html" class="nav-link">
  Kungfu
</a></div><div class="nav-item"><a href="https://nguyenngockhank.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Home
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>The Art of Readable Code</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/kungfu/artofcode/c1.html" class="sidebar-link">1. Code Should Be Easy to Understand</a></li><li><a href="/docs/kungfu/artofcode/c2.html" class="sidebar-link">2. Packing Information into Names</a></li><li><a href="/docs/kungfu/artofcode/c3.html" class="sidebar-link">3. Names That Can’t Be Misconstrued</a></li><li><a href="/docs/kungfu/artofcode/c4.html" class="sidebar-link">4. Aesthetics</a></li><li><a href="/docs/kungfu/artofcode/c5.html" aria-current="page" class="active sidebar-link">5. Knowing What to Comment</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/kungfu/artofcode/c5.html#what-not-to-comment" class="sidebar-link">What NOT to Comment</a></li><li class="sidebar-sub-header"><a href="/docs/kungfu/artofcode/c5.html#recording-your-thoughts" class="sidebar-link">Recording Your Thoughts</a></li><li class="sidebar-sub-header"><a href="/docs/kungfu/artofcode/c5.html#put-yourself-in-the-reader-s-shoes" class="sidebar-link">Put Yourself in the Reader’s Shoes</a></li><li class="sidebar-sub-header"><a href="/docs/kungfu/artofcode/c5.html#final-thoughts-getting-over-writer-s-block" class="sidebar-link">Final Thoughts—Getting Over Writer’s Block</a></li><li class="sidebar-sub-header"><a href="/docs/kungfu/artofcode/c5.html#summary" class="sidebar-link">Summary</a></li></ul></li><li><a href="/docs/kungfu/artofcode/c6.html" class="sidebar-link">6. Making Comments Precise and Compact</a></li><li><a href="/docs/kungfu/artofcode/c7.html" class="sidebar-link">7. Making Control Flow Easy to Read</a></li><li><a href="/docs/kungfu/artofcode/c8.html" class="sidebar-link">8. Breaking Down Giant Expressions</a></li><li><a href="/docs/kungfu/artofcode/c9.html" class="sidebar-link">9. Variables and Readability</a></li><li><a href="/docs/kungfu/artofcode/c10.html" class="sidebar-link">10. Extracting Unrelated Subproblems</a></li><li><a href="/docs/kungfu/artofcode/c11.html" class="sidebar-link">11. One Task at a Time</a></li><li><a href="/docs/kungfu/artofcode/c12.html" class="sidebar-link">12. Turning Thoughts into Code</a></li><li><a href="/docs/kungfu/artofcode/c13.html" class="sidebar-link">13. Writing Less Code</a></li><li><a href="/docs/kungfu/artofcode/c14.html" class="sidebar-link">14. Testing and Readability</a></li><li><a href="/docs/kungfu/artofcode/c15.html" class="sidebar-link">15. Designing and Implementing a “Minute/Hour Counter”</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Clean Code</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>A Philosophy of Software Design</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Building Microservices</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>97 Things Every Programmer Should Know</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>NoSql Distilled</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Others</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_5-knowing-what-to-comment"><a href="#_5-knowing-what-to-comment" class="header-anchor">#</a> 5. Knowing What to Comment</h1> <p>The goal of this chapter is to help you realize what you should be commenting. You might think the purpose of commenting is to “explain what the code does,” but that is just a small part of it.</p> <div class="custom-block tip"><p class="custom-block-title">K E Y I D E A</p> <p>The purpose of commenting is to help the reader know as much as the writer did.</p></div> <p>When you’re writing code, you have a lot of valuable information in your head. When other
people read your code, that information is lost—all they have is the code in front of them.</p> <p>In this chapter, we’ll show you many examples of when to write down that information in
your head. We’ve left out the more mundane points about commenting; instead, we’ve focused
on the more interesting and “underserved” aspects of commenting.</p> <p>We’ve organized the chapter into the following areas:</p> <ul><li>Knowing what <em>not</em> to comment</li> <li>Recording your thoughts as you code</li> <li>Putting yourself in the readers’ shoes, to imagine what they’ll need to know</li></ul> <h2 id="what-not-to-comment"><a href="#what-not-to-comment" class="header-anchor">#</a> What NOT to Comment</h2> <p>Reading a comment takes time away from reading the actual code, and each comment takes up space on the screen. That is, it better be worth it. So where do you draw the line between a worthless comment and a good one?</p> <p>All of the comments in this code are worthless:</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token comment">// The class definition for Account</span>
<span class="token keyword">class</span> <span class="token class-name">Account</span> <span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token comment">// Constructor</span>
    <span class="token function">Account</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Set the profit member to a new value</span>
    <span class="token keyword">void</span> <span class="token function">SetProfit</span><span class="token punctuation">(</span><span class="token keyword">double</span> profit<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Return the profit from this Account</span>
    <span class="token keyword">double</span> <span class="token function">GetProfit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>These comments are worthless because they don’t provide any new information or help the reader understand the code better.</p> <div class="custom-block tip"><p class="custom-block-title">K E Y I D E A</p> <p>Don’t comment on facts that can be derived quickly from the code itself.</p></div> <p>The word “quickly” is an important distinction, though. Consider the comment for this Python code:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token comment"># remove everything after the second '*'</span>
name <span class="token operator">=</span> <span class="token string">'*'</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>line<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">'*'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>Technically, this comment doesn’t present any “new information” either. If you look at the code itself, you’ll eventually figure out what it’s doing. But for most programmers, reading the commented code is much faster than understanding the code without it.</p> <h3 id="don-t-comment-just-for-the-sake-of-commenting"><a href="#don-t-comment-just-for-the-sake-of-commenting" class="header-anchor">#</a> <strong>Don’t Comment Just for the Sake of Commenting</strong></h3> <p>Some professors require their students to have a comment for each function in their homework code. As a result, some programmers feel guilty about leaving a function naked without comments and end up rewriting the function’s name and arguments in sentence form:</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token comment">// Find the Node in the given subtree, with the given name, using the given depth.</span>
Node<span class="token operator">*</span> <span class="token function">FindNodeInSubtree</span><span class="token punctuation">(</span>Node<span class="token operator">*</span> subtree<span class="token punctuation">,</span> string name<span class="token punctuation">,</span> <span class="token keyword">int</span> depth<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>This one falls into the “worthless comments” category—the function’s declaration and the comment are virtually the same. This comment should be either removed or improved.</p> <p>If you want to have a comment here, it might as well elaborate on more important details:</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token comment">// Find a Node with the given 'name' or return NULL.</span>
<span class="token comment">// If depth &lt;= 0, only 'subtree' is inspected.</span>
<span class="token comment">// If depth == N, only 'subtree' and N levels below are inspected.</span>
Node<span class="token operator">*</span> <span class="token function">FindNodeInSubtree</span><span class="token punctuation">(</span>Node<span class="token operator">*</span> subtree<span class="token punctuation">,</span> string name<span class="token punctuation">,</span> <span class="token keyword">int</span> depth<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="don-t-comment-bad-names-fix-the-names-instead"><a href="#don-t-comment-bad-names-fix-the-names-instead" class="header-anchor">#</a> <strong>Don’t Comment Bad Names—Fix the Names Instead</strong></h3> <p>A comment shouldn’t have to make up for a bad name. For example, here’s an innocent-looking comment for a function named <code>CleanReply()</code>:</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token comment">// Enforce limits on the Reply as stated in the Request,</span>
<span class="token comment">// such as the number of items returned, or total byte size, etc.</span>
<span class="token keyword">void</span> <span class="token function">CleanReply</span><span class="token punctuation">(</span>Request request<span class="token punctuation">,</span> Reply reply<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Most of the comment is simply explaining what “clean” means. Instead, the phrase “enforce limits” should be moved into the function name:</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token comment">// Make sure 'reply' meets the count/byte/etc. limits from the 'request'</span>
<span class="token keyword">void</span> <span class="token function">EnforceLimitsFromRequest</span> <span class="token punctuation">(</span>Request request<span class="token punctuation">,</span> Reply reply<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>This function name is more “self-documenting.” A good name is better than a good comment because it will be seen everywhere the function is used.</p> <p>Here is another example of a comment for a poorly named function:</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token comment">// Releases the handle for this key. This doesn't modify the actual registry.</span>
<span class="token keyword">void</span> <span class="token function">DeleteRegistry</span><span class="token punctuation">(</span>RegistryKey<span class="token operator">*</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>The name <code>DeleteRegistry()</code> sounds like a dangerous function (it <em>deletes</em> the registry?!). The comment “This doesn’t modify the actual registry” is trying to clear up the confusion.</p> <p>Instead, we could use a more self-documenting name like:</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">void</span> <span class="token function">ReleaseRegistryHandle</span> <span class="token punctuation">(</span>RegistryKey<span class="token operator">*</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>In general, you don’t want “crutch comments”—comments that are trying to make up for the unreadability of the code. Coders often state this rule as <strong>good code &gt; bad code + good comments.</strong></p> <h2 id="recording-your-thoughts"><a href="#recording-your-thoughts" class="header-anchor">#</a> Recording Your Thoughts</h2> <p>Now that you know what <em>not</em> to comment, let’s discuss what <em>should</em> be commented (but often isn’t).</p> <p>A lot of good comments can come out of simply “recording your thoughts”—that is, the important thoughts you had as you were writing the code.</p> <h3 id="include-director-commentary"><a href="#include-director-commentary" class="header-anchor">#</a> <strong>Include “Director Commentary”</strong></h3> <p>Movies often have a “director commentary” track where the filmmakers give their insights and tell stories to help you understand how the film was made. Similarly, you should include comments to record valuable insights about the code.</p> <p>Here’s an example:</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token comment">// Surprisingly, a binary tree was 40% faster than a hash table for this data.</span>
<span class="token comment">// The cost of computing a hash was more than the left/right comparisons.</span>
</code></pre></div><p>This comment teaches the reader something and stops any would-be optimizer from wasting their time.</p> <p>Here’s another example:</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token comment">// This heuristic might miss a few words. That's OK; solving this 100% is hard.</span>
</code></pre></div><p>Without this comment, the reader might think there’s a bug and might waste time trying to come up with test cases that make it fail, or go off and try to fix the bug.</p> <p>A comment can also explain why the code isn’t in great shape:</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token comment">// This class is getting messy. Maybe we should create a 'ResourceNode' subclass to</span>
<span class="token comment">// help organize things.</span>
</code></pre></div><p>This comment acknowledges that the code is messy but also encourages the next person to fix it (with specifics on how to get started). Without the comment, many readers would be intimidated by the messy code and afraid to touch it.</p> <h3 id="comment-the-flaws-in-your-code"><a href="#comment-the-flaws-in-your-code" class="header-anchor">#</a> <strong>Comment the Flaws in Your Code</strong></h3> <p>Code is constantly evolving and is bound to have flaws along the way. Don’t be embarrassed to document those flaws. For example, noting when improvements should be made:</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token comment">// TODO: use a faster algorithm</span>
</code></pre></div><p>or when code is incomplete:</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token comment">// TODO(dustin): handle other image formats besides JPEG</span>
</code></pre></div><p>There are a number of markers that have become popular among programmers:</p> <div class="language- extra-class"><pre class="language-text"><code>Marker Typical meaning
TODO: Stuff I haven’t gotten around to yet
FIXME: Known-broken code here
HACK: Admittedly inelegant solution to a problem
XXX: Danger! major problem here
</code></pre></div><p>Your team might have specific conventions for when/if to use these markers. For example, <code>TODO</code>: might be reserved for show-stopping issues. If so, then for more minor flaws you could use something like todo: (lower case) or <code>maybe-later</code>: instead.</p> <p>The important thing is that you should always feel free to comment on your thoughts about how the code should change in the future. Comments like these give readers valuable insight into the quality and state of the code and might even give them some direction on how to improve it.</p> <h3 id="comment-on-your-constants"><a href="#comment-on-your-constants" class="header-anchor">#</a> <strong>Comment on Your Constants</strong></h3> <p>When defining a constant, there is often a “story” for what that constant does or why it has that specific value. For example, you might see this constant in your code:</p> <div class="language-py extra-class"><pre class="language-py"><code>NUM_THREADS <span class="token operator">=</span> <span class="token number">8</span>
</code></pre></div><p>It may not seem like this line needs a comment, but it’s likely that the programmer who chose it knows more about it:</p> <div class="language-py extra-class"><pre class="language-py"><code>NUM_THREADS <span class="token operator">=</span> <span class="token number">8</span> <span class="token comment"># as long as it's &gt;= 2 * num_processors, that's good enough.</span>
</code></pre></div><p>Now the person reading the code has some guidance on how to adjust that value (e.g., setting it to 1 is probably too low, and setting it to 50 is overkill).</p> <p>Or sometimes the exact value of a constant isn’t important at all. A comment to this effect is still useful:</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token comment">// Impose a reasonable limit - no human can read that much anyway.</span>
<span class="token keyword">const</span> <span class="token keyword">int</span> MAX_RSS_SUBSCRIPTIONS <span class="token operator">=</span> <span class="token number">1000</span><span class="token punctuation">;</span>
</code></pre></div><p>Sometimes it’s a value that’s been highly tuned, and probably shouldn’t be adjusted much:</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code>image_quality <span class="token operator">=</span> <span class="token number">0.72</span><span class="token punctuation">;</span> <span class="token comment">// users thought 0.72 gave the best size/quality tradeoff</span>
</code></pre></div><p>In all these examples, you might not have thought to add comments, but they’re quite helpful.</p> <p>There are some constants that don’t need a comment, because their name is clear enough (e.g., <code>SECONDS_PER_DAY</code>). But in our experience, most constants could be improved by adding a comment. It’s just a matter of jotting down what you were thinking about when you decided on that constant’s value.</p> <h2 id="put-yourself-in-the-reader-s-shoes"><a href="#put-yourself-in-the-reader-s-shoes" class="header-anchor">#</a> Put Yourself in the Reader’s Shoes</h2> <p>A general technique we use in this book is to <strong>imagine what your code looks like to an outsider</strong> —someone who isn’t as intimately familiar with your project as you are. This technique is especially useful to help you recognize what needs commenting.</p> <h3 id="anticipating-likely-questions"><a href="#anticipating-likely-questions" class="header-anchor">#</a> <strong>Anticipating Likely Questions</strong></h3> <p>When someone else reads your code, there are parts likely to make them think, <em>Huh? What’s this all about?</em> Your job is to comment those parts.</p> <p>For example, take a look at the definition of <code>Clear()</code>:</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">struct</span> <span class="token class-name">Recorder</span> <span class="token punctuation">{</span>
    vector<span class="token operator">&lt;</span><span class="token keyword">float</span><span class="token operator">&gt;</span> data<span class="token punctuation">;</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token keyword">void</span> <span class="token function">Clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        vector<span class="token operator">&lt;</span><span class="token keyword">float</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">swap</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Huh? Why not just data.clear()?</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>When most C++ programmers see this code, they think, <em>Why didn’t he just do data.clear() instead of swapping with an empty vector?</em> Well, it turns out that this is the only way to force a vector to truly relinquish its memory to the memory allocator. It’s a C++ detail that isn’t well known.</p> <p>The bottom line is that it should be commented:</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token comment">// Force vector to relinquish its memory (look up &quot;STL swap trick&quot;)</span>
vector<span class="token operator">&lt;</span><span class="token keyword">float</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">swap</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="advertising-likely-pitfalls"><a href="#advertising-likely-pitfalls" class="header-anchor">#</a> <strong>Advertising Likely Pitfalls</strong></h3> <p>When documenting a function or class, a good question to ask yourself is, <em>What is surprising about this code? How might it be misused?</em> Basically, you want to “think ahead” and anticipate the problems that people might run into when using your code.</p> <p>For example, suppose you wrote a function that sends an email to a given user:</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">void</span> <span class="token function">SendEmail</span><span class="token punctuation">(</span>string to<span class="token punctuation">,</span> string subject<span class="token punctuation">,</span> string body<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>The implementation of this function involves connecting to an external email service, which might take up to a whole second, or possibly longer. Someone who is writing a web application might not realize this and mistakenly call this function while handling an HTTP request. (Doing this would cause their web application to “hang” if the email service is down.)</p> <p>To prevent this likely mishap, you should comment on this “implementation detail”:</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token comment">// Calls an external service to deliver email. (Times out after 1 minute.)</span>
<span class="token keyword">void</span> <span class="token function">SendEmail</span><span class="token punctuation">(</span>string to<span class="token punctuation">,</span> string subject<span class="token punctuation">,</span> string body<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Here is another example: suppose you have a <code>FixBrokenHtml()</code> function that attempts to rewrite broken HTML by inserting missing closing tags and the like:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">def</span> <span class="token function">FixBrokenHtml</span><span class="token punctuation">(</span>html<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre></div><p>The function works great, except for the caveat that its running time blows up when there are deeply nested and unmatched tags. For nasty HTML inputs, this function could take <em>minutes</em> to execute.</p> <p>Rather than let the user discover this later on his own, it’s better to announce this upfront:</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token comment">// Runtime is O(number_tags * average_tag_depth), so watch out for badly nested inputs.</span>
def <span class="token function">FixBrokenHtml</span><span class="token punctuation">(</span>html<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre></div><h3 id="big-picture-comments"><a href="#big-picture-comments" class="header-anchor">#</a> <strong>“Big Picture” Comments</strong></h3> <p>One of the hardest things for a new team member to understand is the “big picture” — how classes interact, how data flows through the whole system, and where the entry points are.</p> <p>The person who designed the system often forgets to comment about this stuff because he’s so intimately involved with it.</p> <p>Consider this thought experiment: <strong>someone new just joined your team, she’s sitting next to you, and you need to get her familiar with the codebase.</strong></p> <p>As you’re giving her a tour of the codebase, you might point out certain files or classes and say things like:</p> <ul><li>“This is the glue code between our business logic and the database. None of the application code should use this directly.”</li> <li>“This class looks complicated, but it’s really just a smart cache. It doesn’t know anything about the rest of the system.”</li></ul> <p>After a minute of casual conversation, your new team member will know much more than she would from reading the source by herself.</p> <p><strong>This is exactly the type of information that should be included as high-level comments.</strong></p> <p>Here’s a simple example of a file-level comment:</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token comment">// This file contains helper functions that provide a more convenient interface to our</span>
<span class="token comment">// file system. It handles file permissions and other nitty-gritty details.</span>
</code></pre></div><p>Don’t get overwhelmed by the thought that you have to write extensive, formal documentation. <strong>A few well-chosen sentences are better than nothing at all.</strong></p> <h3 id="summary-comments"><a href="#summary-comments" class="header-anchor">#</a> <strong>Summary Comments</strong></h3> <p>Even deep inside a function, it’s a good idea to comment on the “bigger picture.” Here’s an example of a comment that neatly summarizes the low-level code below it:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token comment"># Find all the items that customers purchased for themselves.</span>
<span class="token keyword">for</span> customer_id <span class="token keyword">in</span> all_customers<span class="token punctuation">:</span>
    <span class="token keyword">for</span> sale <span class="token keyword">in</span> all_sales<span class="token punctuation">[</span>customer_id<span class="token punctuation">]</span><span class="token punctuation">.</span>sales<span class="token punctuation">:</span>
        <span class="token keyword">if</span> sale<span class="token punctuation">.</span>recipient <span class="token operator">==</span> customer_id<span class="token punctuation">:</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre></div><p>Without this comment, reading each line of code is a bit of a mystery. (“I see we’re iterating through all_customers ... but what for?”)</p> <p>It’s especially helpful to have these summary comments in longer functions where there are a few large “chunks” inside:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">def</span> <span class="token function">GenerateUserReport</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># Acquire a lock for this user</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

    <span class="token comment"># Read user's info from the database</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

    <span class="token comment"># Write info to a file</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

    <span class="token comment"># Release the lock for this user</span>
</code></pre></div><p>These comments also act as a bulleted summary of what the function does, so the reader can get the gist of what the function does before diving into details. (If these chunks are easily separable, you might just make them functions of their own. As we mentioned before, good code is better than bad code with good comments.)</p> <div class="custom-block tip"><p class="custom-block-title">SHOULD YOU COMMENT THE WHAT, THE WHY, OR THE HOW?</p> <p>You may have heard advice like, “<em>Comment the why, not the what (or the how).</em>” Although catchy, we feel these statements are too simplistic and mean different things to different people.</p> <p>Our advice is to do whatever helps the reader understand the code more easily. This may involve commenting the what , the how , or the why (or all three).</p></div> <h2 id="final-thoughts-getting-over-writer-s-block"><a href="#final-thoughts-getting-over-writer-s-block" class="header-anchor">#</a> Final Thoughts—Getting Over Writer’s Block</h2> <p>A lot of coders don’t like to write comments because it feels like a lot of work to write a good one. When writers have this sort of “writer’s block,” the best solution is to just start writing.</p> <p>So the next time you’re hesitating to write a comment, just go ahead and comment what you’re thinking, however half-baked it may be.</p> <p>For example, suppose you’re working on a function and think to yourself, <em>Oh crap, this stuff will get tricky if there are ever duplicates in this list.</em> Just write that down:</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token comment">// Oh crap, this stuff will get tricky if there are ever duplicates in this list.</span>
</code></pre></div><p>See, was that so hard? It’s actually not that bad of a comment—certainly better than nothing.</p> <p>The language is a little vague though. To fix it, we can just go through each phrase and replace it with something more specific:</p> <ul><li>By “oh crap,” you really mean “Careful: this is something to watch out for.”</li> <li>By “this stuff,” you mean “the code that’s handling this input.”</li> <li>By “will get tricky,” you mean “will be hard to implement.”</li></ul> <p>The new comment might be:</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token comment">// Careful: this code doesn't handle duplicates in the list (because that's hard to do)</span>
</code></pre></div><p>Notice that we’ve broken down the task of writing a comment into these simpler steps:</p> <ol><li>Write down whatever comment is on your mind.</li> <li>Read the comment, and see what (if anything) needs to be improved.</li> <li>Make improvements.</li></ol> <p>As you comment more often, you’ll find that the quality of comments from step 1 gets better and better and eventually might not need fixing at all. And by commenting early and often, you avoid the unpleasant situation of needing to write a bunch of comments at the end.</p> <h2 id="summary"><a href="#summary" class="header-anchor">#</a> Summary</h2> <p>The purpose of a comment is to help the reader know what the writer knew when writing the code. This whole chapter is about realizing all the not-so-obvious nuggets of information you have about the code and writing those down.</p> <p>What <em>not</em> to comment:</p> <ul><li>Facts that can be quickly derived from the code itself.</li> <li>“Crutch comments” that make up for bad code (such as a bad function name) — fix the code instead.</li></ul> <p>Thoughts you should be recording include:</p> <ul><li>Insights about why code is one way and not another (“director commentary”).</li> <li>Flaws in your code, by using markers like <code>TODO:</code> or <code>XXX:</code>.</li> <li>The “story” for how a constant got its value.</li></ul> <p>Put yourself in the reader’s shoes:</p> <ul><li>Anticipate which parts of your code will make readers say “Huh?” and comment those.</li> <li>Document any surprising behavior an average reader wouldn’t expect.</li> <li>Use “big picture” comments at the file/class level to explain how all the pieces fit together.</li> <li>Summarize blocks of code with comments so that the reader doesn’t get lost in the details.</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/docs/kungfu/artofcode/c4.html" class="prev">
        4. Aesthetics
      </a></span> <span class="next"><a href="/docs/kungfu/artofcode/c6.html">
        6. Making Comments Precise and Compact
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----><!----></div></div>
    <script src="/docs/assets/js/app.2b12affb.js" defer></script><script src="/docs/assets/js/2.8cfc2e4a.js" defer></script><script src="/docs/assets/js/239.29c9ad69.js" defer></script><script src="/docs/assets/js/29.f8e9c6ef.js" defer></script>
  </body>
</html>
