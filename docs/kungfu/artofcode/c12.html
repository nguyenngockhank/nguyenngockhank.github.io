<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>12. Turning Thoughts into Code | Nguyễn Khánk&#39;s Wiki</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="apple-touch-icon" sizes="180x180" href="../public/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../public/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../public/favicons/favicon-16x16.png">
    <link rel="manifest" href="../public/favicons/manifest.json">
    <link rel="mask-icon" href="../public/favicons/safari-pinned-tab.svg" color="#3a0839">
    <link rel="shortcut icon" href="../public/favicons/favicon.ico">
    <meta name="description" content="Wikipedia của tui">
    <meta name="msapplication-TileColor" content="#3a0839">
    <meta name="msapplication-config" content="../public/favicons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    
    <link rel="preload" href="/docs/assets/css/0.styles.5d974432.css" as="style"><link rel="preload" href="/docs/assets/js/app.c1419c2e.js" as="script"><link rel="preload" href="/docs/assets/js/2.0631070b.js" as="script"><link rel="preload" href="/docs/assets/js/230.ab0b8597.js" as="script"><link rel="preload" href="/docs/assets/js/29.9e31a33a.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.2209d5f8.js"><link rel="prefetch" href="/docs/assets/js/100.66292609.js"><link rel="prefetch" href="/docs/assets/js/101.528403ff.js"><link rel="prefetch" href="/docs/assets/js/102.a39e539c.js"><link rel="prefetch" href="/docs/assets/js/103.f6f41453.js"><link rel="prefetch" href="/docs/assets/js/104.704c7f52.js"><link rel="prefetch" href="/docs/assets/js/105.ca8acaab.js"><link rel="prefetch" href="/docs/assets/js/106.ff5700fd.js"><link rel="prefetch" href="/docs/assets/js/107.f30fdfbd.js"><link rel="prefetch" href="/docs/assets/js/108.0b10e638.js"><link rel="prefetch" href="/docs/assets/js/109.9384e67f.js"><link rel="prefetch" href="/docs/assets/js/11.d957f018.js"><link rel="prefetch" href="/docs/assets/js/110.6b9ae74f.js"><link rel="prefetch" href="/docs/assets/js/111.1e44f2a0.js"><link rel="prefetch" href="/docs/assets/js/112.12504359.js"><link rel="prefetch" href="/docs/assets/js/113.52c9cf20.js"><link rel="prefetch" href="/docs/assets/js/114.58e67f33.js"><link rel="prefetch" href="/docs/assets/js/115.3426a51b.js"><link rel="prefetch" href="/docs/assets/js/116.1a9a4c57.js"><link rel="prefetch" href="/docs/assets/js/117.279d3665.js"><link rel="prefetch" href="/docs/assets/js/118.9ff63e65.js"><link rel="prefetch" href="/docs/assets/js/119.4a599115.js"><link rel="prefetch" href="/docs/assets/js/12.92d7b968.js"><link rel="prefetch" href="/docs/assets/js/120.d700baf1.js"><link rel="prefetch" href="/docs/assets/js/121.2876291d.js"><link rel="prefetch" href="/docs/assets/js/122.c29818a0.js"><link rel="prefetch" href="/docs/assets/js/123.5dca65e2.js"><link rel="prefetch" href="/docs/assets/js/124.e9371457.js"><link rel="prefetch" href="/docs/assets/js/125.67e61d62.js"><link rel="prefetch" href="/docs/assets/js/126.5921e8c3.js"><link rel="prefetch" href="/docs/assets/js/127.41691d60.js"><link rel="prefetch" href="/docs/assets/js/128.50429607.js"><link rel="prefetch" href="/docs/assets/js/129.b36d3fcf.js"><link rel="prefetch" href="/docs/assets/js/13.33891f7b.js"><link rel="prefetch" href="/docs/assets/js/130.3ab5d356.js"><link rel="prefetch" href="/docs/assets/js/131.c492ab77.js"><link rel="prefetch" href="/docs/assets/js/132.cdffe102.js"><link rel="prefetch" href="/docs/assets/js/133.b8ddabfe.js"><link rel="prefetch" href="/docs/assets/js/134.b620b9d4.js"><link rel="prefetch" href="/docs/assets/js/135.319d46ae.js"><link rel="prefetch" href="/docs/assets/js/136.ad49e98a.js"><link rel="prefetch" href="/docs/assets/js/137.6c08b95a.js"><link rel="prefetch" href="/docs/assets/js/138.749f3bd8.js"><link rel="prefetch" href="/docs/assets/js/139.b47ccbe5.js"><link rel="prefetch" href="/docs/assets/js/14.07679cb7.js"><link rel="prefetch" href="/docs/assets/js/140.5312ba60.js"><link rel="prefetch" href="/docs/assets/js/141.1408bb95.js"><link rel="prefetch" href="/docs/assets/js/142.7bf3cf9e.js"><link rel="prefetch" href="/docs/assets/js/143.7217628b.js"><link rel="prefetch" href="/docs/assets/js/144.a7d93a0b.js"><link rel="prefetch" href="/docs/assets/js/145.c39216ff.js"><link rel="prefetch" href="/docs/assets/js/146.97697718.js"><link rel="prefetch" href="/docs/assets/js/147.5aa792cc.js"><link rel="prefetch" href="/docs/assets/js/148.20064994.js"><link rel="prefetch" href="/docs/assets/js/149.c3741c9e.js"><link rel="prefetch" href="/docs/assets/js/15.900e8e52.js"><link rel="prefetch" href="/docs/assets/js/150.0a15016f.js"><link rel="prefetch" href="/docs/assets/js/151.93f93478.js"><link rel="prefetch" href="/docs/assets/js/152.27901f63.js"><link rel="prefetch" href="/docs/assets/js/153.a2ee3001.js"><link rel="prefetch" href="/docs/assets/js/154.0ad769a7.js"><link rel="prefetch" href="/docs/assets/js/155.122ec937.js"><link rel="prefetch" href="/docs/assets/js/156.dc8c2784.js"><link rel="prefetch" href="/docs/assets/js/157.dadc3a73.js"><link rel="prefetch" href="/docs/assets/js/158.f1b18e58.js"><link rel="prefetch" href="/docs/assets/js/159.345ae097.js"><link rel="prefetch" href="/docs/assets/js/16.d847cafd.js"><link rel="prefetch" href="/docs/assets/js/160.48bb50b7.js"><link rel="prefetch" href="/docs/assets/js/161.41f7c5fd.js"><link rel="prefetch" href="/docs/assets/js/162.c49506b7.js"><link rel="prefetch" href="/docs/assets/js/163.73d9030f.js"><link rel="prefetch" href="/docs/assets/js/164.b3de694e.js"><link rel="prefetch" href="/docs/assets/js/165.fbcc3898.js"><link rel="prefetch" href="/docs/assets/js/166.ceeff642.js"><link rel="prefetch" href="/docs/assets/js/167.93d4b29d.js"><link rel="prefetch" href="/docs/assets/js/168.6ea54abc.js"><link rel="prefetch" href="/docs/assets/js/169.d31eb302.js"><link rel="prefetch" href="/docs/assets/js/17.bcf6bc1c.js"><link rel="prefetch" href="/docs/assets/js/170.bf54ded9.js"><link rel="prefetch" href="/docs/assets/js/171.74673a4b.js"><link rel="prefetch" href="/docs/assets/js/172.0473f907.js"><link rel="prefetch" href="/docs/assets/js/173.a6600c37.js"><link rel="prefetch" href="/docs/assets/js/174.45130bdf.js"><link rel="prefetch" href="/docs/assets/js/175.fab02b59.js"><link rel="prefetch" href="/docs/assets/js/176.ccae12ea.js"><link rel="prefetch" href="/docs/assets/js/177.d0e1556b.js"><link rel="prefetch" href="/docs/assets/js/178.3b85d348.js"><link rel="prefetch" href="/docs/assets/js/179.c420c4ab.js"><link rel="prefetch" href="/docs/assets/js/18.735c1059.js"><link rel="prefetch" href="/docs/assets/js/180.aaac8151.js"><link rel="prefetch" href="/docs/assets/js/181.85324139.js"><link rel="prefetch" href="/docs/assets/js/182.26a0b38f.js"><link rel="prefetch" href="/docs/assets/js/183.fce33668.js"><link rel="prefetch" href="/docs/assets/js/184.002740c1.js"><link rel="prefetch" href="/docs/assets/js/185.4a153923.js"><link rel="prefetch" href="/docs/assets/js/186.2cf312bc.js"><link rel="prefetch" href="/docs/assets/js/187.80950751.js"><link rel="prefetch" href="/docs/assets/js/188.c4aa36c7.js"><link rel="prefetch" href="/docs/assets/js/189.542ba5d9.js"><link rel="prefetch" href="/docs/assets/js/19.c78a01c3.js"><link rel="prefetch" href="/docs/assets/js/190.5fbba984.js"><link rel="prefetch" href="/docs/assets/js/191.bf2d0f98.js"><link rel="prefetch" href="/docs/assets/js/192.ffa32980.js"><link rel="prefetch" href="/docs/assets/js/193.ab95bde4.js"><link rel="prefetch" href="/docs/assets/js/194.dc1df407.js"><link rel="prefetch" href="/docs/assets/js/195.adb346a3.js"><link rel="prefetch" href="/docs/assets/js/196.4c2eae86.js"><link rel="prefetch" href="/docs/assets/js/197.2dbe570a.js"><link rel="prefetch" href="/docs/assets/js/198.99de4551.js"><link rel="prefetch" href="/docs/assets/js/199.9f5f9016.js"><link rel="prefetch" href="/docs/assets/js/20.58d0649e.js"><link rel="prefetch" href="/docs/assets/js/200.9f23f2eb.js"><link rel="prefetch" href="/docs/assets/js/201.c0a43a8a.js"><link rel="prefetch" href="/docs/assets/js/202.db70f5a3.js"><link rel="prefetch" href="/docs/assets/js/203.e66c722c.js"><link rel="prefetch" href="/docs/assets/js/204.2353953d.js"><link rel="prefetch" href="/docs/assets/js/205.fa71faac.js"><link rel="prefetch" href="/docs/assets/js/206.6a6ced7e.js"><link rel="prefetch" href="/docs/assets/js/207.6906c12a.js"><link rel="prefetch" href="/docs/assets/js/208.723014bd.js"><link rel="prefetch" href="/docs/assets/js/209.c2811971.js"><link rel="prefetch" href="/docs/assets/js/21.57537d24.js"><link rel="prefetch" href="/docs/assets/js/210.9b8b33ff.js"><link rel="prefetch" href="/docs/assets/js/211.18aab1c6.js"><link rel="prefetch" href="/docs/assets/js/212.54c3c15f.js"><link rel="prefetch" href="/docs/assets/js/213.2857d1fb.js"><link rel="prefetch" href="/docs/assets/js/214.4a9f2369.js"><link rel="prefetch" href="/docs/assets/js/215.9894ab1e.js"><link rel="prefetch" href="/docs/assets/js/216.41fbd9bf.js"><link rel="prefetch" href="/docs/assets/js/217.0db94502.js"><link rel="prefetch" href="/docs/assets/js/218.09d20294.js"><link rel="prefetch" href="/docs/assets/js/219.e0dbfc8f.js"><link rel="prefetch" href="/docs/assets/js/22.87795c35.js"><link rel="prefetch" href="/docs/assets/js/220.ed57ff1a.js"><link rel="prefetch" href="/docs/assets/js/221.4da422e7.js"><link rel="prefetch" href="/docs/assets/js/222.3e4a3d66.js"><link rel="prefetch" href="/docs/assets/js/223.06ae174d.js"><link rel="prefetch" href="/docs/assets/js/224.12197d84.js"><link rel="prefetch" href="/docs/assets/js/225.3d1891d6.js"><link rel="prefetch" href="/docs/assets/js/226.d05cf1f6.js"><link rel="prefetch" href="/docs/assets/js/227.6a5fce3d.js"><link rel="prefetch" href="/docs/assets/js/228.c72eb1f3.js"><link rel="prefetch" href="/docs/assets/js/229.5e68aa69.js"><link rel="prefetch" href="/docs/assets/js/23.81ed76f3.js"><link rel="prefetch" href="/docs/assets/js/231.f3b6948a.js"><link rel="prefetch" href="/docs/assets/js/232.fa1b3f66.js"><link rel="prefetch" href="/docs/assets/js/233.838e703c.js"><link rel="prefetch" href="/docs/assets/js/234.ca86cc33.js"><link rel="prefetch" href="/docs/assets/js/235.822cf437.js"><link rel="prefetch" href="/docs/assets/js/236.bf6774ae.js"><link rel="prefetch" href="/docs/assets/js/237.60dddcca.js"><link rel="prefetch" href="/docs/assets/js/238.27758d6c.js"><link rel="prefetch" href="/docs/assets/js/239.5a70c12f.js"><link rel="prefetch" href="/docs/assets/js/24.d2370ee2.js"><link rel="prefetch" href="/docs/assets/js/240.12d901a8.js"><link rel="prefetch" href="/docs/assets/js/241.a1e835e5.js"><link rel="prefetch" href="/docs/assets/js/242.363d5175.js"><link rel="prefetch" href="/docs/assets/js/243.8747c6ff.js"><link rel="prefetch" href="/docs/assets/js/244.430113a4.js"><link rel="prefetch" href="/docs/assets/js/245.c89b39b3.js"><link rel="prefetch" href="/docs/assets/js/246.6febca34.js"><link rel="prefetch" href="/docs/assets/js/247.14de355b.js"><link rel="prefetch" href="/docs/assets/js/248.2d4f5d30.js"><link rel="prefetch" href="/docs/assets/js/249.fc1c94f3.js"><link rel="prefetch" href="/docs/assets/js/25.8ad77d9e.js"><link rel="prefetch" href="/docs/assets/js/250.48b23fbc.js"><link rel="prefetch" href="/docs/assets/js/251.2a20c8fb.js"><link rel="prefetch" href="/docs/assets/js/252.c91b6f23.js"><link rel="prefetch" href="/docs/assets/js/253.e308c5e0.js"><link rel="prefetch" href="/docs/assets/js/254.6b0c43c0.js"><link rel="prefetch" href="/docs/assets/js/255.1a47f4e3.js"><link rel="prefetch" href="/docs/assets/js/256.a7e2052d.js"><link rel="prefetch" href="/docs/assets/js/257.0e1a5068.js"><link rel="prefetch" href="/docs/assets/js/258.a0d6b6ff.js"><link rel="prefetch" href="/docs/assets/js/259.474af441.js"><link rel="prefetch" href="/docs/assets/js/26.635d8053.js"><link rel="prefetch" href="/docs/assets/js/260.6838bb79.js"><link rel="prefetch" href="/docs/assets/js/261.e9069cba.js"><link rel="prefetch" href="/docs/assets/js/262.36756892.js"><link rel="prefetch" href="/docs/assets/js/263.e7d5d197.js"><link rel="prefetch" href="/docs/assets/js/264.e096ff4d.js"><link rel="prefetch" href="/docs/assets/js/265.77ccfa7f.js"><link rel="prefetch" href="/docs/assets/js/266.6c345dac.js"><link rel="prefetch" href="/docs/assets/js/267.4ba2d9f4.js"><link rel="prefetch" href="/docs/assets/js/268.68b74f9d.js"><link rel="prefetch" href="/docs/assets/js/269.26d6f3f7.js"><link rel="prefetch" href="/docs/assets/js/27.aca0df3b.js"><link rel="prefetch" href="/docs/assets/js/270.7e0f5a12.js"><link rel="prefetch" href="/docs/assets/js/271.76ce4b1c.js"><link rel="prefetch" href="/docs/assets/js/272.6d3764a7.js"><link rel="prefetch" href="/docs/assets/js/273.5f7b6490.js"><link rel="prefetch" href="/docs/assets/js/274.91c64234.js"><link rel="prefetch" href="/docs/assets/js/275.59ad7ebc.js"><link rel="prefetch" href="/docs/assets/js/276.acd5263a.js"><link rel="prefetch" href="/docs/assets/js/277.5df95550.js"><link rel="prefetch" href="/docs/assets/js/278.ea7805bf.js"><link rel="prefetch" href="/docs/assets/js/279.30d689f9.js"><link rel="prefetch" href="/docs/assets/js/28.cb80dd59.js"><link rel="prefetch" href="/docs/assets/js/280.bf8cf3e0.js"><link rel="prefetch" href="/docs/assets/js/281.c038ce3e.js"><link rel="prefetch" href="/docs/assets/js/282.8702b9ea.js"><link rel="prefetch" href="/docs/assets/js/283.5088b4d8.js"><link rel="prefetch" href="/docs/assets/js/284.f1584b44.js"><link rel="prefetch" href="/docs/assets/js/285.d834587c.js"><link rel="prefetch" href="/docs/assets/js/286.7039cb07.js"><link rel="prefetch" href="/docs/assets/js/287.c026d47d.js"><link rel="prefetch" href="/docs/assets/js/288.1e0ac287.js"><link rel="prefetch" href="/docs/assets/js/289.79029861.js"><link rel="prefetch" href="/docs/assets/js/290.a1669ad8.js"><link rel="prefetch" href="/docs/assets/js/291.e204722f.js"><link rel="prefetch" href="/docs/assets/js/292.7bc42395.js"><link rel="prefetch" href="/docs/assets/js/293.f54c4960.js"><link rel="prefetch" href="/docs/assets/js/294.0fa3645e.js"><link rel="prefetch" href="/docs/assets/js/295.b52d215c.js"><link rel="prefetch" href="/docs/assets/js/296.9fd8ad49.js"><link rel="prefetch" href="/docs/assets/js/297.1a4684a0.js"><link rel="prefetch" href="/docs/assets/js/298.3ef4da17.js"><link rel="prefetch" href="/docs/assets/js/299.e7d5bfa9.js"><link rel="prefetch" href="/docs/assets/js/3.f573405e.js"><link rel="prefetch" href="/docs/assets/js/30.fa4666aa.js"><link rel="prefetch" href="/docs/assets/js/300.1a24d773.js"><link rel="prefetch" href="/docs/assets/js/301.f37bd4e4.js"><link rel="prefetch" href="/docs/assets/js/302.1864286f.js"><link rel="prefetch" href="/docs/assets/js/303.fc25a2a5.js"><link rel="prefetch" href="/docs/assets/js/304.e2154134.js"><link rel="prefetch" href="/docs/assets/js/305.4ad273ab.js"><link rel="prefetch" href="/docs/assets/js/306.7ec42f5d.js"><link rel="prefetch" href="/docs/assets/js/307.cb991f3e.js"><link rel="prefetch" href="/docs/assets/js/308.b467ec0d.js"><link rel="prefetch" href="/docs/assets/js/309.6189aeea.js"><link rel="prefetch" href="/docs/assets/js/31.7b270c48.js"><link rel="prefetch" href="/docs/assets/js/310.68810fe6.js"><link rel="prefetch" href="/docs/assets/js/311.99f08daa.js"><link rel="prefetch" href="/docs/assets/js/312.9c69deab.js"><link rel="prefetch" href="/docs/assets/js/313.a5138bd2.js"><link rel="prefetch" href="/docs/assets/js/314.75e21e9d.js"><link rel="prefetch" href="/docs/assets/js/315.91f23467.js"><link rel="prefetch" href="/docs/assets/js/316.34f3b60e.js"><link rel="prefetch" href="/docs/assets/js/317.9182a681.js"><link rel="prefetch" href="/docs/assets/js/318.97118792.js"><link rel="prefetch" href="/docs/assets/js/319.2d90c5c2.js"><link rel="prefetch" href="/docs/assets/js/32.494d1a1e.js"><link rel="prefetch" href="/docs/assets/js/320.aa2c4af0.js"><link rel="prefetch" href="/docs/assets/js/321.2d69b637.js"><link rel="prefetch" href="/docs/assets/js/322.47fceb9f.js"><link rel="prefetch" href="/docs/assets/js/323.c445afc6.js"><link rel="prefetch" href="/docs/assets/js/324.a193ec6c.js"><link rel="prefetch" href="/docs/assets/js/325.5b502ace.js"><link rel="prefetch" href="/docs/assets/js/326.f1840e03.js"><link rel="prefetch" href="/docs/assets/js/327.d2534b23.js"><link rel="prefetch" href="/docs/assets/js/328.cb9b3c38.js"><link rel="prefetch" href="/docs/assets/js/329.5547b3ce.js"><link rel="prefetch" href="/docs/assets/js/33.7f058ceb.js"><link rel="prefetch" href="/docs/assets/js/330.11490c6a.js"><link rel="prefetch" href="/docs/assets/js/331.0e1ec937.js"><link rel="prefetch" href="/docs/assets/js/332.ba325e75.js"><link rel="prefetch" href="/docs/assets/js/333.1adfbf32.js"><link rel="prefetch" href="/docs/assets/js/334.507e4f13.js"><link rel="prefetch" href="/docs/assets/js/335.5a483a7d.js"><link rel="prefetch" href="/docs/assets/js/336.b6608aab.js"><link rel="prefetch" href="/docs/assets/js/337.2ff35851.js"><link rel="prefetch" href="/docs/assets/js/338.ee2bddd1.js"><link rel="prefetch" href="/docs/assets/js/339.86112c1d.js"><link rel="prefetch" href="/docs/assets/js/34.425b6840.js"><link rel="prefetch" href="/docs/assets/js/340.2418439c.js"><link rel="prefetch" href="/docs/assets/js/341.5f94fd9d.js"><link rel="prefetch" href="/docs/assets/js/342.4e0cda19.js"><link rel="prefetch" href="/docs/assets/js/343.413436d6.js"><link rel="prefetch" href="/docs/assets/js/344.ca6ffdf8.js"><link rel="prefetch" href="/docs/assets/js/345.15daa7b8.js"><link rel="prefetch" href="/docs/assets/js/346.4a29d7e4.js"><link rel="prefetch" href="/docs/assets/js/347.c23877ef.js"><link rel="prefetch" href="/docs/assets/js/348.23b63085.js"><link rel="prefetch" href="/docs/assets/js/349.363c0f6b.js"><link rel="prefetch" href="/docs/assets/js/35.0c39e54a.js"><link rel="prefetch" href="/docs/assets/js/350.e16f06bd.js"><link rel="prefetch" href="/docs/assets/js/351.14a1bb66.js"><link rel="prefetch" href="/docs/assets/js/352.621e20e9.js"><link rel="prefetch" href="/docs/assets/js/353.fdf17b6d.js"><link rel="prefetch" href="/docs/assets/js/354.05108263.js"><link rel="prefetch" href="/docs/assets/js/355.b7de2e8d.js"><link rel="prefetch" href="/docs/assets/js/356.84cbdb60.js"><link rel="prefetch" href="/docs/assets/js/357.45e1a2b7.js"><link rel="prefetch" href="/docs/assets/js/358.2e0e6656.js"><link rel="prefetch" href="/docs/assets/js/36.d3c135e6.js"><link rel="prefetch" href="/docs/assets/js/37.874de59a.js"><link rel="prefetch" href="/docs/assets/js/38.1962fc4a.js"><link rel="prefetch" href="/docs/assets/js/39.6a260188.js"><link rel="prefetch" href="/docs/assets/js/4.2b88aac7.js"><link rel="prefetch" href="/docs/assets/js/40.47d632a8.js"><link rel="prefetch" href="/docs/assets/js/41.2c5bdc8c.js"><link rel="prefetch" href="/docs/assets/js/42.00a5ecbf.js"><link rel="prefetch" href="/docs/assets/js/43.0c9a2e4b.js"><link rel="prefetch" href="/docs/assets/js/44.cb465731.js"><link rel="prefetch" href="/docs/assets/js/45.4896f3f5.js"><link rel="prefetch" href="/docs/assets/js/46.3f8f8288.js"><link rel="prefetch" href="/docs/assets/js/47.4a19ef83.js"><link rel="prefetch" href="/docs/assets/js/48.5ccaba9e.js"><link rel="prefetch" href="/docs/assets/js/49.50fe6149.js"><link rel="prefetch" href="/docs/assets/js/5.e960e10b.js"><link rel="prefetch" href="/docs/assets/js/50.6dc428c2.js"><link rel="prefetch" href="/docs/assets/js/51.db99cd55.js"><link rel="prefetch" href="/docs/assets/js/52.fcbfb1d0.js"><link rel="prefetch" href="/docs/assets/js/53.96a4068d.js"><link rel="prefetch" href="/docs/assets/js/54.d214c465.js"><link rel="prefetch" href="/docs/assets/js/55.089feb14.js"><link rel="prefetch" href="/docs/assets/js/56.aa7775e2.js"><link rel="prefetch" href="/docs/assets/js/57.80488c74.js"><link rel="prefetch" href="/docs/assets/js/58.62f5cd45.js"><link rel="prefetch" href="/docs/assets/js/59.9fd2c826.js"><link rel="prefetch" href="/docs/assets/js/6.89ffc59a.js"><link rel="prefetch" href="/docs/assets/js/60.8ed33fb9.js"><link rel="prefetch" href="/docs/assets/js/61.1575f067.js"><link rel="prefetch" href="/docs/assets/js/62.0b6ac41e.js"><link rel="prefetch" href="/docs/assets/js/63.74551334.js"><link rel="prefetch" href="/docs/assets/js/64.6db70e6f.js"><link rel="prefetch" href="/docs/assets/js/65.541cd3bf.js"><link rel="prefetch" href="/docs/assets/js/66.3ba21e1d.js"><link rel="prefetch" href="/docs/assets/js/67.993533bf.js"><link rel="prefetch" href="/docs/assets/js/68.69f45f6b.js"><link rel="prefetch" href="/docs/assets/js/69.d4736f3c.js"><link rel="prefetch" href="/docs/assets/js/7.1a93e7b7.js"><link rel="prefetch" href="/docs/assets/js/70.f42adebf.js"><link rel="prefetch" href="/docs/assets/js/71.320a284e.js"><link rel="prefetch" href="/docs/assets/js/72.607e43e9.js"><link rel="prefetch" href="/docs/assets/js/73.6a1a899a.js"><link rel="prefetch" href="/docs/assets/js/74.d74f0b47.js"><link rel="prefetch" href="/docs/assets/js/75.4274e520.js"><link rel="prefetch" href="/docs/assets/js/76.7a8f3d72.js"><link rel="prefetch" href="/docs/assets/js/77.9a06a773.js"><link rel="prefetch" href="/docs/assets/js/78.64cdb317.js"><link rel="prefetch" href="/docs/assets/js/79.1d3efe73.js"><link rel="prefetch" href="/docs/assets/js/8.68d11745.js"><link rel="prefetch" href="/docs/assets/js/80.24fa033a.js"><link rel="prefetch" href="/docs/assets/js/81.98bc4f83.js"><link rel="prefetch" href="/docs/assets/js/82.569b6933.js"><link rel="prefetch" href="/docs/assets/js/83.c5dd16c3.js"><link rel="prefetch" href="/docs/assets/js/84.23af47b9.js"><link rel="prefetch" href="/docs/assets/js/85.529fb7c3.js"><link rel="prefetch" href="/docs/assets/js/86.f98430df.js"><link rel="prefetch" href="/docs/assets/js/87.0b4f0613.js"><link rel="prefetch" href="/docs/assets/js/88.1b4c8cfa.js"><link rel="prefetch" href="/docs/assets/js/89.c41fdccf.js"><link rel="prefetch" href="/docs/assets/js/9.6a89a7f5.js"><link rel="prefetch" href="/docs/assets/js/90.5face7f5.js"><link rel="prefetch" href="/docs/assets/js/91.1a530310.js"><link rel="prefetch" href="/docs/assets/js/92.e3dace04.js"><link rel="prefetch" href="/docs/assets/js/93.0d0ae41c.js"><link rel="prefetch" href="/docs/assets/js/94.ae112242.js"><link rel="prefetch" href="/docs/assets/js/95.14837e23.js"><link rel="prefetch" href="/docs/assets/js/96.67801895.js"><link rel="prefetch" href="/docs/assets/js/97.b8db2483.js"><link rel="prefetch" href="/docs/assets/js/98.0f1aaf01.js"><link rel="prefetch" href="/docs/assets/js/99.8d25df0f.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.5d974432.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><!----> <span class="site-name">Nguyễn Khánk's Wiki</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/architect/" class="nav-link">
  Architecture
</a></div><div class="nav-item"><a href="/docs/kungfu/letsgo.html" class="nav-link">
  Kungfu
</a></div><div class="nav-item"><a href="https://nguyenngockhank.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Home
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/architect/" class="nav-link">
  Architecture
</a></div><div class="nav-item"><a href="/docs/kungfu/letsgo.html" class="nav-link">
  Kungfu
</a></div><div class="nav-item"><a href="https://nguyenngockhank.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Home
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>The Art of Readable Code</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/kungfu/artofcode/c1.html" class="sidebar-link">1. Code Should Be Easy to Understand</a></li><li><a href="/docs/kungfu/artofcode/c2.html" class="sidebar-link">2. Packing Information into Names</a></li><li><a href="/docs/kungfu/artofcode/c3.html" class="sidebar-link">3. Names That Can’t Be Misconstrued</a></li><li><a href="/docs/kungfu/artofcode/c4.html" class="sidebar-link">4. Aesthetics</a></li><li><a href="/docs/kungfu/artofcode/c5.html" class="sidebar-link">5. Knowing What to Comment</a></li><li><a href="/docs/kungfu/artofcode/c6.html" class="sidebar-link">6. Making Comments Precise and Compact</a></li><li><a href="/docs/kungfu/artofcode/c7.html" class="sidebar-link">7. Making Control Flow Easy to Read</a></li><li><a href="/docs/kungfu/artofcode/c8.html" class="sidebar-link">8. Breaking Down Giant Expressions</a></li><li><a href="/docs/kungfu/artofcode/c9.html" class="sidebar-link">9. Variables and Readability</a></li><li><a href="/docs/kungfu/artofcode/c10.html" class="sidebar-link">10. Extracting Unrelated Subproblems</a></li><li><a href="/docs/kungfu/artofcode/c11.html" class="sidebar-link">11. One Task at a Time</a></li><li><a href="/docs/kungfu/artofcode/c12.html" aria-current="page" class="active sidebar-link">12. Turning Thoughts into Code</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/kungfu/artofcode/c12.html#describing-logic-clearly" class="sidebar-link">Describing Logic Clearly</a></li><li class="sidebar-sub-header"><a href="/docs/kungfu/artofcode/c12.html#knowing-your-libraries-helps" class="sidebar-link">Knowing Your Libraries Helps</a></li><li class="sidebar-sub-header"><a href="/docs/kungfu/artofcode/c12.html#applying-this-method-to-larger-problems" class="sidebar-link">Applying This Method to Larger Problems</a></li><li class="sidebar-sub-header"><a href="/docs/kungfu/artofcode/c12.html#summary" class="sidebar-link">Summary</a></li></ul></li><li><a href="/docs/kungfu/artofcode/c13.html" class="sidebar-link">13. Writing Less Code</a></li><li><a href="/docs/kungfu/artofcode/c14.html" class="sidebar-link">14. Testing and Readability</a></li><li><a href="/docs/kungfu/artofcode/c15.html" class="sidebar-link">15. Designing and Implementing a “Minute/Hour Counter”</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Clean Code</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>A Philosophy of Software Design</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Building Microservices</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>97 Things Every Programmer Should Know</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>NoSql Distilled</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Others</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_12-turning-thoughts-into-code"><a href="#_12-turning-thoughts-into-code" class="header-anchor">#</a> 12. Turning Thoughts into Code</h1> <blockquote><p>You do not really understand something unless you can explain it to your grandmother. — Albert Einstein</p></blockquote> <p>When explaining a complex idea to someone, it's easy to confuse them with all the little details.</p> <p>It's a valuable skill to be able to explain an idea “in plain English,” so that someone less knowledgeable than you can understand. It requires distilling an idea down to the most important concepts. Doing this not only helps the other person understand but also helps you think about your own ideas more clearly.</p> <p>The same skill should be used when “presenting” code to your reader. We take the view that source code is the primary way to explain what a program is doing. So the code should be written “in plain English.”</p> <p>In this chapter, we’ll use a simple process that can help you code more clearly:</p> <ol><li>Describe what code needs to do, in plain English, as you would to a colleague.</li> <li>Pay attention to the key words and phrases used in this description.
3.Write your code to match this description.</li></ol> <h2 id="describing-logic-clearly"><a href="#describing-logic-clearly" class="header-anchor">#</a> Describing Logic Clearly</h2> <p>Here is a snippet of code from a web page in PHP. This code is at the top of a secured page. It checks whether the user is authorized to see the page, and if not, immediately returns a page telling the user she is not authorized:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$is_admin</span> <span class="token operator">=</span> <span class="token function">is_admin_request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$document</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token variable">$is_admin</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token variable">$document</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'username'</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token variable">$_SESSION</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'username'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">not_authorized</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token variable">$is_admin</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">not_authorized</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// continue rendering the page ...</span>
</code></pre></div><p>There’s quite a bit of logic in this code. As you saw in Part II, <em>Simplifying Loops and Logic</em> , large logic trees like this aren’t easy to understand. The logic in this code can probably be simplified, but how? Let’s start by describing the logic in plain English:</p> <p>There are two ways you can be authorized:</p> <ul><li><ol><li>you are an admin</li></ol></li> <li><ol start="2"><li>you own the current document (if there is one)</li></ol></li> <li>Otherwise, you are not authorized.</li></ul> <p>Here is an alternative solution inspired by this description:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">is_admin_request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// authorized</span>
<span class="token punctuation">}</span> <span class="token keyword">elseif</span> <span class="token punctuation">(</span><span class="token variable">$document</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token variable">$document</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'username'</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token variable">$_SESSION</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'username'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// authorized</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">not_authorized</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// continue rendering the page ...</span>
</code></pre></div><p>This version is slightly unusual because it has two empty bodies. But the code is smaller, and the logic is simpler, because there is no negation. (The previous solution had three “nots.”) The bottom line is that it’s easier to understand.</p> <h2 id="knowing-your-libraries-helps"><a href="#knowing-your-libraries-helps" class="header-anchor">#</a> Knowing Your Libraries Helps</h2> <p>We once had a website that included a “tips box” that showed the user helpful suggestions like:</p> <div class="language- extra-class"><pre class="language-text"><code>Tip: Log in to see your past queries. [Show me another tip!]
</code></pre></div><p>There were a few dozen tips, and all of them were hidden inside the HTML:</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tip-1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tip<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Tip: Log in to see your past queries.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tip-2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tip<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Tip: Click on a picture to see it close up.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
...
</code></pre></div><p>When a user visited the page, one of these divs was randomly made visible, and the rest stayed hidden.</p> <p>If the “Show me another tip!&quot; link was clicked, it cycled to the next tip. Here is some code to implement that feature using the jQuery JavaScript library:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> <span class="token function-variable function">show_next_tip</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> num_tips <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.tip'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> shown_tip <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.tip:visible'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">var</span> shown_tip_num <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span>shown_tip<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>shown_tip_num <span class="token operator">===</span> num_tips<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#tip-1'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#tip-'</span> <span class="token operator">+</span> <span class="token punctuation">(</span>shown_tip_num <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    shown_tip<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>This code is okay. But it can be made better. Let’s start by describing, in words, what this code is trying to do:</p> <ul><li><em>Find the currently visible tip and hide it.</em></li> <li><em>Then find the next tip after it and show that.</em></li> <li><em>If we've run out of tips, cycle back to the first tip.</em></li></ul> <p>Based on this description, here’s another solution:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> <span class="token function-variable function">show_next_tip</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> cur_tip <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.tip:visible'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// find the currently visible tip and hide it</span>
    <span class="token keyword">var</span> next_tip <span class="token operator">=</span> cur_tip<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token string">'.tip'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// find the next tip after it</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>next_tip<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// if we've run out of tips,</span>
        next_tip <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.tip:first'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// cycle back to the first tip</span>
    <span class="token punctuation">}</span>
    next_tip<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// show the new tip</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>This solution contains fewer lines of code and doesn’t have to manipulate integers directly. It’s more aligned with how a person would think about the code.</p> <p>In this case, it helped that jQuery has a <code>.next()</code> method we could use. Part of writing succinct code is being aware of what your library has to offer.</p> <h2 id="applying-this-method-to-larger-problems"><a href="#applying-this-method-to-larger-problems" class="header-anchor">#</a> Applying This Method to Larger Problems</h2> <p>The previous examples have applied our process to small blocks of code. In the next example, we’ll apply it to a larger function. As you’ll see, this method can help you break down your code by helping you identify what pieces you can break away.</p> <p>Imagine we have a system that records stock purchases. Each transaction has four pieces of data:</p> <ul><li><code>time</code> (a precise date and time of the purchase)</li> <li><code>ticker_symbol</code> (e.g., GOOG)</li> <li><code>price</code> (e.g., $600)</li> <li><code>number_of_shares</code> (e.g., 100)</li></ul> <p>For some strange reason, the data is spread across three separate database tables, as illustrated here. In each database, the time is the unique primary key.</p> <p>Now we need to write a program to join the three tables back together (as an SQL JOIN operation would do). This step should be easy because the rows are all sorted by time, but unfortunately some of the rows are missing. You want to find all the rows where all three times match up, and ignore any rows that can’t be lined up, as shown in the previous illustration.</p> <p>Here is some Python code that finds all the matching rows:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">def</span> <span class="token function">PrintStockTransactions</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    stock_iter <span class="token operator">=</span> db_read<span class="token punctuation">(</span><span class="token string">&quot;SELECT time, ticker_symbol FROM ...&quot;</span><span class="token punctuation">)</span>
    price_iter <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    num_shares_iter <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

    <span class="token comment"># Iterate through all the rows of the 3 tables in parallel.</span>
    <span class="token keyword">while</span> stock_iter <span class="token keyword">and</span> price_iter <span class="token keyword">and</span> num_shares_iter <span class="token punctuation">:</span>
        stock_time <span class="token operator">=</span> stock_iter <span class="token punctuation">.</span>time
        price_time <span class="token operator">=</span> price_iter <span class="token punctuation">.</span>time
        num_shares_time <span class="token operator">=</span> num_shares_iter <span class="token punctuation">.</span>time

        <span class="token comment"># If all 3 rows don't have the same time, skip over the oldest row</span>
        <span class="token comment"># Note: the &quot;&lt;=&quot; below can't just be &quot;&lt;&quot; in case there are 2 tied-oldest.</span>
        <span class="token keyword">if</span> stock_time <span class="token operator">!=</span> price_time <span class="token keyword">or</span> stock_time <span class="token operator">!=</span> num_shares_time<span class="token punctuation">:</span>
            <span class="token keyword">if</span> stock_time <span class="token operator">&lt;=</span> price_time <span class="token keyword">and</span> stock_time <span class="token operator">&lt;=</span> num_shares_time<span class="token punctuation">:</span>
                stock_iter <span class="token punctuation">.</span>NextRow<span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">elif</span> price_time <span class="token operator">&lt;=</span> stock_time <span class="token keyword">and</span> price_time <span class="token operator">&lt;=</span> num_shares_time<span class="token punctuation">:</span>
                price_iter <span class="token punctuation">.</span>NextRow<span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">elif</span> num_shares_time <span class="token operator">&lt;=</span> stock_time <span class="token keyword">and</span> num_shares_time <span class="token operator">&lt;=</span> price_time<span class="token punctuation">:</span>
                num_shares_iter <span class="token punctuation">.</span>NextRow<span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                <span class="token keyword">assert</span> <span class="token boolean">False</span> <span class="token comment"># impossible</span>
                <span class="token keyword">continue</span>

    <span class="token keyword">assert</span> stock_time <span class="token operator">==</span> price_time <span class="token operator">==</span> num_shares_time

    <span class="token comment"># Print the aligned rows.</span>
    <span class="token keyword">print</span> <span class="token string">&quot;@&quot;</span><span class="token punctuation">,</span> stock_time<span class="token punctuation">,</span>
    <span class="token keyword">print</span> stock_iter <span class="token punctuation">.</span>ticker_symbol<span class="token punctuation">,</span>
    <span class="token keyword">print</span> price_iter <span class="token punctuation">.</span>price<span class="token punctuation">,</span>
    <span class="token keyword">print</span> num_shares_iter <span class="token punctuation">.</span>number_of_shares

    stock_iter <span class="token punctuation">.</span>NextRow<span class="token punctuation">(</span><span class="token punctuation">)</span>
    price_iter <span class="token punctuation">.</span>NextRow<span class="token punctuation">(</span><span class="token punctuation">)</span>
    num_shares_iter <span class="token punctuation">.</span>NextRow<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>This example code works, but there’s a lot going on with how the loop skips over unmatched rows. Some warning flags might have gone off in your head: <em>Could this miss any rows? Might it read past the end-of-stream for any of the iterators?</em></p> <p>So how can we make it more readable?</p> <h3 id="an-english-description-of-the-solution"><a href="#an-english-description-of-the-solution" class="header-anchor">#</a> <strong>An English Description of the Solution</strong></h3> <p>Once again, let’s step back and describe in plain English what we’re trying to do:</p> <ul><li><em>We are reading three row iterators in parallel.</em></li> <li><em>Whenever the rows' times don't line up, advance the rows so they do line up.</em></li> <li><em>Then print the aligned rows, and advance the rows again.</em></li> <li><em>Keep doing this until there are no more matching rows left.</em></li></ul> <p>Looking back at the original code, the messiest part was the block dealing with “advance the rows so they do line up.” To present the code more clearly, we can extract all that messy logic into a new function named <code>AdvanceToMatchingTime()</code>.</p> <p>Here’s a new version of the code, making use of this new function:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">def</span> <span class="token function">PrintStockTransactions</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    stock_iter <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    price_iter <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    num_shares_iter <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
        time <span class="token operator">=</span> AdvanceToMatchingTime<span class="token punctuation">(</span>stock_iter<span class="token punctuation">,</span> price_iter<span class="token punctuation">,</span> num_shares_iter<span class="token punctuation">)</span>
        <span class="token keyword">if</span> time <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
             <span class="token keyword">return</span>

    <span class="token comment"># Print the aligned rows.</span>
    <span class="token keyword">print</span> <span class="token string">&quot;@&quot;</span><span class="token punctuation">,</span> time<span class="token punctuation">,</span>
    <span class="token keyword">print</span> stock_iter<span class="token punctuation">.</span>ticker_symbol<span class="token punctuation">,</span>
    <span class="token keyword">print</span> price_iter<span class="token punctuation">.</span>price<span class="token punctuation">,</span>
    <span class="token keyword">print</span> num_shares_iter<span class="token punctuation">.</span>number_of_shares

    stock_iter<span class="token punctuation">.</span>NextRow<span class="token punctuation">(</span><span class="token punctuation">)</span>
    price_iter<span class="token punctuation">.</span>NextRow<span class="token punctuation">(</span><span class="token punctuation">)</span>
    num_shares_iter<span class="token punctuation">.</span>NextRow<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>As you can see, this code is much easier to understand, as we’ve hidden away all the dirty details of lining up the rows.</p> <p><strong>Applying the Method Recursively</strong></p> <p>It’s easy to imagine how you would write AdvanceToMatchingTime()—in the worst case, it would look very similar to that ugly block of code from the first version:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">def</span> <span class="token function">AdvanceToMatchingTime</span><span class="token punctuation">(</span>stock_iter<span class="token punctuation">,</span> price_iter<span class="token punctuation">,</span> num_shares_iter<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># Iterate through all the rows of the 3 tables in parallel.</span>
    <span class="token keyword">while</span> stock_iter <span class="token keyword">and</span> price_iter <span class="token keyword">and</span> num_shares_iter <span class="token punctuation">:</span>
        stock_time <span class="token operator">=</span> stock_iter <span class="token punctuation">.</span>time
        price_time <span class="token operator">=</span> price_iter <span class="token punctuation">.</span>time
        num_shares_time <span class="token operator">=</span> num_shares_iter <span class="token punctuation">.</span>time

        <span class="token comment"># If all 3 rows don't have the same time, skip over the oldest row</span>
        <span class="token keyword">if</span> stock_time <span class="token operator">!=</span> price_time <span class="token keyword">or</span> stock_time <span class="token operator">!=</span> num_shares_time<span class="token punctuation">:</span>
            <span class="token keyword">if</span> stock_time <span class="token operator">&lt;=</span> price_time <span class="token keyword">and</span> stock_time <span class="token operator">&lt;=</span> num_shares_time<span class="token punctuation">:</span>
                stock_iter <span class="token punctuation">.</span>NextRow<span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">elif</span> price_time <span class="token operator">&lt;=</span> stock_time <span class="token keyword">and</span> price_time <span class="token operator">&lt;=</span> num_shares_time<span class="token punctuation">:</span>
                price_iter <span class="token punctuation">.</span>NextRow<span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">elif</span> num_shares_time <span class="token operator">&lt;=</span> stock_time <span class="token keyword">and</span> num_shares_time <span class="token operator">&lt;=</span> price_time<span class="token punctuation">:</span>
                num_shares_iter <span class="token punctuation">.</span>NextRow<span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                <span class="token keyword">assert</span> <span class="token boolean">False</span> <span class="token comment"># impossible</span>
            <span class="token keyword">continue</span>

    <span class="token keyword">assert</span> stock_time <span class="token operator">==</span> price_time <span class="token operator">==</span> num_shares_time
    <span class="token keyword">return</span> stock_time
</code></pre></div><p>But let’s improve that code by applying our method to <code>AdvanceToMatchingTime()</code> as well. Here’s a description of what this function needs to do:</p> <p>Look at the times of each current row: if they're aligned, we're done. Otherwise, advance any rows that are &quot;behind.&quot;
Keep doing this until the rows are aligned (or one of the iterators has ended).</p> <p>This description is a lot clearer and more elegant than the previous code. One thing to notice is that the description never mentions <code>stock_iter</code> or other details specific to our problem. This means we can also rename the variables to be simpler and more general. Here’s the resulting code:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">def</span> <span class="token function">AdvanceToMatchingTime</span><span class="token punctuation">(</span>row_iter1<span class="token punctuation">,</span> row_iter2<span class="token punctuation">,</span> row_iter3<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">while</span> row_iter1 <span class="token keyword">and</span> row_iter2 <span class="token keyword">and</span> row_iter3<span class="token punctuation">:</span>
        t1 <span class="token operator">=</span> row_iter1<span class="token punctuation">.</span>time
        t2 <span class="token operator">=</span> row_iter2<span class="token punctuation">.</span>time
        t3 <span class="token operator">=</span> row_iter3<span class="token punctuation">.</span>time

        <span class="token keyword">if</span> t1 <span class="token operator">==</span> t2 <span class="token operator">==</span> t3<span class="token punctuation">:</span>
            <span class="token keyword">return</span> t1

        tmax <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>t1<span class="token punctuation">,</span> t2<span class="token punctuation">,</span> t3<span class="token punctuation">)</span>

        <span class="token comment"># If any row is &quot;behind,&quot; advance it.</span>
        <span class="token comment"># Eventually, this while loop will align them all.</span>
        <span class="token keyword">if</span> t1 <span class="token operator">&lt;</span> tmax<span class="token punctuation">:</span> row_iter1<span class="token punctuation">.</span>NextRow<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> t2 <span class="token operator">&lt;</span> tmax<span class="token punctuation">:</span> row_iter2<span class="token punctuation">.</span>NextRow<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> t3 <span class="token operator">&lt;</span> tmax<span class="token punctuation">:</span> row_iter3<span class="token punctuation">.</span>NextRow<span class="token punctuation">(</span><span class="token punctuation">)</span>
    
    <span class="token keyword">return</span> <span class="token boolean">None</span> <span class="token comment"># no alignment could be found</span>
</code></pre></div><p>As you can see, this code is a lot clearer than before. The algorithm became simpler, and now there are fewer tricky comparisons. And we used short names like t1 and no longer had to think about the specific database columns involved.</p> <h2 id="summary"><a href="#summary" class="header-anchor">#</a> Summary</h2> <p>This chapter discussed the simple technique of describing your program in plain English and using that description to help you write more natural code. This technique is deceptively simple, but very powerful. Looking at the words and phrases used in your description can also help you identify which subproblems to break off.</p> <p>But this process of “saying things in plain English” is applicable outside of just writing code.</p> <p>For example, one college computer lab policy states that when a student needs help debugging his program, he first has to explain the problem to a dedicated teddy bear in the corner of the room. Surprisingly, just describing the problem aloud can often help the student figure out a solution. This technique is called “rubber ducking.”</p> <p>Another way to look at it is this: if you can't describe the problem or your design in words, something is probably missing or undefined. Getting a program (or any idea) into words can really force it into shape.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/docs/kungfu/artofcode/c11.html" class="prev">
        11. One Task at a Time
      </a></span> <span class="next"><a href="/docs/kungfu/artofcode/c13.html">
        13. Writing Less Code
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----><!----></div></div>
    <script src="/docs/assets/js/app.c1419c2e.js" defer></script><script src="/docs/assets/js/2.0631070b.js" defer></script><script src="/docs/assets/js/230.ab0b8597.js" defer></script><script src="/docs/assets/js/29.9e31a33a.js" defer></script>
  </body>
</html>
