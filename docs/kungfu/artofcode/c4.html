<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>C H A P T E R F O U R | Nguyễn Khánk&#39;s Wiki</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="apple-touch-icon" sizes="180x180" href="../public/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../public/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../public/favicons/favicon-16x16.png">
    <link rel="manifest" href="../public/favicons/manifest.json">
    <link rel="mask-icon" href="../public/favicons/safari-pinned-tab.svg" color="#3a0839">
    <link rel="shortcut icon" href="../public/favicons/favicon.ico">
    <meta name="description" content="Wikipedia của tui">
    <meta name="msapplication-TileColor" content="#3a0839">
    <meta name="msapplication-config" content="../public/favicons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    
    <link rel="preload" href="/docs/assets/css/0.styles.5d974432.css" as="style"><link rel="preload" href="/docs/assets/js/app.feff3dbb.js" as="script"><link rel="preload" href="/docs/assets/js/2.aca46d71.js" as="script"><link rel="preload" href="/docs/assets/js/225.b249063b.js" as="script"><link rel="preload" href="/docs/assets/js/27.5ed2ce18.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.e2dac1de.js"><link rel="prefetch" href="/docs/assets/js/100.072f86f4.js"><link rel="prefetch" href="/docs/assets/js/101.fc0bc918.js"><link rel="prefetch" href="/docs/assets/js/102.ddeddef2.js"><link rel="prefetch" href="/docs/assets/js/103.a299e414.js"><link rel="prefetch" href="/docs/assets/js/104.29aa9c20.js"><link rel="prefetch" href="/docs/assets/js/105.5211965b.js"><link rel="prefetch" href="/docs/assets/js/106.f091e57b.js"><link rel="prefetch" href="/docs/assets/js/107.80acce0d.js"><link rel="prefetch" href="/docs/assets/js/108.b0108b40.js"><link rel="prefetch" href="/docs/assets/js/109.7953f94a.js"><link rel="prefetch" href="/docs/assets/js/11.34f9e1bc.js"><link rel="prefetch" href="/docs/assets/js/110.59b888f8.js"><link rel="prefetch" href="/docs/assets/js/111.5b11b553.js"><link rel="prefetch" href="/docs/assets/js/112.8a857b53.js"><link rel="prefetch" href="/docs/assets/js/113.5aab77e8.js"><link rel="prefetch" href="/docs/assets/js/114.aef8a2f2.js"><link rel="prefetch" href="/docs/assets/js/115.777be1e9.js"><link rel="prefetch" href="/docs/assets/js/116.3092451f.js"><link rel="prefetch" href="/docs/assets/js/117.3345c37e.js"><link rel="prefetch" href="/docs/assets/js/118.be055f62.js"><link rel="prefetch" href="/docs/assets/js/119.77b121e6.js"><link rel="prefetch" href="/docs/assets/js/12.a704c651.js"><link rel="prefetch" href="/docs/assets/js/120.2d64d4ae.js"><link rel="prefetch" href="/docs/assets/js/121.954a3ba9.js"><link rel="prefetch" href="/docs/assets/js/122.f8032cd6.js"><link rel="prefetch" href="/docs/assets/js/123.96d7858b.js"><link rel="prefetch" href="/docs/assets/js/124.f12d4c00.js"><link rel="prefetch" href="/docs/assets/js/125.47b679a8.js"><link rel="prefetch" href="/docs/assets/js/126.725c596d.js"><link rel="prefetch" href="/docs/assets/js/127.75f3139f.js"><link rel="prefetch" href="/docs/assets/js/128.9862473f.js"><link rel="prefetch" href="/docs/assets/js/129.0f09cf34.js"><link rel="prefetch" href="/docs/assets/js/13.66fe2f7e.js"><link rel="prefetch" href="/docs/assets/js/130.d20c4272.js"><link rel="prefetch" href="/docs/assets/js/131.771cb92a.js"><link rel="prefetch" href="/docs/assets/js/132.308ce22e.js"><link rel="prefetch" href="/docs/assets/js/133.99780c7f.js"><link rel="prefetch" href="/docs/assets/js/134.c8bb3739.js"><link rel="prefetch" href="/docs/assets/js/135.d22b8cd4.js"><link rel="prefetch" href="/docs/assets/js/136.0f7f2732.js"><link rel="prefetch" href="/docs/assets/js/137.66315d8b.js"><link rel="prefetch" href="/docs/assets/js/138.bc1e4151.js"><link rel="prefetch" href="/docs/assets/js/139.4bf7c284.js"><link rel="prefetch" href="/docs/assets/js/14.57825f78.js"><link rel="prefetch" href="/docs/assets/js/140.023cb781.js"><link rel="prefetch" href="/docs/assets/js/141.3ed2d77a.js"><link rel="prefetch" href="/docs/assets/js/142.97feece5.js"><link rel="prefetch" href="/docs/assets/js/143.22b3a1b2.js"><link rel="prefetch" href="/docs/assets/js/144.3b8c0d53.js"><link rel="prefetch" href="/docs/assets/js/145.c187e405.js"><link rel="prefetch" href="/docs/assets/js/146.02e7dc46.js"><link rel="prefetch" href="/docs/assets/js/147.1ea04230.js"><link rel="prefetch" href="/docs/assets/js/148.eceb141f.js"><link rel="prefetch" href="/docs/assets/js/149.7bc98406.js"><link rel="prefetch" href="/docs/assets/js/15.cbcf56bd.js"><link rel="prefetch" href="/docs/assets/js/150.345f53e1.js"><link rel="prefetch" href="/docs/assets/js/151.97fd5643.js"><link rel="prefetch" href="/docs/assets/js/152.0f0ace62.js"><link rel="prefetch" href="/docs/assets/js/153.5ae906c9.js"><link rel="prefetch" href="/docs/assets/js/154.4524d48f.js"><link rel="prefetch" href="/docs/assets/js/155.d7cbb04b.js"><link rel="prefetch" href="/docs/assets/js/156.51743cf0.js"><link rel="prefetch" href="/docs/assets/js/157.12aa1a8a.js"><link rel="prefetch" href="/docs/assets/js/158.04757c69.js"><link rel="prefetch" href="/docs/assets/js/159.7a8588a6.js"><link rel="prefetch" href="/docs/assets/js/16.b9864c9c.js"><link rel="prefetch" href="/docs/assets/js/160.79ec6015.js"><link rel="prefetch" href="/docs/assets/js/161.4f0b5cd9.js"><link rel="prefetch" href="/docs/assets/js/162.6cc1f3af.js"><link rel="prefetch" href="/docs/assets/js/163.187c5335.js"><link rel="prefetch" href="/docs/assets/js/164.556dc6d8.js"><link rel="prefetch" href="/docs/assets/js/165.6c6e1f75.js"><link rel="prefetch" href="/docs/assets/js/166.afe12552.js"><link rel="prefetch" href="/docs/assets/js/167.bd3dd81a.js"><link rel="prefetch" href="/docs/assets/js/168.b5e90a8d.js"><link rel="prefetch" href="/docs/assets/js/169.80b477b3.js"><link rel="prefetch" href="/docs/assets/js/17.8983ce9d.js"><link rel="prefetch" href="/docs/assets/js/170.4fcbc9a3.js"><link rel="prefetch" href="/docs/assets/js/171.6c7ccd83.js"><link rel="prefetch" href="/docs/assets/js/172.e02d80ea.js"><link rel="prefetch" href="/docs/assets/js/173.66fb904a.js"><link rel="prefetch" href="/docs/assets/js/174.4f18cc78.js"><link rel="prefetch" href="/docs/assets/js/175.b1c5644a.js"><link rel="prefetch" href="/docs/assets/js/176.bd684253.js"><link rel="prefetch" href="/docs/assets/js/177.c62f362d.js"><link rel="prefetch" href="/docs/assets/js/178.f953855f.js"><link rel="prefetch" href="/docs/assets/js/179.10404ee2.js"><link rel="prefetch" href="/docs/assets/js/18.5efe21b3.js"><link rel="prefetch" href="/docs/assets/js/180.c4330ec2.js"><link rel="prefetch" href="/docs/assets/js/181.02c26c33.js"><link rel="prefetch" href="/docs/assets/js/182.773ba280.js"><link rel="prefetch" href="/docs/assets/js/183.064d5ae1.js"><link rel="prefetch" href="/docs/assets/js/184.2c64e798.js"><link rel="prefetch" href="/docs/assets/js/185.38c7b6e9.js"><link rel="prefetch" href="/docs/assets/js/186.d95e2e7a.js"><link rel="prefetch" href="/docs/assets/js/187.8aad3033.js"><link rel="prefetch" href="/docs/assets/js/188.7f201e8d.js"><link rel="prefetch" href="/docs/assets/js/189.6cefdb59.js"><link rel="prefetch" href="/docs/assets/js/19.58823304.js"><link rel="prefetch" href="/docs/assets/js/190.90e5aa35.js"><link rel="prefetch" href="/docs/assets/js/191.3e1cf065.js"><link rel="prefetch" href="/docs/assets/js/192.a2c49267.js"><link rel="prefetch" href="/docs/assets/js/193.cd7650f2.js"><link rel="prefetch" href="/docs/assets/js/194.1d2ca753.js"><link rel="prefetch" href="/docs/assets/js/195.e29ca5e1.js"><link rel="prefetch" href="/docs/assets/js/196.ff519f9d.js"><link rel="prefetch" href="/docs/assets/js/197.d7c7a2c2.js"><link rel="prefetch" href="/docs/assets/js/198.77259c6a.js"><link rel="prefetch" href="/docs/assets/js/199.7983bd3b.js"><link rel="prefetch" href="/docs/assets/js/20.3b486daa.js"><link rel="prefetch" href="/docs/assets/js/200.e9a796d0.js"><link rel="prefetch" href="/docs/assets/js/201.b4449da8.js"><link rel="prefetch" href="/docs/assets/js/202.ab520617.js"><link rel="prefetch" href="/docs/assets/js/203.1944c871.js"><link rel="prefetch" href="/docs/assets/js/204.2ddfe4db.js"><link rel="prefetch" href="/docs/assets/js/205.3a4a5484.js"><link rel="prefetch" href="/docs/assets/js/206.9eaec970.js"><link rel="prefetch" href="/docs/assets/js/207.ca2acd17.js"><link rel="prefetch" href="/docs/assets/js/208.bc4e3070.js"><link rel="prefetch" href="/docs/assets/js/209.8194c212.js"><link rel="prefetch" href="/docs/assets/js/21.1e77a313.js"><link rel="prefetch" href="/docs/assets/js/210.473ccc45.js"><link rel="prefetch" href="/docs/assets/js/211.623b4033.js"><link rel="prefetch" href="/docs/assets/js/212.0f85a611.js"><link rel="prefetch" href="/docs/assets/js/213.191977aa.js"><link rel="prefetch" href="/docs/assets/js/214.a23c6dcc.js"><link rel="prefetch" href="/docs/assets/js/215.25321a42.js"><link rel="prefetch" href="/docs/assets/js/216.e450a05c.js"><link rel="prefetch" href="/docs/assets/js/217.abab04ca.js"><link rel="prefetch" href="/docs/assets/js/218.66e0082a.js"><link rel="prefetch" href="/docs/assets/js/219.5f4ee9fd.js"><link rel="prefetch" href="/docs/assets/js/22.1c51f113.js"><link rel="prefetch" href="/docs/assets/js/220.bbb5df8d.js"><link rel="prefetch" href="/docs/assets/js/221.0d3dfd46.js"><link rel="prefetch" href="/docs/assets/js/222.8e68bdb2.js"><link rel="prefetch" href="/docs/assets/js/223.6c582cd9.js"><link rel="prefetch" href="/docs/assets/js/224.f570e175.js"><link rel="prefetch" href="/docs/assets/js/226.48576d77.js"><link rel="prefetch" href="/docs/assets/js/227.8346e855.js"><link rel="prefetch" href="/docs/assets/js/228.8e3e6ca7.js"><link rel="prefetch" href="/docs/assets/js/229.faed0af8.js"><link rel="prefetch" href="/docs/assets/js/23.dc13f196.js"><link rel="prefetch" href="/docs/assets/js/230.dcc8e04d.js"><link rel="prefetch" href="/docs/assets/js/231.611372c2.js"><link rel="prefetch" href="/docs/assets/js/232.aaaeb300.js"><link rel="prefetch" href="/docs/assets/js/233.819d8911.js"><link rel="prefetch" href="/docs/assets/js/234.41eb70ca.js"><link rel="prefetch" href="/docs/assets/js/235.acedc064.js"><link rel="prefetch" href="/docs/assets/js/236.fbc4b8f7.js"><link rel="prefetch" href="/docs/assets/js/237.7b217482.js"><link rel="prefetch" href="/docs/assets/js/238.6b2400f7.js"><link rel="prefetch" href="/docs/assets/js/239.570754bf.js"><link rel="prefetch" href="/docs/assets/js/24.d1deb976.js"><link rel="prefetch" href="/docs/assets/js/240.30c365e9.js"><link rel="prefetch" href="/docs/assets/js/241.aebbd7aa.js"><link rel="prefetch" href="/docs/assets/js/242.5df1a85a.js"><link rel="prefetch" href="/docs/assets/js/243.704fb61f.js"><link rel="prefetch" href="/docs/assets/js/244.9bc98748.js"><link rel="prefetch" href="/docs/assets/js/245.38e733b7.js"><link rel="prefetch" href="/docs/assets/js/246.b81c0b24.js"><link rel="prefetch" href="/docs/assets/js/247.c0a84943.js"><link rel="prefetch" href="/docs/assets/js/248.47e7f09b.js"><link rel="prefetch" href="/docs/assets/js/249.29294a64.js"><link rel="prefetch" href="/docs/assets/js/25.ddba0ef8.js"><link rel="prefetch" href="/docs/assets/js/250.7b97771f.js"><link rel="prefetch" href="/docs/assets/js/251.af134ede.js"><link rel="prefetch" href="/docs/assets/js/252.996a9add.js"><link rel="prefetch" href="/docs/assets/js/253.6b08af88.js"><link rel="prefetch" href="/docs/assets/js/254.a14372bd.js"><link rel="prefetch" href="/docs/assets/js/255.868fb43f.js"><link rel="prefetch" href="/docs/assets/js/256.606c2f81.js"><link rel="prefetch" href="/docs/assets/js/257.9c34c318.js"><link rel="prefetch" href="/docs/assets/js/258.236c65be.js"><link rel="prefetch" href="/docs/assets/js/259.dc9c78fd.js"><link rel="prefetch" href="/docs/assets/js/26.23be3024.js"><link rel="prefetch" href="/docs/assets/js/260.228e0898.js"><link rel="prefetch" href="/docs/assets/js/261.7dd0cc1f.js"><link rel="prefetch" href="/docs/assets/js/262.7c674375.js"><link rel="prefetch" href="/docs/assets/js/263.0d61e50b.js"><link rel="prefetch" href="/docs/assets/js/264.0595e5d9.js"><link rel="prefetch" href="/docs/assets/js/265.4f8cb07b.js"><link rel="prefetch" href="/docs/assets/js/266.fe3edb0f.js"><link rel="prefetch" href="/docs/assets/js/267.8942e793.js"><link rel="prefetch" href="/docs/assets/js/268.86eb0eb9.js"><link rel="prefetch" href="/docs/assets/js/269.03f58dca.js"><link rel="prefetch" href="/docs/assets/js/270.90b7be1d.js"><link rel="prefetch" href="/docs/assets/js/271.b556bf53.js"><link rel="prefetch" href="/docs/assets/js/272.0b7f4823.js"><link rel="prefetch" href="/docs/assets/js/273.d311f5f5.js"><link rel="prefetch" href="/docs/assets/js/274.06fb099b.js"><link rel="prefetch" href="/docs/assets/js/275.e40667a2.js"><link rel="prefetch" href="/docs/assets/js/276.d3ab71c4.js"><link rel="prefetch" href="/docs/assets/js/277.5feda584.js"><link rel="prefetch" href="/docs/assets/js/278.beaf14c2.js"><link rel="prefetch" href="/docs/assets/js/279.f7073aaf.js"><link rel="prefetch" href="/docs/assets/js/28.f7b1175c.js"><link rel="prefetch" href="/docs/assets/js/280.72c464b5.js"><link rel="prefetch" href="/docs/assets/js/281.1fc9c7ce.js"><link rel="prefetch" href="/docs/assets/js/282.4e16e559.js"><link rel="prefetch" href="/docs/assets/js/283.4fb4b1a6.js"><link rel="prefetch" href="/docs/assets/js/284.c3baaf64.js"><link rel="prefetch" href="/docs/assets/js/285.a7a948cc.js"><link rel="prefetch" href="/docs/assets/js/286.73a344a9.js"><link rel="prefetch" href="/docs/assets/js/287.6035b91a.js"><link rel="prefetch" href="/docs/assets/js/288.bb0dbdf9.js"><link rel="prefetch" href="/docs/assets/js/289.10918ad5.js"><link rel="prefetch" href="/docs/assets/js/29.d0e3b179.js"><link rel="prefetch" href="/docs/assets/js/290.20c7bcd8.js"><link rel="prefetch" href="/docs/assets/js/291.ee116400.js"><link rel="prefetch" href="/docs/assets/js/292.dfc2e949.js"><link rel="prefetch" href="/docs/assets/js/293.8a851721.js"><link rel="prefetch" href="/docs/assets/js/294.1f4a08e0.js"><link rel="prefetch" href="/docs/assets/js/295.7ba75a19.js"><link rel="prefetch" href="/docs/assets/js/296.b251d4cf.js"><link rel="prefetch" href="/docs/assets/js/297.d56d6d59.js"><link rel="prefetch" href="/docs/assets/js/298.2e259f4b.js"><link rel="prefetch" href="/docs/assets/js/299.7fed62ba.js"><link rel="prefetch" href="/docs/assets/js/3.054cc2ec.js"><link rel="prefetch" href="/docs/assets/js/30.b554c761.js"><link rel="prefetch" href="/docs/assets/js/300.1f947cef.js"><link rel="prefetch" href="/docs/assets/js/301.f708dd5e.js"><link rel="prefetch" href="/docs/assets/js/302.161104b1.js"><link rel="prefetch" href="/docs/assets/js/303.e23692dd.js"><link rel="prefetch" href="/docs/assets/js/304.05659027.js"><link rel="prefetch" href="/docs/assets/js/305.9bf971c9.js"><link rel="prefetch" href="/docs/assets/js/306.ca8deeea.js"><link rel="prefetch" href="/docs/assets/js/307.97a6667e.js"><link rel="prefetch" href="/docs/assets/js/308.693ca743.js"><link rel="prefetch" href="/docs/assets/js/309.fffb02db.js"><link rel="prefetch" href="/docs/assets/js/31.370bb99a.js"><link rel="prefetch" href="/docs/assets/js/310.2bc665a7.js"><link rel="prefetch" href="/docs/assets/js/311.7953e1c2.js"><link rel="prefetch" href="/docs/assets/js/312.fa9bc367.js"><link rel="prefetch" href="/docs/assets/js/313.ac895eeb.js"><link rel="prefetch" href="/docs/assets/js/314.3631b719.js"><link rel="prefetch" href="/docs/assets/js/315.74ff42ab.js"><link rel="prefetch" href="/docs/assets/js/316.3e76797f.js"><link rel="prefetch" href="/docs/assets/js/317.6fb15d7c.js"><link rel="prefetch" href="/docs/assets/js/318.79e44dca.js"><link rel="prefetch" href="/docs/assets/js/319.bc94de5a.js"><link rel="prefetch" href="/docs/assets/js/32.78d1f1eb.js"><link rel="prefetch" href="/docs/assets/js/320.50cf4d33.js"><link rel="prefetch" href="/docs/assets/js/321.92c73aef.js"><link rel="prefetch" href="/docs/assets/js/322.4b083d48.js"><link rel="prefetch" href="/docs/assets/js/323.26c3a0ab.js"><link rel="prefetch" href="/docs/assets/js/324.fcb79d62.js"><link rel="prefetch" href="/docs/assets/js/325.45cede6b.js"><link rel="prefetch" href="/docs/assets/js/326.199b7195.js"><link rel="prefetch" href="/docs/assets/js/327.c396bfb7.js"><link rel="prefetch" href="/docs/assets/js/328.988a3de9.js"><link rel="prefetch" href="/docs/assets/js/329.fe8358a3.js"><link rel="prefetch" href="/docs/assets/js/33.6b9b4e96.js"><link rel="prefetch" href="/docs/assets/js/34.76d3700c.js"><link rel="prefetch" href="/docs/assets/js/35.b61bf772.js"><link rel="prefetch" href="/docs/assets/js/36.7f32760f.js"><link rel="prefetch" href="/docs/assets/js/37.4079c117.js"><link rel="prefetch" href="/docs/assets/js/38.1ac45a99.js"><link rel="prefetch" href="/docs/assets/js/39.0b98297f.js"><link rel="prefetch" href="/docs/assets/js/4.98818668.js"><link rel="prefetch" href="/docs/assets/js/40.bc044ad5.js"><link rel="prefetch" href="/docs/assets/js/41.de0fe499.js"><link rel="prefetch" href="/docs/assets/js/42.e225df72.js"><link rel="prefetch" href="/docs/assets/js/43.5e38f722.js"><link rel="prefetch" href="/docs/assets/js/44.c7251ae2.js"><link rel="prefetch" href="/docs/assets/js/45.47147150.js"><link rel="prefetch" href="/docs/assets/js/46.b91db25b.js"><link rel="prefetch" href="/docs/assets/js/47.40a11e04.js"><link rel="prefetch" href="/docs/assets/js/48.02effbc8.js"><link rel="prefetch" href="/docs/assets/js/49.0daadd89.js"><link rel="prefetch" href="/docs/assets/js/5.c3703f1d.js"><link rel="prefetch" href="/docs/assets/js/50.821b5322.js"><link rel="prefetch" href="/docs/assets/js/51.907927f0.js"><link rel="prefetch" href="/docs/assets/js/52.fbd6f4cb.js"><link rel="prefetch" href="/docs/assets/js/53.f1a0dc32.js"><link rel="prefetch" href="/docs/assets/js/54.8b66e487.js"><link rel="prefetch" href="/docs/assets/js/55.07cf4188.js"><link rel="prefetch" href="/docs/assets/js/56.ba320d44.js"><link rel="prefetch" href="/docs/assets/js/57.13a27667.js"><link rel="prefetch" href="/docs/assets/js/58.ef5d7e10.js"><link rel="prefetch" href="/docs/assets/js/59.dd726a42.js"><link rel="prefetch" href="/docs/assets/js/6.a764175d.js"><link rel="prefetch" href="/docs/assets/js/60.77ab395a.js"><link rel="prefetch" href="/docs/assets/js/61.3634b93f.js"><link rel="prefetch" href="/docs/assets/js/62.4c2d18ec.js"><link rel="prefetch" href="/docs/assets/js/63.57de2c82.js"><link rel="prefetch" href="/docs/assets/js/64.7b6639a9.js"><link rel="prefetch" href="/docs/assets/js/65.563fdeff.js"><link rel="prefetch" href="/docs/assets/js/66.81bd4cf2.js"><link rel="prefetch" href="/docs/assets/js/67.7fa4933d.js"><link rel="prefetch" href="/docs/assets/js/68.beebaf3f.js"><link rel="prefetch" href="/docs/assets/js/69.64313c8f.js"><link rel="prefetch" href="/docs/assets/js/7.2960bb58.js"><link rel="prefetch" href="/docs/assets/js/70.96160c4a.js"><link rel="prefetch" href="/docs/assets/js/71.ddaef725.js"><link rel="prefetch" href="/docs/assets/js/72.96fd17ad.js"><link rel="prefetch" href="/docs/assets/js/73.7ccc2f65.js"><link rel="prefetch" href="/docs/assets/js/74.3198ebf4.js"><link rel="prefetch" href="/docs/assets/js/75.4886a68c.js"><link rel="prefetch" href="/docs/assets/js/76.8d13e16c.js"><link rel="prefetch" href="/docs/assets/js/77.adc7359e.js"><link rel="prefetch" href="/docs/assets/js/78.2e03c285.js"><link rel="prefetch" href="/docs/assets/js/79.7d0ac9a1.js"><link rel="prefetch" href="/docs/assets/js/8.4c0568fd.js"><link rel="prefetch" href="/docs/assets/js/80.0e2710e5.js"><link rel="prefetch" href="/docs/assets/js/81.cdf404cc.js"><link rel="prefetch" href="/docs/assets/js/82.01e97e1f.js"><link rel="prefetch" href="/docs/assets/js/83.90c08f77.js"><link rel="prefetch" href="/docs/assets/js/84.2225a6dc.js"><link rel="prefetch" href="/docs/assets/js/85.49171e3b.js"><link rel="prefetch" href="/docs/assets/js/86.b18603ac.js"><link rel="prefetch" href="/docs/assets/js/87.772b6e3a.js"><link rel="prefetch" href="/docs/assets/js/88.82fdaa52.js"><link rel="prefetch" href="/docs/assets/js/89.bfcd0e62.js"><link rel="prefetch" href="/docs/assets/js/9.c7f05dcb.js"><link rel="prefetch" href="/docs/assets/js/90.ebe887ad.js"><link rel="prefetch" href="/docs/assets/js/91.7006ce28.js"><link rel="prefetch" href="/docs/assets/js/92.e662a7e6.js"><link rel="prefetch" href="/docs/assets/js/93.b97b9d2a.js"><link rel="prefetch" href="/docs/assets/js/94.36f8f62e.js"><link rel="prefetch" href="/docs/assets/js/95.b7192aed.js"><link rel="prefetch" href="/docs/assets/js/96.f0bc5b58.js"><link rel="prefetch" href="/docs/assets/js/97.59dcee0b.js"><link rel="prefetch" href="/docs/assets/js/98.e16eec31.js"><link rel="prefetch" href="/docs/assets/js/99.26ea8045.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.5d974432.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><!----> <span class="site-name">Nguyễn Khánk's Wiki</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/architect/" class="nav-link">
  Architecture
</a></div><div class="nav-item"><a href="/docs/kungfu/letsgo.html" class="nav-link">
  Kungfu
</a></div><div class="nav-item"><a href="https://nguyenngockhank.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Home
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/architect/" class="nav-link">
  Architecture
</a></div><div class="nav-item"><a href="/docs/kungfu/letsgo.html" class="nav-link">
  Kungfu
</a></div><div class="nav-item"><a href="https://nguyenngockhank.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Home
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>NoSql Distilled</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>A Philosophy of Software Design</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>97 Things Every Programmer Should Know</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>The Art of Readable Code</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/kungfu/artofcode/c0.html" class="sidebar-link">The Art of Readable Code</a></li><li><a href="/docs/kungfu/artofcode/c1.html" class="sidebar-link">C H A P T E R 1</a></li><li><a href="/docs/kungfu/artofcode/c2.html" class="sidebar-link">Packing Information into Names (C2 - I)</a></li><li><a href="/docs/kungfu/artofcode/c3.html" class="sidebar-link">Names That Can’t Be Misconstrued</a></li><li><a href="/docs/kungfu/artofcode/c4.html" aria-current="page" class="active sidebar-link">C H A P T E R F O U R</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/docs/kungfu/artofcode/c5.html" class="sidebar-link">C H A P T E R F I V E</a></li><li><a href="/docs/kungfu/artofcode/c6.html" class="sidebar-link">C H A P T E R S I X</a></li><li><a href="/docs/kungfu/artofcode/c7.html" class="sidebar-link">C H A P T E R 7</a></li><li><a href="/docs/kungfu/artofcode/c8.html" class="sidebar-link">C H A P T E R 8</a></li><li><a href="/docs/kungfu/artofcode/c9.html" class="sidebar-link">C H A P T E R 9</a></li><li><a href="/docs/kungfu/artofcode/c10.html" class="sidebar-link">C H A P T E R T E N</a></li><li><a href="/docs/kungfu/artofcode/c11.html" class="sidebar-link">C H A P T E R E L E V E N</a></li><li><a href="/docs/kungfu/artofcode/c12.html" class="sidebar-link">C H A P T E R T W E L V E</a></li><li><a href="/docs/kungfu/artofcode/c13.html" class="sidebar-link">C H A P T E R T H I R T E E N</a></li><li><a href="/docs/kungfu/artofcode/c14.html" class="sidebar-link">Testing and Readability (C14 - IV)</a></li><li><a href="/docs/kungfu/artofcode/c15.html" class="sidebar-link">C H A P T E R F I F T E E N</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="c-h-a-p-t-e-r-f-o-u-r"><a href="#c-h-a-p-t-e-r-f-o-u-r" class="header-anchor">#</a> C H A P T E R F O U R</h1> <p><strong>Aesthetics</strong></p> <div class="language- extra-class"><pre class="language-text"><code>33
</code></pre></div><p>A lot of thought goes into the layout of a magazine—the length of the paragraphs, the width</p> <p>of the columns, the order of the articles, and what goes on the cover. A good magazine makes</p> <p>it easy to skip around from page to page, but also easy to read straight through.</p> <p>Good source code should be just as “easy on the eyes.” In this chapter, we’ll show how good</p> <p>use of spacing, alignment, and ordering can make your code easier to read.</p> <p>Specifically, there are three principles we use:</p> <ul><li>Use consistent layout, with patterns the reader can get used to.</li> <li>Make similar code look similar.</li> <li>Group related lines of code into blocks.</li></ul> <p>AESTHETICS VS. DESIGN</p> <div class="language- extra-class"><pre class="language-text"><code>In this chapter, we’re concerned only with simple “aesthetic” improvements you can make to your
code. These types of changes are easy to make and often improve readability quite a bit. There are
times when larger refactoring of your code (such as splitting out new functions or classes) can help
even more. Our view is that good aesthetics and good design are independent ideas; ideally you
should strive for both.
</code></pre></div><h3 id="why-do-aesthetics-matter"><a href="#why-do-aesthetics-matter" class="header-anchor">#</a> Why Do Aesthetics Matter?</h3> <p><strong>34</strong> CHAPTER FOUR</p> <p>Imagine if you had to use this class:</p> <div class="language- extra-class"><pre class="language-text"><code>class StatsKeeper {
public:
// A class for keeping track of a series of doubles
void Add(double d); // and methods for quick statistics about them
private: int count; /* how many so far
*/ public:
double Average();
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>private: double minimum;
list&lt;double&gt;
past_items
;double maximum;
};
</code></pre></div><p>It would take you a lot longer to understand it than if you had this cleaner version instead:</p> <div class="language- extra-class"><pre class="language-text"><code>// A class for keeping track of a series of doubles
// and methods for quick statistics about them.
class StatsKeeper {
public:
void Add(double d);
double Average();
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>private:
list&lt;double&gt; past_items;
int count; // how many so far
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>double minimum;
double maximum;
};
</code></pre></div><p>Obviously it’s <strong>easier to work with code that’s aesthetically pleasing</strong>. If you think about</p> <p>it, most of your time programming is spent looking at code! The faster you can skim through</p> <p>your code, the easier it is for everyone to use it.</p> <h3 id="rearrange-line-breaks-to-be-consistent-and-compact"><a href="#rearrange-line-breaks-to-be-consistent-and-compact" class="header-anchor">#</a> Rearrange Line Breaks to Be Consistent and Compact</h3> <p>Suppose you were writing Java code to evaluate how your program behaves under various</p> <p>network connection speeds. You have a TcpConnectionSimulator that takes four parameters in</p> <p>the constructor:</p> <ol><li>The speed of the connection (Kbps)</li> <li>The average latency (ms)
3.The “jitter” of the latency (ms)</li> <li>The packet loss (percentage)</li></ol> <div class="language- extra-class"><pre class="language-text"><code>AESTHETICS 35
</code></pre></div><p>Your code needed three different TcpConnectionSimulator instances:</p> <div class="language- extra-class"><pre class="language-text"><code>public class PerformanceTester {
public static final TcpConnectionSimulator wifi = new TcpConnectionSimulator (
500, /* Kbps */
80, /* millisecs latency */
200, /* jitter */
1 /* packet loss % */);
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>public static final TcpConnectionSimulator t3_fiber =
new TcpConnectionSimulator (
45000, /* Kbps */
10, /* millisecs latency */
0, /* jitter */
0 /* packet loss % */);
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>public static final TcpConnectionSimulator cell = new TcpConnectionSimulator (
100, /* Kbps */
400, /* millisecs latency */
250, /* jitter */
5 /* packet loss % */);
}
</code></pre></div><p>This example code needed a lot of extra line breaks to fit inside an 80-character limit (this was</p> <p>the coding standard at your company). Unfortunately, that made the definition of t3_fiber</p> <p>look different from its neighbors. The “silhouette” of this code is odd, and it draws attention</p> <p>to t3_fiber for no reason. This doesn’t follow the principle that “similar code should look</p> <p>similar.”</p> <p>To make the code look more consistent, we could introduce extra line breaks (and line up the</p> <p>comments while we’re at it):</p> <div class="language- extra-class"><pre class="language-text"><code>public class PerformanceTester {
public static final TcpConnectionSimulator wifi =
new TcpConnectionSimulator (
500, /* Kbps */
80, /* millisecs latency */
200, /* jitter */
1 /* packet loss % */);
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>public static final TcpConnectionSimulator t3_fiber =
new TcpConnectionSimulator (
45000, /* Kbps */
10, /* millisecs latency */
0, /* jitter */
0 /* packet loss % */);
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>public static final TcpConnectionSimulator cell =
new TcpConnectionSimulator (
100, /* Kbps */
400, /* millisecs latency */
250, /* jitter */
5 /* packet loss % */);
}
</code></pre></div><p><strong>36</strong> CHAPTER FOUR</p> <p>This code has a nice consistent pattern, and is easier to scan through. But unfortunately, it uses</p> <p>a lot of vertical space. It also duplicates each comment three times.</p> <p>Here’s a more compact way to write the class:</p> <div class="language- extra-class"><pre class="language-text"><code>public class PerformanceTester {
// TcpConnectionSimulator(throughput, latency, jitter, packet_loss)
// [Kbps] [ms] [ms] [percent]
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>public static final TcpConnectionSimulator wifi =
new TcpConnectionSimulator (500, 80, 200, 1);
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>public static final TcpConnectionSimulator t3_fiber =
new TcpConnectionSimulator (45000, 10, 0, 0);
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>public static final TcpConnectionSimulator cell =
new TcpConnectionSimulator (100, 400, 250, 5);
}
</code></pre></div><p>We’ve moved the comments up to the top and then put all the parameters on one line. Now,</p> <p>even though the comment isn’t right next to each number, the “data” is lined up in a more</p> <p>compact table.</p> <h3 id="use-methods-to-clean-up-irregularity"><a href="#use-methods-to-clean-up-irregularity" class="header-anchor">#</a> Use Methods to Clean Up Irregularity</h3> <p>Suppose you had a personnel database that provided the following function:</p> <div class="language- extra-class"><pre class="language-text"><code>// Turn a partial_name like &quot;Doug Adams&quot; into &quot;Mr. Douglas Adams&quot;.
// If not possible, 'error' is filled with an explanation.
string ExpandFullName (DatabaseConnection dc, string partial_name, string* error);
</code></pre></div><p>and this function was tested with a series of examples:</p> <div class="language- extra-class"><pre class="language-text"><code>DatabaseConnection database_connection;
string error;
assert( ExpandFullName (database_connection, &quot;Doug Adams&quot;, &amp;error)
== &quot;Mr. Douglas Adams&quot;);
assert(error == &quot;&quot;);
assert( ExpandFullName (database_connection, &quot; Jake Brown &quot;, &amp;error)
== &quot;Mr. Jacob Brown III&quot;);
assert(error == &quot;&quot;);
assert( ExpandFullName (database_connection, &quot;No Such Guy&quot;, &amp;error) == &quot;&quot;);
assert(error == &quot;no match found&quot;);
assert( ExpandFullName (database_connection, &quot;John&quot;, &amp;error) == &quot;&quot;);
assert(error == &quot;more than one result&quot;);
</code></pre></div><p>This code is not aesthetically pleasing. Some of the lines are so long that they wrap to the next</p> <p>line. The silhouette of this code is ugly and there is no consistent pattern.</p> <p>But this is a case where rearranging the line breaks can only do so much. The bigger problem</p> <p>is that there are a lot of repeated strings like “assert(ExpandFullName(database_connection...,”</p> <p>and “error” that are getting in the way. To really improve this code, we need a helper method</p> <p>so the code can look like this:</p> <div class="language- extra-class"><pre class="language-text"><code>AESTHETICS 37
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>CheckFullName (&quot;Doug Adams&quot;, &quot;Mr. Douglas Adams&quot;, &quot;&quot;);
CheckFullName (&quot; Jake Brown &quot;, &quot;Mr. Jake Brown III&quot;, &quot;&quot;);
CheckFullName (&quot;No Such Guy&quot;, &quot;&quot;, &quot;no match found&quot;);
CheckFullName (&quot;John&quot;, &quot;&quot;, &quot;more than one result&quot;);
</code></pre></div><p>Now it’s more clear that there are four tests happening, each with different parameters. Even</p> <p>though all the “dirty work” is inside CheckFullName(), that function isn’t so bad, either:</p> <div class="language- extra-class"><pre class="language-text"><code>void CheckFullName(string partial_name,
string expected_full_name,
string expected_error) {
// database_connection is now a class member
string error;
string full_name = ExpandFullName(database_connection, partial_name , &amp;error);
assert(error == expected_error );
assert(full_name == expected_full_name );
}
</code></pre></div><p>Even though our goal was just to make the code more aesthetically pleasing, this change has</p> <p>a number of other side benefits:</p> <ul><li>It eliminates a lot of the duplicated code from before, making the code more compact.</li> <li>The important parts of each test case (the names and error strings) are now by
themselves, in plain sight. Before, these strings were interspersed with tokens like
database_connection and error, which made it hard to “take in” the code in one eyeful.</li> <li>Adding new tests should be much easier now.</li></ul> <p>The moral of the story is that making code “look pretty” often results in more than just surface</p> <p>improvements—it might help you structure your code better.</p> <h3 id="use-column-alignment-when-helpful"><a href="#use-column-alignment-when-helpful" class="header-anchor">#</a> Use Column Alignment When Helpful</h3> <p>Straight edges and columns make it easier for readers to scan through text.</p> <p>Sometimes you can introduce “column alignment” to make the code easier to read. For</p> <p>example, in the previous section, you could space out and line up the arguments to</p> <p>CheckFullName():</p> <div class="language- extra-class"><pre class="language-text"><code>CheckFullName(&quot;Doug Adams&quot; , &quot;Mr. Douglas Adams&quot; , &quot;&quot;);
CheckFullName(&quot; Jake Brown &quot;, &quot;Mr. Jake Brown III&quot;, &quot;&quot;);
CheckFullName(&quot;No Such Guy&quot; , &quot;&quot; , &quot;no match found&quot;);
CheckFullName(&quot;John&quot; , &quot;&quot; , &quot;more than one result&quot;);
</code></pre></div><p>In this code, it’s easier to distinguish the second and third arguments to CheckFullName().</p> <p>Here is a simple example with a large group of variable definitions:</p> <div class="language- extra-class"><pre class="language-text"><code># Extract POST parameters to local variables
details = request.POST.get('details')
location = request.POST.get('location')
phone = equest.POST.get('phone')
</code></pre></div><p><strong>38</strong> CHAPTER FOUR</p> <div class="language- extra-class"><pre class="language-text"><code>email = request.POST.get('email')
url = request.POST.get('url')
</code></pre></div><p>As you may have noticed, the third definition has a typo (equest instead of request). Mistakes</p> <p>like these are more pronounced when everything is lined up so neatly.</p> <p>In the wget codebase, the available command-line options (more than 100 of them) were listed</p> <p>as follows:</p> <div class="language- extra-class"><pre class="language-text"><code>commands[] = {
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>{ &quot;timeout&quot;, NULL, cmd_spec_timeout },
{ &quot;timestamping&quot;, &amp;opt.timestamping, cmd_boolean },
{ &quot;tries&quot;, &amp;opt.ntry, cmd_number_inf },
{ &quot;useproxy&quot;, &amp;opt.use_proxy, cmd_boolean },
{ &quot;useragent&quot;, NULL, cmd_spec_useragent },
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>};
</code></pre></div><p>This approach made the list very easy to skim through and jump from one column to the next.</p> <p><strong>Should You Use Column Alignment?</strong></p> <p>Column edges provide “visual handrails” that make it easier to scan through. It’s a good</p> <p>example of “make similar code look similar.”</p> <p>But some programmers don’t like it. One reason is that it takes more work to set up and</p> <p>maintain the alignment. Another reason is it creates a larger “diff” when making changes—a</p> <p>one-line change might cause five other lines to change (mostly just whitespace).</p> <p>Our advice is to try it. In our experience, it doesn’t take as much work as programmers fear.</p> <p>And if it does, you can simply stop.</p> <h3 id="pick-a-meaningful-order-and-use-it-consistently"><a href="#pick-a-meaningful-order-and-use-it-consistently" class="header-anchor">#</a> Pick a Meaningful Order, and Use It Consistently</h3> <p>There are many cases where the order of code doesn’t affect the correctness. For instance, these</p> <p>five variable definitions could be written in any order:</p> <div class="language- extra-class"><pre class="language-text"><code>details = request.POST.get('details')
location = request.POST.get('location')
phone = request.POST.get('phone')
email = request.POST.get('email')
url = request.POST.get('url')
</code></pre></div><p>In situations like this, it’s helpful to put them in some meaningful order, not just random. Here</p> <p>are some ideas:</p> <ul><li>Match the order of the variables to the order of the <input> fields on the corresponding
HTML form.</li></ul> <div class="language- extra-class"><pre class="language-text"><code>AESTHETICS 39
</code></pre></div><ul><li>Order them from “most important” to “least important.”</li> <li>Order them alphabetically.</li></ul> <p>Whatever the order, you should use the same order throughout your code. It would be</p> <p>confusing to change the order later on:</p> <div class="language- extra-class"><pre class="language-text"><code>if details: rec.details = details
if phone: rec.phone = phone # Hey, where did 'location' go?
if email: rec.email = email
if url: rec.url = url
if location: rec.location = location # Why is 'location' down here now?
</code></pre></div><h3 id="organize-declarations-into-blocks"><a href="#organize-declarations-into-blocks" class="header-anchor">#</a> Organize Declarations into Blocks</h3> <p>The brain naturally thinks in terms of groups and hierarchies, so you can help a reader quickly</p> <p>digest your code by organizing it that way.</p> <p>For example, here’s a C++ class for a frontend server, with all its method declarations:</p> <div class="language- extra-class"><pre class="language-text"><code>class FrontendServer {
public:
FrontendServer();
void ViewProfile(HttpRequest* request);
void OpenDatabase(string location, string user);
void SaveProfile(HttpRequest* request);
string ExtractQueryParam(HttpRequest* request, string param);
void ReplyOK(HttpRequest* request, string html);
void FindFriends(HttpRequest* request);
void ReplyNotFound(HttpRequest* request, string error);
void CloseDatabase(string location);
~FrontendServer();
};
</code></pre></div><p>This code isn’t horrible, but the layout certainly doesn’t help the reader digest all those</p> <p>methods. Instead of listing all the methods in one giant block, they should be logically organized</p> <p>into groups, like this:</p> <div class="language- extra-class"><pre class="language-text"><code>class FrontendServer {
public:
FrontendServer();
~FrontendServer();
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>// Handlers
void ViewProfile(HttpRequest* request);
void SaveProfile(HttpRequest* request);
void FindFriends(HttpRequest* request);
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>// Request/Reply Utilities
string ExtractQueryParam(HttpRequest* request, string param);
void ReplyOK(HttpRequest* request, string html);
void ReplyNotFound(HttpRequest* request, string error);
</code></pre></div><p><strong>40</strong> CHAPTER FOUR</p> <div class="language- extra-class"><pre class="language-text"><code>// Database Helpers
void OpenDatabase(string location, string user);
void CloseDatabase(string location);
};
</code></pre></div><p>This version is much easier to digest. It’s also easier to read, even though there are more lines</p> <p>of code. The reason is that you can quickly figure out the four high-level sections and then</p> <p>read the details of each section when it’s necessary.</p> <h3 id="break-code-into-paragraphs"><a href="#break-code-into-paragraphs" class="header-anchor">#</a> Break Code into “Paragraphs”</h3> <p>Written text is broken into paragraphs for a number of reasons:</p> <ul><li>It’s a way to group similar ideas together and set them apart from other ideas.</li> <li>It provides a visual “stepping stone”—without it, it’s easy to lose your place on the page.</li> <li>It facilitates navigation from one paragraph to another.</li></ul> <p>Code should be broken into “paragraphs” for the same reasons. For example, no one likes to</p> <p>read a giant lump of code like this:</p> <div class="language- extra-class"><pre class="language-text"><code># Import the user's email contacts, and match them to users in our system.
# Then display a list of those users that he/she isn't already friends with.
def suggest_new_friends(user, email_password):
friends = user.friends()
friend_emails = set(f.email for f in friends)
contacts = import_contacts(user.email, email_password)
contact_emails = set(c.email for c in contacts)
non_friend_emails = contact_emails - friend_emails
suggested_friends = User.objects.select(email__in=non_friend_emails)
display['user'] = user
display['friends'] = friends
display['suggested_friends'] = suggested_friends
return render(&quot;suggested_friends.html&quot;, display)
</code></pre></div><p>It may not be obvious, but this function goes through a number of distinct steps. So it would</p> <p>be especially useful to break up those lines of code into paragraphs:</p> <div class="language- extra-class"><pre class="language-text"><code>def suggest_new_friends(user, email_password):
# Get the user's friends' email addresses.
friends = user.friends()
friend_emails = set(f.email for f in friends)
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code># Import all email addresses from this user's email account.
contacts = import_contacts(user.email, email_password)
contact_emails = set(c.email for c in contacts)
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code># Find matching users that they aren't already friends with.
non_friend_emails = contact_emails - friend_emails
suggested_friends = User.objects.select(email__in=non_friend_emails)
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>AESTHETICS 41
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code># Display these lists on the page.
display['user'] = user
display['friends'] = friends
display['suggested_friends'] = suggested_friends
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>return render(&quot;suggested_friends.html&quot;, display)
</code></pre></div><p>Notice that we also added a summary comment to each paragraph, which also helps the reader</p> <p>skim through the code. (See Chapter 5, <em>Knowing What to Comment</em> .)</p> <p>As with written text, there may be multiple ways to break the code up, and programmers may</p> <p>prefer longer or shorter paragraphs.</p> <h3 id="personal-style-versus-consistency"><a href="#personal-style-versus-consistency" class="header-anchor">#</a> Personal Style versus Consistency</h3> <p>There are certain aesthetic choices that just boil down to personal style. For instance, where</p> <p>the open brace for a class definition should go:</p> <div class="language- extra-class"><pre class="language-text"><code>class Logger {
...
};
</code></pre></div><p>or</p> <div class="language- extra-class"><pre class="language-text"><code>class Logger
{
...
};
</code></pre></div><p>If one of these styles is chosen over the other, it doesn’t substantially affect the readability of</p> <p>the codebase. But if these two styles are mixed throughout the code, it does affect the</p> <p>readability.</p> <p>We’ve worked on many projects where we felt like the team was using the “wrong” style, but</p> <p>we followed the project conventions because we knew that consistency is far more important.</p> <div class="custom-block tip"><p class="custom-block-title">K E Y I D E A</p> <p>Consistent style is more important than the “right” style.</p></div> <h3 id="summary"><a href="#summary" class="header-anchor">#</a> Summary</h3> <p>Everyone prefers to read code that’s aesthetically pleasing. By “formatting” your code in a</p> <p>consistent, meaningful way, you make it easier and faster to read.</p> <p>Here are specific techniques we discussed:</p> <ul><li>If multiple blocks of code are doing similar things, try to give them the same silhouette.</li> <li>Aligning parts of the code into “columns” can make code easy to skim through.</li> <li>If code mentions A, B, and C in one place, don’t say B, C, and A in another. Pick a
meaningful order and stick with it.</li> <li>Use empty lines to break apart large blocks into logical “paragraphs.”</li></ul> <div class="language- extra-class"><pre class="language-text"><code>AESTHETICS 43
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/docs/kungfu/artofcode/c3.html" class="prev">
        Names That Can’t Be Misconstrued
      </a></span> <span class="next"><a href="/docs/kungfu/artofcode/c5.html">
        C H A P T E R F I V E
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----><!----></div></div>
    <script src="/docs/assets/js/app.feff3dbb.js" defer></script><script src="/docs/assets/js/2.aca46d71.js" defer></script><script src="/docs/assets/js/225.b249063b.js" defer></script><script src="/docs/assets/js/27.5ed2ce18.js" defer></script>
  </body>
</html>
