<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Authenication | Nguyễn Khánk&#39;s Wiki</title>
    <meta name="description" content="Wikipedia của tui">
    <link rel="apple-touch-icon" sizes="180x180" href="../public/favicons/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="../public/favicons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="../public/favicons/favicon-16x16.png">
  <link rel="manifest" href="../public/favicons/site.webmanifest">
  <link rel="mask-icon" href="../public/favicons/safari-pinned-tab.svg" color="#3a0839">
  <link rel="shortcut icon" href="../public/favicons/favicon.ico">
  <meta name="msapplication-TileColor" content="#3a0839">
  <meta name="msapplication-config" content="../public/favicons/browserconfig.xml">
  <meta name="theme-color" content="#ffffff">
    
    <link rel="preload" href="/docs/assets/css/0.styles.10c81e38.css" as="style"><link rel="preload" href="/docs/assets/js/app.79d6080b.js" as="script"><link rel="preload" href="/docs/assets/js/7.ba6fef03.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.53bc128f.js"><link rel="prefetch" href="/docs/assets/js/11.16cfd92b.js"><link rel="prefetch" href="/docs/assets/js/12.0090688d.js"><link rel="prefetch" href="/docs/assets/js/13.efefd4cf.js"><link rel="prefetch" href="/docs/assets/js/14.2bccc3b9.js"><link rel="prefetch" href="/docs/assets/js/15.e5a08089.js"><link rel="prefetch" href="/docs/assets/js/16.b44aaed0.js"><link rel="prefetch" href="/docs/assets/js/17.e0ab2129.js"><link rel="prefetch" href="/docs/assets/js/18.722296f8.js"><link rel="prefetch" href="/docs/assets/js/19.bb716bad.js"><link rel="prefetch" href="/docs/assets/js/2.5b07ba1d.js"><link rel="prefetch" href="/docs/assets/js/20.28484a59.js"><link rel="prefetch" href="/docs/assets/js/21.1e9a5d0c.js"><link rel="prefetch" href="/docs/assets/js/22.d3d4a71a.js"><link rel="prefetch" href="/docs/assets/js/23.eeed8c35.js"><link rel="prefetch" href="/docs/assets/js/24.959ca89a.js"><link rel="prefetch" href="/docs/assets/js/25.2c598d28.js"><link rel="prefetch" href="/docs/assets/js/26.a1432751.js"><link rel="prefetch" href="/docs/assets/js/27.fe6b6484.js"><link rel="prefetch" href="/docs/assets/js/28.936b6103.js"><link rel="prefetch" href="/docs/assets/js/29.b44aea0f.js"><link rel="prefetch" href="/docs/assets/js/3.1511bd4e.js"><link rel="prefetch" href="/docs/assets/js/30.8d884327.js"><link rel="prefetch" href="/docs/assets/js/31.ec3004e9.js"><link rel="prefetch" href="/docs/assets/js/32.95559583.js"><link rel="prefetch" href="/docs/assets/js/33.fa628189.js"><link rel="prefetch" href="/docs/assets/js/34.16ed52c1.js"><link rel="prefetch" href="/docs/assets/js/35.2b1e18f9.js"><link rel="prefetch" href="/docs/assets/js/36.3c3bd4a4.js"><link rel="prefetch" href="/docs/assets/js/37.ffd2781f.js"><link rel="prefetch" href="/docs/assets/js/38.3c719a6f.js"><link rel="prefetch" href="/docs/assets/js/39.e49e6dc0.js"><link rel="prefetch" href="/docs/assets/js/4.913b877c.js"><link rel="prefetch" href="/docs/assets/js/40.2315b2f6.js"><link rel="prefetch" href="/docs/assets/js/5.6d98ed6d.js"><link rel="prefetch" href="/docs/assets/js/6.0a1c5b8a.js"><link rel="prefetch" href="/docs/assets/js/8.c7171e62.js"><link rel="prefetch" href="/docs/assets/js/9.7893bac8.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.10c81e38.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><!----> <span class="site-name">Nguyễn Khánk's Wiki</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://nguyenngockhank.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Home
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://nguyenngockhank.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Home
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading"><span>PHP</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Node</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Javascript</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>Common</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/docs/common/optimize_web.html" class="sidebar-link">Performance website</a></li><li><a href="/docs/common/cross_domain.html" class="sidebar-link">Cross Domain</a></li><li><a href="/docs/common/authenication.html" class="active sidebar-link">Authenication</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/common/authenication.html#dau-hieu-chung" class="sidebar-link">Dấu hiệu chung</a></li><li class="sidebar-sub-header"><a href="/docs/common/authenication.html#basic-authentication" class="sidebar-link">Basic Authentication</a></li><li class="sidebar-sub-header"><a href="/docs/common/authenication.html#session-based-authentication" class="sidebar-link">Session-based Authentication</a></li><li class="sidebar-sub-header"><a href="/docs/common/authenication.html#token-based-authentication" class="sidebar-link">Token-based Authentication</a></li></ul></li><li><a href="/docs/common/realtime.html" class="sidebar-link">Real time</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Tricks</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Thuật toán</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Others</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="authenication"><a href="#authenication" aria-hidden="true" class="header-anchor">#</a> Authenication</h1> <p>Tóm tắt <a href="https://viblo.asia/p/authentication-story-part-1-authentication-la-lam-gi-63vKj2YMK2R" target="_blank" rel="noopener noreferrer">bài viết<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>Theo Wiki =))</p> <blockquote><p>Xác thực là một hành động nhằm thiết lập hoặc chứng thực một cái gì đó đáng tin cậy, có nghĩa là, những lời khai báo do người đó đưa ra hoặc về vật đó là sự thật. Xác thực một đối tượng còn có nghĩa là công nhận nguồn gốc của đối tượng, trong khi, xác thực một người thường bao gồm việc thẩm tra nhận dạng của họ.</p></blockquote> <h2 id="dau-hieu-chung"><a href="#dau-hieu-chung" aria-hidden="true" class="header-anchor">#</a> Dấu hiệu chung</h2> <p>Xác thực một HTTP request bằng một dấu hiệu nào đó trên request:</p> <ul><li>URL: <code>/post/create?api_key=my_key</code></li> <li>Cookie: SESSION_ID=CLIENT_TOKEN</li> <li>Authorization Header: <code>Authorization: my_token</code></li> <li>Custom Header: <code>Authorization: my_token</code></li> <li>Body: <code>content=...&amp;token=my_token</code></li></ul> <h2 id="basic-authentication"><a href="#basic-authentication" aria-hidden="true" class="header-anchor">#</a> Basic Authentication</h2> <blockquote><p>Cách hoạt động của Basic Auth là gửi chính <code>username</code> + <code>password</code> của người dùng theo <code>mỗi request</code>.</p></blockquote> <p><strong>Ưu điểm</strong></p> <ul><li>Đơn giản, đa số browsers &amp; server đều support</li> <li>Dễ dàng kết hợp với các phương pháp khác.</li></ul> <p><strong>Nhược điểm</strong></p> <ul><li>Username/password dễ bị lộ vì mỗi request đều phải truyền username và password</li> <li>Không thể logout. Ngoại trừ việc tự xóa lịch sử duyệt web hoặc hết thời gian lưu của trình duyệt.</li> <li>Không thân thiện với người dùng. UI xấu</li></ul> <h2 id="session-based-authentication"><a href="#session-based-authentication" aria-hidden="true" class="header-anchor">#</a> Session-based Authentication</h2> <p>Thi thoảng được gọi là cookie-based authentication.</p> <blockquote><p>Session-based authentication là cơ chế đăng nhập người dùng dựa trên việc tạo ra <code>session</code> của người dùng ở <code>phía server</code>.</p></blockquote> <p>Thường được dùng trong các website và những ứng dụng web làm việc <code>chủ yếu với browser</code>, những <code>hệ thống monolithic</code> do cần sự tập trung trong việc lưu session data và sự hạn chế về domain.</p> <p><strong>Ưu điểm</strong></p> <ul><li>Thông tin được giấu kín. Session ID thường random không mang thông tin user</li> <li>Dung lượng truyền tải nhỏ</li> <li>Không cần tác động client nhiều. 2 động tác hay làm đó là set Cookie cho mỗi request, hoặc nhét thêm hidden field trong Form.</li> <li>Fully-controlled session. VD: thời gian login, force logout, ...</li></ul> <p><strong>Nhược điểm</strong></p> <ul><li>Chiếm nhiều bộ nhớ trên server</li> <li>Khó scale: vì phải <code>dùng chung chỗ lưu session</code> hoặc <code>ghi nhớ user đã kết nối tới server nào</code> phục vụ cho việc <strong>Load Balancer</strong> có đẩy request server khác vẫn hiểu được đã authenication.</li> <li>Phụ thuộc domain. Thường sử dụng cookie để lưu <code>Session ID</code>, mà cookie lại phụ thuộc vào domain</li> <li><code>CSRF</code> - một cách thức để tấn công, ăn cắp quyền</li></ul> <h2 id="token-based-authentication"><a href="#token-based-authentication" aria-hidden="true" class="header-anchor">#</a> Token-based Authentication</h2> <blockquote><p><code>Token-based Authentication</code> là cơ chế đăng nhập người dùng dựa trên việc tạo ra <code>token</code> - một chuỗi ký tự (thường được mã hóa) <code>mang thông tin xác định người dùng</code> được server tạo ra và <code>lưu ở client</code>. Server sau đó [có thể] không lưu lại token này.</p></blockquote> <p>Thường được sử dụng trong các hệ thống <code>Web API</code>, <code>các hệ thống phân tán</code>, <code>micro-services</code>, các hệ thống có sự tham gia của các nền tảng khác như <code>mobile</code>, <code>IoT</code>, <code>server</code>,..., hoặc các <code>website kiểu mới</code> (phân tách rõ UI app và API).</p> <p><strong>Ưu điểm</strong></p> <ul><li>Stateless: <code>token</code> thường có tính chất <code>self-contained</code> =&gt; tính chất quan trọng nhất cho việc scale ngang - không cần quan tâm <code>sinh token ở đâu</code> và <code>verify token ở đâu</code></li> <li>Phù hợp với nhiều loại client: không chỉ <code>browser</code> mà cả</li> <li>Chống CSRF</li> <li>Không bị giới hạn bởi domain nhưng cũng có khả năng sẽ bị Cross Domain - <a href="/docs/common/cross_domain.html">Đọc thêm bài này để tham khảo thêm vấn đề này</a></li></ul> <p><strong>Nhược điểm</strong></p> <ul><li>Khó quản lý đăng xuất</li> <li>Phức tạp phần client</li> <li>Thông tin dễ lộ =&gt; thông thường chỉ lưu 1 số thông tin thiết yếu như <code>user_id</code>, <code>username</code> mà không lưu thông tin nhạy cảm như <code>password</code> vào token</li> <li>Dung lượng truyền tải lớn</li></ul></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/docs/common/cross_domain.html" class="prev">
          Cross Domain
        </a></span> <span class="next"><a href="/docs/common/realtime.html">
          Real time
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/docs/assets/js/app.79d6080b.js" defer></script><script src="/docs/assets/js/7.ba6fef03.js" defer></script>
  </body>
</html>
