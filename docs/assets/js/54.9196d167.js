(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{549:function(s,t,a){s.exports=a.p+"assets/img/joins.9ba0b10d.jpg"},550:function(s,t,a){s.exports=a.p+"assets/img/mysql-string-funcs.fc4eedf0.png"},816:function(s,t,a){"use strict";a.r(t);var e=a(7),r=Object(e.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"mysql-snippets"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mysql-snippets"}},[s._v("#")]),s._v(" MySql Snippets")]),s._v(" "),e("TagLinks"),s._v(" "),e("h2",{attrs:{id:"components-in-sql"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#components-in-sql"}},[s._v("#")]),s._v(" Components in SQL")]),s._v(" "),e("p",[s._v("There are 5 components of the SQL language:")]),s._v(" "),e("ul",[e("li",[s._v("DDL: data definition language, such as "),e("code",[s._v("CREATE")]),s._v(", "),e("code",[s._v("ALTER")]),s._v(", "),e("code",[s._v("DROP")])]),s._v(" "),e("li",[s._v("DQL: data query language, such as "),e("code",[s._v("SELECT")])]),s._v(" "),e("li",[s._v("DML: data manipulation language, such as "),e("code",[s._v("INSERT")]),s._v(", "),e("code",[s._v("UPDATE")]),s._v(", "),e("code",[s._v("DELETE")])]),s._v(" "),e("li",[s._v("DCL: data control language, such as "),e("code",[s._v("GRANT")]),s._v(", "),e("code",[s._v("REVOKE")])]),s._v(" "),e("li",[s._v("TCL: transaction control language, such as "),e("code",[s._v("COMMIT")]),s._v(", "),e("code",[s._v("ROLLBACK")])])]),s._v(" "),e("h2",{attrs:{id:"clone-table"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#clone-table"}},[s._v("#")]),s._v(" Clone table")]),s._v(" "),e("div",{staticClass:"language-sql extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" foo "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" bar "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LIMIT")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n")])])]),e("h2",{attrs:{id:"move-row-from-1-table-to-another"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#move-row-from-1-table-to-another"}},[s._v("#")]),s._v(" Move row from 1 table to another")]),s._v(" "),e("p",[s._v("Archived purpose - an an alternative way to soft delete. Avoid inserting duplication by unique key case.")]),s._v(" "),e("div",{staticClass:"language-sql extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" archived_posts \n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" posts "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" id "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DELETE")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" posts "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" id "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),e("h2",{attrs:{id:"sort-by-relevant-fulltext-search"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#sort-by-relevant-fulltext-search"}},[s._v("#")]),s._v(" Sort by relevant (Fulltext search)")]),s._v(" "),e("div",{staticClass:"language-sql extra-class"},[e("div",{staticClass:"highlight-lines"},[e("br"),e("div",{staticClass:"highlighted"},[s._v(" ")]),e("div",{staticClass:"highlighted"},[s._v(" ")]),e("br"),e("div",{staticClass:"highlighted"},[s._v(" ")]),e("br"),e("br")]),e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" \n    SQL_CALC_FOUND_ROWS product_id"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("MATCH")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" text_data "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" AGAINST "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{$params['")]),s._v("keyword"),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("']}'")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("IN")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("NATURAL")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LANGUAGE")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("MODE")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("score"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" {$table_name} \n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("MATCH")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" text_data "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" AGAINST "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{$params['")]),s._v("keyword"),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("']}'")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("IN")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("NATURAL")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LANGUAGE")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("MODE")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("score"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DESC")]),s._v(" \n")])])]),e("h2",{attrs:{id:"update-batch-with-specific-condition"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#update-batch-with-specific-condition"}},[s._v("#")]),s._v(" Update Batch with specific condition")]),s._v(" "),e("div",{staticClass:"language-sql extra-class"},[e("div",{staticClass:"highlight-lines"},[e("br"),e("br"),e("div",{staticClass:"highlighted"},[s._v(" ")]),e("div",{staticClass:"highlighted"},[s._v(" ")]),e("div",{staticClass:"highlighted"},[s._v(" ")]),e("div",{staticClass:"highlighted"},[s._v(" ")]),e("br"),e("br")]),e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UPDATE")]),s._v(" people \n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" name "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" \n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CASE")]),s._v(" id "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHEN")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("THEN")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Karl'")]),s._v("\n           "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHEN")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("THEN")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Tom'")]),s._v("\n           "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHEN")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("THEN")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Mary'")]),s._v("\n   "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("END")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" id "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("IN")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),e("p",[e("em",[s._v("Note")]),s._v(": This feature is not available in Laravel.\nThis package will help you "),e("a",{attrs:{href:"https://packagist.org/packages/mavinoo/laravel-batch",target:"_blank",rel:"noopener noreferrer"}},[s._v("laravel-batch"),e("OutboundLink")],1)]),s._v(" "),e("h2",{attrs:{id:"ordering-by-specific-field-value"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ordering-by-specific-field-value"}},[s._v("#")]),s._v(" Ordering by specific field value")]),s._v(" "),e("div",{staticClass:"language-sql extra-class"},[e("div",{staticClass:"highlight-lines"},[e("br"),e("br"),e("div",{staticClass:"highlighted"},[s._v(" ")]),e("br")]),e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" \n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" mytable "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" id "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("IN")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" FIELD"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n")])])]),e("h2",{attrs:{id:"complicated-ordering"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#complicated-ordering"}},[s._v("#")]),s._v(" Complicated Ordering")]),s._v(" "),e("div",{staticClass:"language-sql extra-class"},[e("div",{staticClass:"highlight-lines"},[e("br"),e("br"),e("div",{staticClass:"highlighted"},[s._v(" ")]),e("div",{staticClass:"highlighted"},[s._v(" ")]),e("div",{staticClass:"highlighted"},[s._v(" ")]),e("div",{staticClass:"highlighted"},[s._v(" ")]),e("div",{staticClass:"highlighted"},[s._v(" ")]),e("div",{staticClass:"highlighted"},[s._v(" ")]),e("div",{staticClass:"highlighted"},[s._v(" ")]),e("div",{staticClass:"highlighted"},[s._v(" ")]),e("div",{staticClass:"highlighted"},[s._v(" ")]),e("div",{staticClass:"highlighted"},[s._v(" ")]),e("div",{staticClass:"highlighted"},[s._v(" ")]),e("div",{staticClass:"highlighted"},[s._v(" ")]),e("div",{staticClass:"highlighted"},[s._v(" ")]),e("div",{staticClass:"highlighted"},[s._v(" ")]),e("div",{staticClass:"highlighted"},[s._v(" ")]),e("div",{staticClass:"highlighted"},[s._v(" ")]),e("div",{staticClass:"highlighted"},[s._v(" ")]),e("br"),e("br")]),e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("ac2_graduations"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" \n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CASE")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("is_scheduled"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHEN")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("THEN")]),s._v("\n            "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CASE")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("is_offline"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("\n                "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHEN")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("THEN")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n                "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ELSE")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n            "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("END")]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ELSE")]),s._v("\n            "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CASE")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("taken_exam"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("\n                "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHEN")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("THEN")]),s._v("\n                    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CASE")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("is_offline"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("\n                        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHEN")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("THEN")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n                        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ELSE")]),s._v("  "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\n                    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("END")]),s._v("\n                "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ELSE")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\n            "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("END")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("END")]),s._v(" \n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n")])])]),e("h2",{attrs:{id:"view"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#view"}},[s._v("#")]),s._v(" View")]),s._v(" "),e("div",{staticClass:"language-sql extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VIEW")]),s._v(" PostCountPerCategoryView \n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("  c"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" c"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("title"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("count")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" count\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" post p \n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" category c "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" c"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" p"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cat_id \n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" c"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" c"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("title\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" count "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DESC")]),s._v("\n")])])]),e("h2",{attrs:{id:"lock-rows"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lock-rows"}},[s._v("#")]),s._v(" Lock rows")]),s._v(" "),e("h3",{attrs:{id:"for-update"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#for-update"}},[s._v("#")]),s._v(" FOR UPDATE")]),s._v(" "),e("div",{staticClass:"language-sql extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" table_name "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" id"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FOR")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UPDATE")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),e("ul",[e("li",[e("em",[s._v("will not allow other transactions to read, update or delete the row")])])]),s._v(" "),e("h3",{attrs:{id:"lock-in-share-mode"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lock-in-share-mode"}},[s._v("#")]),s._v(" LOCK IN SHARE MODE")]),s._v(" "),e("div",{staticClass:"language-sql extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" table_name "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" id"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LOCK")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("IN")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SHARE")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("MODE")]),s._v("\n")])])]),e("ul",[e("li",[e("em",[s._v("will allow other transaction to read the locked row")])]),s._v(" "),e("li",[e("em",[s._v("but it will not allow other transaction to update or delete the row")])])]),s._v(" "),e("h2",{attrs:{id:"joins"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#joins"}},[s._v("#")]),s._v(" Joins")]),s._v(" "),e("p",[e("img",{attrs:{src:a(549),alt:"joins"}})]),s._v(" "),e("h2",{attrs:{id:"index"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#index"}},[s._v("#")]),s._v(" Index")]),s._v(" "),e("ol",[e("li",[s._v("Primary key - "),e("strong",[s._v("no duplication, has not "),e("code",[s._v("null")])])])]),s._v(" "),e("div",{staticClass:"language-sql extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALTER")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" tbl_name "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ADD")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PRIMARY")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("KEY")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("column")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("column")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),e("ol",{attrs:{start:"2"}},[e("li",[s._v("Unique  - "),e("strong",[s._v("no duplication, has "),e("code",[s._v("null")])])])]),s._v(" "),e("div",{staticClass:"language-sql extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALTER")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" tbl_name "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ADD")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UNIQUE")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("KEY")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("column")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("column")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),e("ol",{attrs:{start:"3"}},[e("li",[s._v("Index - "),e("strong",[s._v("has duplication, has "),e("code",[s._v("null")])])])]),s._v(" "),e("div",{staticClass:"language-sql extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALTER")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" tbl_name "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ADD")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INDEX")]),s._v(" index_name "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("column")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("column")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),e("ol",{attrs:{start:"4"}},[e("li",[s._v("Fulltext - "),e("strong",[s._v("Use for searching document")])])]),s._v(" "),e("div",{staticClass:"language-sql extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALTER")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" tbl_name "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ADD")]),s._v(" FULLTEXT index_name "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("column")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("column")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),e("ol",{attrs:{start:"0"}},[e("li",[s._v("Drop index")])]),s._v(" "),e("div",{staticClass:"language-sql extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DROP")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INDEX")]),s._v(" index_name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),e("h2",{attrs:{id:"commands"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#commands"}},[s._v("#")]),s._v(" Commands")]),s._v(" "),e("h3",{attrs:{id:"import-sql"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#import-sql"}},[s._v("#")]),s._v(" Import Sql")]),s._v(" "),e("Tabs",{attrs:{type:"border-card"}},[e("Tab",{attrs:{label:"Mac"}},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("mysql -u [user] -p [database] < backup-file.sql\n")])])])]),s._v(" "),e("Tab",{attrs:{label:"Windows"}},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("mysql -p -u [user] [database] < backup-file.sql\n")])])])])],1),s._v(" "),e("h2",{attrs:{id:"hot-fix"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#hot-fix"}},[s._v("#")]),s._v(" Hot Fix")]),s._v(" "),e("p",[s._v("Error: "),e("code",[s._v("Expression #1 of ORDER BY clause is not in SELECT list, references column 'test_wp3.dsm.Order'")])]),s._v(" "),e("p",[e("strong",[s._v("Solution:")])]),s._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SET GLOBAL sql_mode=(SELECT REPLACE(@@sql_mode,'ONLY_FULL_GROUP_BY',''));\n")])])]),e("p",[s._v("Error: "),e("code",[s._v("ERROR 1418 (HY000) at line 64: This function has none of DETERMINISTIC, NO SQL, or READS SQL DATA in its declaration and binary logging is enabled (you *might* want to use the less safe log_bin_trust_function_creators variable)")])]),s._v(" "),e("p",[e("strong",[s._v("Solution:")])]),s._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SET GLOBAL log_bin_trust_function_creators = 1;\n")])])]),e("hr"),s._v(" "),e("h2",{attrs:{id:"string-function-cheatsheets"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#string-function-cheatsheets"}},[s._v("#")]),s._v(" String Function Cheatsheets")]),s._v(" "),e("p",[e("img",{attrs:{src:a(550),alt:"joins"}})]),s._v(" "),e("h2",{attrs:{id:"mysql-cluster"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mysql-cluster"}},[s._v("#")]),s._v(" Mysql Cluster")]),s._v(" "),e("p",[s._v("... TODO")]),s._v(" "),e("h2",{attrs:{id:"mysql-hay-ho"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mysql-hay-ho"}},[s._v("#")]),s._v(" MySQL hay ho")]),s._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://techtalk.vn/blog/posts/ung-dung-mysql-binary-log-de-giai-quyet-van-de-tich-hop-p1",target:"_blank",rel:"noopener noreferrer"}},[s._v("Ứng dụng MySql Binary Log để giải quyết vấn đề tích hợp — P1"),e("OutboundLink")],1)]),s._v(" "),e("li",[e("a",{attrs:{href:"https://engineering.tiki.vn/gi%E1%BA%A3i-quy%E1%BA%BFt-c%C3%A1c-v%E1%BA%A5n-%C4%91%E1%BB%81-t%C3%ADch-h%E1%BB%A3p-b%E1%BA%B1ng-mysql-binlog-part-2-77483a572798",target:"_blank",rel:"noopener noreferrer"}},[s._v("Giải quyết các vấn đề tích hợp bằng MySql Binlog — P2"),e("OutboundLink")],1)]),s._v(" "),e("li",[e("a",{attrs:{href:"https://nghethuatcoding.com/2020/05/02/dao-sau-ve-mysql#2-%E1%BA%A3nh-h%C6%B0%E1%BB%9Fng-to-l%E1%BB%9Bn-c%E1%BB%A7a-auto_increment",target:"_blank",rel:"noopener noreferrer"}},[s._v("Ảnh hưởng to lớn của AUTO_INCREMENT"),e("OutboundLink")],1)])]),s._v(" "),e("h2",{attrs:{id:"references"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#references"}},[s._v("#")]),s._v(" References")]),s._v(" "),e("p",[e("a",{attrs:{href:"https://riptutorial.com/mysql/example/24166/row-level-locking",target:"_blank",rel:"noopener noreferrer"}},[s._v("Row Level Locking"),e("OutboundLink")],1)])],1)}),[],!1,null,null,null);t.default=r.exports}}]);