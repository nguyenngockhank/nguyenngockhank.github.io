(window.webpackJsonp=window.webpackJsonp||[]).push([[89],{353:function(t,a,s){"use strict";s.r(a);var n=s(2),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"mochajs"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mochajs","aria-hidden":"true"}},[t._v("#")]),t._v(" MochaJS")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",[t._v("Mocha - simple, flexible, fun")])]),t._v(" "),s("h2",{attrs:{id:"cai-dat"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cai-dat","aria-hidden":"true"}},[t._v("#")]),t._v(" Cài đặt")]),t._v(" "),s("h3",{attrs:{id:"cai-dat-package"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cai-dat-package","aria-hidden":"true"}},[t._v("#")]),t._v(" Cài đặt package")]),t._v(" "),s("div",{staticClass:"language-git extra-class"},[s("pre",{pre:!0,attrs:{class:"language-git"}},[s("code",[t._v("npm i -D mocha\n")])])]),s("ul",[s("li",[s("code",[t._v("npm i")]),t._v(" viết tắt của "),s("code",[t._v("npm install")])]),t._v(" "),s("li",[s("code",[t._v("-D")]),t._v(" viết tắt của "),s("code",[t._v("--save-dev")])]),t._v(" "),s("li",[s("code",[t._v("--save-dev")]),t._v(" sẽ lưu vào "),s("code",[t._v("devDependencies")])])]),t._v(" "),s("ul",[s("li",[t._v("Cài xong thì các bạn đã chạy vi vu được rồi:")])]),t._v(" "),s("div",{staticClass:"language-git extra-class"},[s("pre",{pre:!0,attrs:{class:"language-git"}},[s("code",[t._v("mocha "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'src/**/*.test.js'")]),t._v("\n")])])]),s("p",[t._v("Chạy tất cả các file có đuôi là "),s("code",[t._v(".test.js")]),t._v(" nằm trong thư mục "),s("code",[t._v("src")])]),t._v(" "),s("h3",{attrs:{id:"cai-dat-script-vao-package-json"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cai-dat-script-vao-package-json","aria-hidden":"true"}},[t._v("#")]),t._v(" Cài đặt script vào "),s("code",[t._v("package.json")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"script"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test:unit"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("\"mocha 'src/**/*.test.js'\"")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"babel"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#babel","aria-hidden":"true"}},[t._v("#")]),t._v(" Babel")]),t._v(" "),s("p",[t._v("Nếu code có sử dụng ES6... nhất là chức năng "),s("code",[t._v("import")]),t._v(" hoặc vài chức năng mà version node bạn chưa support")]),t._v(" "),s("ul",[s("li",[t._v("Xài rồi thì cài thêm 2 packages này của babel")])]),t._v(" "),s("div",{staticClass:"language-git extra-class"},[s("pre",{pre:!0,attrs:{class:"language-git"}},[s("code",[t._v("npm install --save-dev @babel/polyfill @babel/register\n")])])]),s("ul",[s("li",[t._v("Update lại script")])]),t._v(" "),s("div",{staticClass:"language-git extra-class"},[s("pre",{pre:!0,attrs:{class:"language-git"}},[s("code",[t._v("mocha "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'src/**/*.test.js'")]),t._v(" --require @babel/polyfill --require @babel/register\n")])])]),s("ul",[s("li",[t._v("Kiểm tra lại file "),s("code",[t._v(".babelrc")]),t._v(" (nói chung chỗ config babel, có thể là chỗ khác)")])]),t._v(" "),s("p",[t._v("Nếu thấy dòng "),s("code",[t._v('{"modules": false}')]),t._v(" thì xóa đi (hay comment lại) để nó biết đường nó transpile cái đó về "),s("code",[t._v("require")]),t._v(". Node nó ko hiểu cái "),s("code",[t._v("import")]),t._v(" đâu")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"presets"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@babel/env"')]),t._v(" \n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// {"modules": false}')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),s("h2",{attrs:{id:"webpack"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#webpack","aria-hidden":"true"}},[t._v("#")]),t._v(" Webpack")]),t._v(" "),s("p",[t._v("Số là vầy, webpack nó có cái trò "),s("code",[t._v("alias")]),t._v(" resolver j đó ngầu lắm =)) nhìn lại câu lệnh của ta thì chả có dính dáng gì tới "),s("code",[t._v("Webpack")]),t._v(" hết ... cay")]),t._v(" "),s("p",[s("strong",[t._v("Cách giải quyết")]),t._v(": đem hết mấy cái alias xuống Babel luôn =))")]),t._v(" "),s("ul",[s("li",[t._v("Cài thêm toy")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("npm i -D babel-plugin-module-resolver\n")])])]),s("ul",[s("li",[t._v("Sửa lại "),s("code",[t._v(".babelrc")])])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"plugins"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"module-resolver"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            \n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"root"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./src"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"alias"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// thêm alias tại đây ")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$template"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./src/modules/template"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),s("ul",[s("li",[s("strong",[s("code",[t._v("root")])]),t._v(" : khi ko có prefix sau khi kiếm ko thấy trong "),s("code",[t._v("node_modules")]),t._v(", thì đến root này")]),t._v(" "),s("li",[s("strong",[s("code",[t._v("alias")])]),t._v(": Thêm các alias trong webpack của bạn vào đó")])]),t._v(" "),s("h2",{attrs:{id:"code-chung-bay"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#code-chung-bay","aria-hidden":"true"}},[t._v("#")]),t._v(" Code chưng bày")]),t._v(" "),s("p",[t._v("Code lụm trên trang chủ =))")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" assert "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'assert'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("describe")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Array'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("describe")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#indexOf()'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("it")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'should return -1 when the value is not present'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      assert"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("equal")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("indexOf")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("Kết quả cũng trên trang chủ =))")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("$ ./node_modules/mocha/bin/mocha\n  Array\n    #indexOf()\n      ✓ should return -1 when the value is not present\n\n  1 passing (9ms)\n")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);