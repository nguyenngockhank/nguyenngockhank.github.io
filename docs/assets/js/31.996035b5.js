(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{1656:function(t,e,s){"use strict";s.r(e);var a=s(7),n=Object(a.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"design-instagram"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#design-instagram"}},[t._v("#")]),t._v(" Design Instagram")]),t._v(" "),a("p",[a("em",[t._v("Note")]),t._v(": This is our prototype on designing a photo-sharing system such as Instagram for\nusers to upload and share media files. We have created this design based on our research\ngoing through Instagram Engineering tech-talks. These talks are quite informative and\ndetailed, and for the same reason, we have taken inspiration from those talks. We have\nprovided the list of the tech talks we have referenced here")]),t._v(" "),a("h2",{attrs:{id:"introduction"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#introduction"}},[t._v("#")]),t._v(" Introduction")]),t._v(" "),a("h3",{attrs:{id:"problem-statement"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#problem-statement"}},[t._v("#")]),t._v(" Problem statement")]),t._v(" "),a("p",[t._v("In this chapter we will be designing a photo-sharing platform similar to Instagram where\nusers can upload their photos and share it with their followers. Subsequently, the users\nwill be able to view personalized feeds containing posts from all the other users that they\nfollow.")]),t._v(" "),a("h3",{attrs:{id:"gathering-requirements"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gathering-requirements"}},[t._v("#")]),t._v(" Gathering Requirements")]),t._v(" "),a("p",[a("strong",[t._v("In scope")]),t._v(" The application should be able to support the following requirements.")]),t._v(" "),a("ul",[a("li",[t._v("Users should be able to upload photos and view the photos they have uploaded.")]),t._v(" "),a("li",[t._v("Users should be able to follow other users.")]),t._v(" "),a("li",[t._v("Users can view feeds containing posts from the users they follow.")]),t._v(" "),a("li",[t._v("Users should be able to like and comment the posts.")])]),t._v(" "),a("p",[a("strong",[t._v("Out of scope")])]),t._v(" "),a("ul",[a("li",[t._v("Sending and receiving messages from other users. We have covered it in our article on designing WhatsApp.")]),t._v(" "),a("li",[t._v("Generating machine learning based personalized recommendations to discover new people, photos, videos, and stories relevant one’s interest.")])]),t._v(" "),a("h2",{attrs:{id:"detailed-design"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#detailed-design"}},[t._v("#")]),t._v(" Detailed design")]),t._v(" "),a("h3",{attrs:{id:"architecture"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#architecture"}},[t._v("#")]),t._v(" Architecture")]),t._v(" "),a("p",[t._v("The high-level design consists of two important functions; one is to upload photos and\nother is to view or search photos. Our service will need storage to store the photos and\nsome database servers to store metadata information about the photos")]),t._v(" "),a("p",[a("img",{attrs:{src:s(948),alt:"img"}}),a("br"),t._v(" "),a("em",[t._v("Figure 6.1: Architecture of photo sharing application")])]),t._v(" "),a("p",[t._v("Therefore, when the server receives a request for an action (post, like etc.) from a client\nit performs two parallel operations:")]),t._v(" "),a("ol",[a("li",[t._v("Persisting the action in the data store")]),t._v(" "),a("li",[t._v("Publishes the action in a streaming data store for a pub-sub model.")])]),t._v(" "),a("p",[t._v("It is followed by, the various services (such as, User Feed Service, Media Counter Service) read the actions from the streaming data store and performs their specific tasks. The streaming data store makes the system extensible to support other use-cases (e.g. media search index, locations search index, and so forth) in future.")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("FUN FACTS")]),t._v(" "),a("p",[t._v("In this talk, Rodrigo Schmidt, director of engineering at Instagram talks\nabout the different challenges they have faced in scaling the data infrastructure at Instagram")])]),t._v(" "),a("h3",{attrs:{id:"system-components"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#system-components"}},[t._v("#")]),t._v(" System components")]),t._v(" "),a("p",[t._v("The system will comprise of several micro-services each performing a separate task. We\nwill use a graph database such as Neo4j to store the information. The reason we have\nchosen a graph data-model is that our data will contain complex relationships between\ndata entities such as users, posts, and comments as nodes of the graph. After that, we will\nuse edges of the graph to store relationships such as follows, likes, comments, and so forth.\nAdditionally, we can use columnar databases like Cassandra to store information like user\nfeeds, activities, and counters.")]),t._v(" "),a("p",[a("img",{attrs:{src:s(949),alt:"img"}}),a("br"),t._v(" "),a("em",[t._v("Figure 6.2: High level system components")])]),t._v(" "),a("h2",{attrs:{id:"component-design"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#component-design"}},[t._v("#")]),t._v(" Component Design")]),t._v(" "),a("h3",{attrs:{id:"posting-on-instagram"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#posting-on-instagram"}},[t._v("#")]),t._v(" Posting on Instagram")]),t._v(" "),a("p",[a("img",{attrs:{src:s(950),alt:"img"}}),a("br"),t._v(" "),a("em",[t._v("Figure 6.3: Synchronous and Asynchronous process for posting on Instagram")])]),t._v(" "),a("p",[t._v("There are two major processes which gets executed when a user posts a photo on Instagram. The synchronous process is the first step, which is responsible for uploading image content on file storage, persisting the media metadata in graph data-storage, returning the confirmation message to the user and triggering the process to update the user activity. The second process occurs asynchronously by persisting user activity in a columnar\ndata-storage (Cassandra) and triggering the process to pre-compute the feed of followers\nof non-celebrity users (having few thousand followers). We don’t pre-compute feeds for\ncelebrity users (have 1M+ followers) as the process to fan-out the feeds to all the followers\nwill be extremely compute and I/O intensive")]),t._v(" "),a("h4",{attrs:{id:"api-design"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#api-design"}},[t._v("#")]),t._v(" API Design")]),t._v(" "),a("p",[t._v('We have provided the API design of posting an image on Instagram below. We will send\nthe file and data over in one request using the multipart/form-data content type. The\nMultiPart/Form-Data contains a series of parts. Each part is expected to contain a content-disposition header [RFC 2183] where the disposition type is "form-data”.')]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("POST /users/<user_id>/posts\n")])])]),a("p",[a("strong",[t._v("Sample Request Body:")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('Content-Type: multipart/form-data; boundary=ExampleFormBoundary\n--ExampleFormBoundary\nContent-Disposition: form-data; name="file"; filename="test.png"\nContent-Type: image/png\n{image file data bytes}\n--ExampleFormBoundary--\n')])])]),a("p",[a("strong",[t._v("Sample Response:")])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ImageFile"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"667"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"createdAt"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1466623229"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"createdBy"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"9"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test.png"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"updatedAt"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1466623230"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"updatedBy"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"9"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"fullImageUrl"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://mybucket.s3.amazonaws.com/myfolder/test.jpg"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"size"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Size"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"width"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"316"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"height"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"316"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"precompute-feeds"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#precompute-feeds"}},[t._v("#")]),t._v(" Precompute Feeds")]),t._v(" "),a("p",[a("img",{attrs:{src:s(951),alt:"img"}}),a("br"),t._v(" "),a("em",[t._v("Figure 6.4: Precompute feeds from non celebrity users")])]),t._v(" "),a("p",[t._v("This process gets executed when non-celebrity users make a post on Instagram. It is\ntriggered when a message is added in the User Feed Service Queue. Once the message is\nadded in the queue, the User Feed Service makes a call to the Followers Service to fetch the\nlist of followers of the user. After that, the post gets added to the feed of all the followers\nin the columnar data storage.")]),t._v(" "),a("h3",{attrs:{id:"fetching-user-feed"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#fetching-user-feed"}},[t._v("#")]),t._v(" Fetching User Feed")]),t._v(" "),a("p",[a("img",{attrs:{src:s(952),alt:"img"}}),a("br"),t._v(" "),a("em",[t._v("Figure 6.5: Sequence of operations involved in fetching user feed")])]),t._v(" "),a("p",[t._v("When a user requests for feed then there will be two parallel threads involved in fetching the user feeds to optimize for latency. The first thread will fetch the feeds from noncelebrity users which the user follow. These feeds are populated by the fan-out mechanism\ndescribed in the PreCompute Feeds section above. The second thread is responsible for\nfetching the feeds of celebrity users whom the user follow. After that, the User Feed Service will merge the feeds from celebrity and non-celebrity users and return the merged\nfeeds to the user who requested the feed.")]),t._v(" "),a("h4",{attrs:{id:"api-design-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#api-design-2"}},[t._v("#")]),t._v(" API Design")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("GET /users/<user_id>/feeds\n")])])]),a("p",[a("strong",[t._v("Sample Response")]),t._v(": The response below can be mapped directly to the graph data model\nmentioned in the next section.")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("{\n/// ...\n“feeds”: [\n    {\n        “postId”: “post001”,\n        “postOwnerId” : “user001”,\n        “postOwnerName” : “Bill Gates”,\n        “mediaURL” : “https://mybucket.s3.amazonaws.com/myfolder/test.jpg”,\n        “numberOfLikes” : 400000\n        “numberOfComments” : 19789\n        “comments”: [\n            {\n                “commenterUserId” : “user004”,\n                “commenterName” : “JeffBezos”\n                “comment” : “Amazing!”\n                “likes” : [\n                    {\n                    “likerId” : “user003”,\n                    “likerUserName” : “Bob”\n                    }\n                ]\n            }\n        ]\n    }\n]\n}\n")])])]),a("h2",{attrs:{id:"data-models"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#data-models"}},[t._v("#")]),t._v(" Data Models")]),t._v(" "),a("h3",{attrs:{id:"graph-data-model"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#graph-data-model"}},[t._v("#")]),t._v(" Graph Data Model")]),t._v(" "),a("p",[a("img",{attrs:{src:s(953),alt:"img"}}),a("br"),t._v(" "),a("em",[t._v("Figure 6.6: Graph representation of users, posts and comments")])]),t._v(" "),a("p",[t._v("We can use a graph database such as Neo4j which stores data-entities such as user\ninformation, posts, comments, and so forth as nodes in the graph. The edges between\nthe nodes are used to store the relationship between data entities such as followers, posts,\ncomments, likes, and replies. All the nodes are added to an index called nodeIndex for\nfaster lookups. We have chosen this NoSQL based solution over relational databases as it\nprovides the scalability to have hierarchies which go beyond two levels and extensibility\ndue to the schema-less behavior of NoSQL data storage.")]),t._v(" "),a("h4",{attrs:{id:"sample-queries-supported-by-graph-database"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sample-queries-supported-by-graph-database"}},[t._v("#")]),t._v(" Sample Queries supported by Graph Database")]),t._v(" "),a("p",[a("strong",[t._v("Fetch all the followers of Jeff Bezos")])]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Node")]),t._v(" jeffBezos "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" nodeIndex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("“userId”"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" “user004”"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Node")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" jeffBezosFollowers "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ArrayList")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Relationship")]),t._v(" relationship"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" jeffBezos"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getRelationships")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("INGOING"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" FOLLOWS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    jeffBezosFollowers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("relationship"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getStartNode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("strong",[t._v("Fetch all the posts of Bill Gates")])]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Node")]),t._v(" billGates "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" nodeIndex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("“userId”"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" “user001”"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Node")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" billGatesPosts "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ArrayList")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Relationship")]),t._v(" relationship"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" billGates"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getRelationships")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("OUTGOING"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" POSTS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    billGatesPosts"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("relationship"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getEndNode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("strong",[t._v("Fetch all the posts of Bill Gates on which Jeff Bezos has commented")])]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Node")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" commentsOnBillGatesPosts "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ArrayList")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Node")]),t._v(" billGatesPost "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" billGatesPosts"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Relationship")]),t._v(" relationship"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" billGates"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getRelationships")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("INGOING"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" COMMENTED_ON"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        commentsOnBillGatesPosts"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("relationship"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getStartNode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Node")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" jeffBezosComments "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ArrayList")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Relationship")]),t._v(" relationship"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" jeffBezos"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getRelationships")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("OUTGOING"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" COMMENTS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    jeffBezosComments"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("relationship"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getEndNode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Node")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" jeffBezosCommentsOnBillGatesPosts "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\ncommentsOnBillGatesPosts"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("intersect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("jeffBezosComments"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h3",{attrs:{id:"columnar-data-models"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#columnar-data-models"}},[t._v("#")]),t._v(" Columnar Data Models")]),t._v(" "),a("p",[a("img",{attrs:{src:s(954),alt:"img"}}),a("br"),t._v(" "),a("em",[t._v("Figure 6.7: Columnar Data Model for user feed and activities")])]),t._v(" "),a("p",[t._v("We will use columnar data storage such as Cassandra to store data entities like user feed\nand activities. Each row will contain feed/activity information of the user. We can also have\na TTL based functionality to evict older posts. The data model will look something similar\nto:")]),t._v(" "),a("p",[a("code",[t._v("User_id -> List<post_id>")])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("FUN FACT")]),t._v(" "),a("p",[t._v("In this talk, Dikang Gu, a software engineer at Instagram core infra team\nhas mentioned about how they use Cassandra to serve critical usecases, high scalability\nrequirements, and some pain points.")])]),t._v(" "),a("h3",{attrs:{id:"streaming-data-model"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#streaming-data-model"}},[t._v("#")]),t._v(" Streaming Data Model")]),t._v(" "),a("p",[t._v("We can use cloud technologies such as Amazon Kinesis or Azure Stream Analytics for\ncollecting, processing, and analyzing real-time, streaming data to get timely insights and\nreact quickly to new information(e.g. a new like, comment, etc.). We have listed below the\nde-normalized form of some major streaming data entities and action.")]),t._v(" "),a("p",[a("img",{attrs:{src:s(955),alt:"img"}}),a("br"),t._v(" "),a("em",[t._v("Figure 6.8: De-normalized major data-entities and actions")])]),t._v(" "),a("p",[t._v("The data entities A and B above show the containers which contain denormalized information about the Users and their Posts. Subsequently, the data entities C and D denote\nthe different actions which users may take. The entity C denotes the event where a user\nlikes a post and entity D denotes the action when a user follows another user. These actions\nare read by the related micro-services from the stream and processed accordingly. For instance, the "),a("em",[t._v("LikeEvent")]),t._v(" can be read by the "),a("em",[t._v("Media Counter Service")]),t._v(" and is used to update the\nmedia count in the data storage.")]),t._v(" "),a("h2",{attrs:{id:"optimization"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#optimization"}},[t._v("#")]),t._v(" Optimization")]),t._v(" "),a("p",[t._v("We will use a cache having an LRU based eviction policy for caching user feeds of active\nusers. This will not only reduce the overall latency in displaying the user-feeds to users but will also prevent re-computation of user-feeds")]),t._v(" "),a("p",[a("img",{attrs:{src:s(956),alt:"img"}}),a("br"),t._v(" "),a("em",[t._v("Figure 6.9: LRU bases cache for storing user feeds of active users")])]),t._v(" "),a("p",[t._v("There is a room for optimization in providing the best content in the user feeds. We\ncan do this by ranking the new feeds (the ones generated after users last login) from those\nwho the user follows. We can apply machine learning techniques to rank the user feeds\nby assigning scores to the individual feeds which would indicate the probability of click,\nlike, comment and so forth. We can do this by representing each feed by a feature vector\nwhich contains information about the user, the feed and the interactions which the user has\nhad with the people in the feed (e.g. whether the user had clicked/liked/commented on the\nprevious feeds by the people in the story). It’s apparent that the most important features for\nfeed ranking will be related to social network. Some of the keys of understanding the user\nnetwork are listed below.")]),t._v(" "),a("ul",[a("li",[t._v("Who is the user a close follower of? For example, one user is a close follower of Elon Musk while another user can be a close follower of Gordon Ramsay.")]),t._v(" "),a("li",[t._v("Whose photos the user always like?")]),t._v(" "),a("li",[t._v("Whose links are most interesting to the user?")])]),t._v(" "),a("p",[t._v("We can use deep neural networks which would take the several features (> 100K dense\nfeatures) which we require for training the model. Those features will be passed through\nthe n-fold layers, and will be used for predicting the probability of the different events\n(likes, comments, shares, etc.).")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("FUN FACT")]),t._v(" "),a("p",[t._v("In this talk, Lars Backstrom, VP of Engineering @ Facebook talks about\nthe machine learning done to create personalized news feeds for users. He talks about\nthe classical machine learning approach they used in the initial phases for personalizing\nNews Feeds by using decision trees and logistic regression. He then goes to talk about the\nimprovements they have observed in using neural networks.")])])])}),[],!1,null,null,null);e.default=n.exports},948:function(t,e,s){t.exports=s.p+"assets/img/28.fa3db067.png"},949:function(t,e,s){t.exports=s.p+"assets/img/29.dd7c4880.png"},950:function(t,e,s){t.exports=s.p+"assets/img/30.c4291e71.png"},951:function(t,e,s){t.exports=s.p+"assets/img/31.164d1469.png"},952:function(t,e,s){t.exports=s.p+"assets/img/32.0774ff6c.png"},953:function(t,e,s){t.exports=s.p+"assets/img/33.729a982e.png"},954:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWkAAABHCAYAAADFqra8AAAACXBIWXMAAAsTAAALEwEAmpwYAAAch0lEQVR42u3dCbCcRREHcA65RIEIKBQIQglyioDIaXGKoKAEUA6J0cghoiAgaEBFRPDEG4VIECRKNCRgFGMSkChXFOTwQkSRwwM8EOVWYKxfV01qfe7u210eyXtv+1+1lZfd75ie7v5/PT3z9SxWEn2BRx55pPz9738vf/jDH8odd9xRfvnLX5af/vSn5ZprrilXXHFF+d73vldmzJhRLrroonL++eeXc845p3z+858vn/rUp8rpp59eTjnllDJx4sRy/PHHl3e9613liCOOKBMmTCiHHHJIOeCAA8q+++5b9t5777LHHnuU3Xbbrey4445l++23L1tvvXXZcssty2abbVY23njjssEGG5T11luvrLPOOmWttdYqa6yxRllttdXK85///LLyyiuXMWPGlBVXXLE897nPLcsvv3xZbrnlyjLLLFOWXnrpstRSS5Ull1yyLLHEEvFZfPHFy2KLLRYffw/8NP5Wz3G+67ie67q++7if+7q/dmiPdmmfdmqvdms/OchDLvKRk7zkJr9+0B/6Rf/oJ/2l3/SfftSf+lX/6mf9rd/1Pz3QB73QDz3RF73RHz3SZ6I/sFh2wfDBE088Ue6///5y1113lV/84hfluuuuK3PmzCnTp08vF1xwQTnrrLPKxz/+8fKBD3ygHHfcceH4SGDs2LFl9913LzvssEPZYostgkgQyyqrrBIEhJwQ0korrVRWX331IJwNN9ywbL755mXbbbctO++8c9lzzz3LPvvsUw488MAyfvz4cvjhhy8glZNOOql86EMfKmecccYCUjn77LPL5MmTy4UXXlimTp0abZw5c2aZNWtWmTt3bpk3b165+uqry/z588sNN9xQbr755pDp1ltvLbfffnsQDjmRzp///Ody3333lb/97W8h/wMPPFD+9a9/lYceeijI6LHHHiuPP/54+c9//hN99OSTT5annnqqq751vPOc7zqu57qu7z7u577urx3ao13ap53aq93aTw7ykIt85CQvucmvH/SHftE/+kl/1YeeftSf+rU+9PS3ftf/9EAf9EI/9ERf9EZ/9Eif9Eq/9Ezf9E7/7IA9sAv2wU7YC7thP+yIPWkj+2JnZCIn+fVRIkl61OIf//hHODQH5rTf+ta3IkriHO973/vK29/+9nLQQQeFE2633XYRla255pplhRVWiKjPv/7PKUVpojNOO27cuHLkkUeWE044oZx66qnlzDPPDMefMmVKueSSS8LZkMVNN91UbrvttnLPPfdkxNVHIyT6pnf6ZwfsgV2wD3bCXtgN+2FH7IldsS92xt6a2SH7ZKfsld2yX3bMntk1+2bn7J3ds/9EkvRCw7///e+IpG688cYye/bsMPjPfOYz5eSTT47oZL/99oth7iabbBIRjiG0YfPaa68d0c8uu+xS9t9//3LYYYeVE088MSKoL3/5yzGkNZy99tprYxjrHg8++GB2eGLYgD2yS/bJTtkru2W/7Jg9s2v2zc7ZO7tn//yAP/AL/sFP+Au/4T/8iD/xK/fgZ4kk6f+D4axc33e+852IND74wQ+G0e21116Ra5SLlL9cddVVw9gYokji6KOPLqeddlqcc/HFF8cw11Dx3nvvjWF0ItHv4Af8gV/wD37CX/gN/+FH/Ilf8S9+xt/4Hf/jh/zROfyTn/LXJOlRBkPA66+/vkybNq184hOfKEcddVQYwKabbhoTRD6GciZ6Dj300JjImTRpUrnssstiyNjPRvF0If979913Rw5X7ne4E0pieARN/I7/8UP+yC/5Jz+tPst/+TF/5tf8m5/z9yTpYYrf/e53odhPf/rTMaQy2SKXtuyyy8aT+vWvf31Mmnzxi1+M4wzfHn744fSKZwiXXnppDHnrygp/n3vuucO2vdpnEjAx/MFv+S8/5s/8mn/zc/7O7/k/HsAHjsMPSdILEXJY5513XjnmmGNCGWa1LZPaddddY4ZcvuzKK6+MWfnEwoclY4iZjuQZ5TX97Ts5yCTpxDMJfs//8QA+wAv4AU/gC7zBHvFIkvQQwDIo+SiTDWagDXXWX3/9cvDBB8cyph/84Ac5kzzMsNNOO8WqgYH45Cc/GXlJkF80kWQd8mtf+9ryox/9KL639Eu+0vcbbbRRLGNr9z2YwPIduzj22GMXLB1729veFpGW9jjvne9854Lffv7zn0c+1Dnynh4gSJrzWqJmTbPlcO2unxhZwBP4Am/gD/rEJ3gFv+AZfJMk3QF+85vfxFpSOSfrQK335DiXX355zgCPAIhKv/rVr7Y9hoMgQXlEa4SRoBw2In/1q18dS7k+8pGPBHlax9zq+5/97GdBwNIrP/zhD+NvL4GAl0scZ42y1QT+FmHBuuuuG9ezdKweh6Trtf3GodtdPzHygU/wCn7BM/gG7+AfPJQkPQDf/va3yxve8IZ4E8zie46RGFkwAYfkvCDRDpZx/fOf/4yXR5Cocx599NHyjne8I17EEOki7auuuipykK2+/9WvfhVv44lu77zzzrLVVlvFCyKVpK0JrvDbV77ylXA+9/vrX/+6IH3WSNKI2Asv0O76idEJvIN/8BA+wkt9T9KiIwvqvSk1nCeXEp1BlOpliYHwFp4hJXjbDRkiR8dXkvYyRo1sff+FL3whjm/1vdUjUit1ctKnkaQbI3rRsfQHGxPJVyDgRpI2FK5od/3E6AdbwUv4CU/1JUkbfnJWeaLE6IDXkKUvGiEyNev+jW98o/z2t78N0vNKMmK+5ZZbFpC0SNnr2V5NNuT0vWi21ffvfve7yzbbbBNRLoh8GklalD6QpOvEZl1259xWJN3u+on+AX7CUzVd1lck/cpXvjIKyiRGD5Ad0rPGVUrhL3/5S6QrRKGI+Mc//nH8/sc//jHyyl5a8H/pC0up5AflCq159b10RKvvTTqaEASTke7huHYkbc2240Tj7vne9763JUm3u36iv4Cn8FXfkTTnSIw+IMfGddJSFHK7IKeM/OpvolVRCnI0WdeYWrBCA1p9b0lf/c49EGol3FYkDTUa93Gc80X0KtLJR1a0u36i/7Ao+WqRknRj5JIYPZBOMEknn9ysWp18rxQGiLDrUkoTigiz/lbR6nvRuKI+9R4i906WyYnypV4Gq6TX6/UTowt4qm9J+j3veU+8KfSWt7wlKnclEonEcAA+wkv4CU/1LUmDiSFlD70R9KxnPSuGph/72Meixm0ikUgsDOAbvIN/8BA+wkv4qa/THQNhiGwVgJccvBX2vOc9r7zwhS+MPKYatpZVmXyyxjaRSCS6Ad7AH3gEn+AV/IJn8A3ewT/NXmZJkm4BOUgz63a4UObQ8MNkzwte8IKY0HnZy14W2xTpXBND3/3ud6M8YtZmTiT6D/ye/+MBfIAX8AOewBd4A3/gEXyCV/DLwLmOXvmqL0m6HSzjsmrAG2yGJUoXvu51r4vi42rUKjxuuyFKscZVcRXDGctpvv/978csvYIs3W7DlEgkFh74Jz/lr/yW//Jj/syv+Tc/5+/8nv/jAXyAF/ADnsAXi5Kv+pKkB4M1tcoaeoHh61//epQutC7WU/Q1r3lNefnLXx47STz72c+OfeL8rei4veEUJbfkynrfz33uc7GcS9lDO1TY4y53Ukkkuo9y+Q3/4Uf8iV/xL37G3/gd/+OH/JFf8k9/81d+y3/5MX/m1/ybnz/T9aSTpBfxk9qSLPvDMR5Dpa997WsLjEcFtje/+c2xA7QF7YqO2/TTHnB2obYpqP/73lPdXnB2iVawXL1b1/DWkv3gGJV6ANb+/uQnPwnj8iadClyWoiUSwwXskV2yT3bKXtkt+2XH7Jlds292zt7ZPfvnB9VP+Ac/4S/VT/gRf+JX/KsGQ/yO//FD/sgvh8tIN0l6hMJbcAxZYXG7Sii7ycgMsRixzT+9Siw3phD5m970pniDTp1bm38qVm6o5oUOUYM+ETkYtokebA5ad39+1ateFefaTfqtb31rbCbKOew4Lb+mWpw36RQSYuyqvHEoQ0SvtDJ8+Tez1b/+9a9j/a/Ixtpfu2Tb0DR3KRkeoAf6oBf6oSf6ojf6o0f6pFf6pWf6pnf6ZwfsgV2wD3bCXtgN+2FH7KnuLs/O2Bu7Y3/skD2yS/bJTtkru3UuO2bP7Jp9s3P2zu7ZPz/gD/yCf4yGCpZJ0omAFyW8uCEHx8BNgohglMrkjHZ/Nvs8efLkKFTEObzO/P73vz/Wcip07lVrEcob3/jGcCjbD1lOJLoxZHzpS19aXvKSl4Tz2VeOY6qtyzktPRL1KNv4nOc8p4wZMyYc1XEvetGLyotf/OJwaNGQ3N8rXvGK2ElaZOQeHF8kpeSje6sbrR2GsRxbuxCFtwaVK7XztNfGDXVFVN5ARChkUajJsNYs/MSJE4Ns1P4lq9ez1YL2EYXVD8Kon8bv67HOc77ruJ7rur77uJ/7ur92aI92aZ92aq92az85yEMu8pGTvOQmv37QH/pF/+gn/aXf9J9+1J/6Vf/qZ/2t3/U/PdAHvdCP4+iL3uiPHunTPejXvbVDu+ifHZCFrOyDnbAXdsN+2BF7Ylfsi52xN3bH/vKFnSTpJOlhDAWRvGknh6jgvr3nRHK///3vY2mS4kZqLYvmLGcyKcPZDYXnzJkTu0qreKfso0L/3/zmN4MY5B8VVlJcX7Qn8rKDBvLwqvZnP/vZqP2MUESB9q8zQfTRj340iu97bRvhiA4//OEPRylSn1bE3Ph9PdZ5zncd13Nd13cf93Nf99cO7dEu7dNO7dVu7ScHechFPnKSl9zk1w/6Q7/oH/2kv/Sb/tOP+lO/6l/9rL/1ey2VmkiSTpJOJBKJJOkk6UQikSSdJJ1IJBJJ0knSiUQiSTpJOpFIJJKkk6QTiUQiSTpJOpFIJEknSScSiUSSdJJ0IpFIkk6SHs5oVdvC67Qjoe6Ft9mGsp39KLc6FN4SHCn2OlRvMKq5XPeiHKl+miQ9SkjaK8Xjx49v+pvC4c12iyZLs90chhozZsyIDVTb4eGHH4723H777f/3m9ebx44d2/H9vBZ97rnnttXhMy23V6XVnCBXO8ydOzfqYDRDp3J7dVt9DlsofelLX4riRgNxww03tLzPUOLOO++MoklPx17V86i7pLeCKnNefVeVjuzTp09vepxX5ceNGzci5G7lp63gfvoqSXqEkLRqY2reDkeSVlxnMAMWOakZ0YzUuiErdS3IpfjQoiRpdYLdZ7Ci7epftNoXsxO5//SnP8V9HKePFUraaqutFhlJz5w5s6y77rpPy147IWkETR61S9Ql0Qfqjiwqkh4Kubshadch8/rrr58k3a3QjEsxnArlFxXCqRHlTjvtFMpgOCp31eE3w2R0KpHdeOON8b1/VSpjiIiuHUSOCvCAspD2PqNAVdS0uRuSrvV2VSnTJk/+2lZDR20nA6OcNGnS/0TMA+VT0cx91lxzzYga20Weqq/dc889QdgKDGm//lAwvROS1te1H3sh6XZyKzBUZUOCjbvE06+2kpHuRXmOdR96axbZVlx//fULZOtFbn3eSA633HJL0xFJO5I++OCDYzcQFeoco4hTrYfcSm4PFxX3HL/RRhsFSSEObXF/dtupvbKpQw45JM71r/sNRtIiaARcob9UBOyUpKV+2Jvf9bePQlMVyqiSi9zsgV0Otdyd+mmztEjduSlJugehkYPhV+P/lY1UCNy5oh1kxXlVLuMMjJ+R+V4JSscxXPVt69NSJbN2oORqjAzG0Ne9KLNbklbi0m8cRZtcT3W16tDaw4hVU3Pc7NmzW8qnlrDzVXNzzGDpDu1R35dz2MUCAdZIsVMw3l5IupXcHiAIWJR61VVXxYNH+zj6/Pnzw2FFw7XdqsfpE9dCoo8//nhH6Y5e5Bap152hKwm4xsBayO1ImpzOUVN5ypQpcV+jknZyq7zHxlwX6TgHgRnJuI/zO7VX/c6mVOjjO1UH7aAsKd+hRxu0OqdZENCKpJGuc/jevHnzogRs7TebBfhN6Vf6tfErP3K/oZS7Uz8dCIEAP5TiSZIeQpK2U4RzRXvKO/o/AqNs3ysBWXNtlK2MZCXpZnnaVspntM6phCga74WkGU8F8hDdiCorKTdGYWoWt5Kv03RHI0mTQ33kCkS1sEi6mdyzZs2Kcxp3e+fQHlLk8pvtkEQ4IlkpiE7THY0k/XTkRlr63j0bI8xOSVok3dgPiKCd3Gxa4X0PCDaLxOmw02F/tddq7x76NUp0j8FIusI1tNE5+r5bkq6pJu3Qbik39bq32WabBcdKTziWTQ+V3N34aSO0V3/ZlCBJeohI+thjjw3F1uG08308nSmqOvnAj3wkkmZ8naAqXyTVqDjO2wtJN5IFw3CsusL+ZSCN9zX0bCVfLyRN5mnTpi34TfSysEi6mdwm4wxtGyHyQQD6V1qkEoWhMFl6Iele5RbJ1VRF45C9G5KuJAnSa0Z2Z599dku5kVyN/pzvAdFNbrbaqwe5a0j5VYjcOyVpkE7SXg/Ubkm60ZbdV0QsZcZvK+w241h9OFRyd+OnFfVBYnME+XepMTr1d6tdZJKkW5C0XGKFfBaSZgwiYkNInSofJgqtw+J77703nNtHnpLh9ULSIjrXq8t5zDr3QtKNDxqpFsZQibQxYkGIhuat5OuFpDlBTa+AXTsWFkk3k1t0RQ915w/O4v8K4+tfBIMoyeh4efpeSLoXuY1uDNkRi22rWmEwkpZqaBwduV47uUWSlreJLq2mIav8dbdkJUqv6ZUKKZbBSFqkq30VHijO65akG0ewZBMcGUU05pZrcMK2h0rubvy0kcg9NOuHPp3jb/aXJN2h0GadKctkAsNzPJL2NyOw3U9Vlmiz5nJFTXKX8oL+b2ugXkjaNZzjCY/4kFUvJO0aDAfJII9q6B46iAwhMHTHIYBW8oHhISfqlKTlZJ2D9PUDY1xYJN1MblGK78nAqexi4v/+RqpSJJzExJ+HE+c1p1D12ClJ9yK3HLK2GC6LSusHoXRD0totYnQd17OjSzu52YFtvRxTH0jOZb/uM9ia38bcrJGY0Yg+tEVWJznpCRMmxHlItka32tMtSUttaKuHVNVXtWWpDDBPVEeLQyV3N37aCh4Mme7oQWhPWE/0uqKB8dd0B/LwPWXqXBEJTJ069X9SHYZcwEi6Iem6/rI+4X0Yb6t8Xat8d53IqddAHDUiNLvvevU3hF0jrVbycYQ6qTgYSWuPnK7ooDF1MtiseSNEgRyrnQ67lRtp1JSGf62BBiOgqm+/6W/OWyPjwaLpRpLuRW5D32bpsoH6HoykjXbquTZ9rcPnVnIbLdXvfeoIhKxV/53aa7Xzajui5MFIGpHWSNKH7fG9ZiTdbF1yJWk6rnLUvLyoWh/U793HZPBQy92pnyZJDzFJg4jKPnDNtnUXpTWL4gyhDKVaDVsQoc03m33qBF0jROheIOlla3lkheREVs0M/9FHH42IozGfN5h8iEvU00oG8jdCREKuxkmru+++u+Pze8FgcouO6WjgWm5RqyFvY161MV9stUCzNktrDUQzubs5vxcgaVEyfTZbgdNKbqkWpNJMd9rfTbtd2wRdY251sPNFo/qqLpPsBpWkjQjpms4HAvG6/sDouJ3c+urp+Gm3fj4UfNWXJP1MABF40jf7dPKmUy9kNdQQhbSSYbDc7VCcv6jktkSsWZtN0C2M8zsl6X6Su5J0LwT/TPrpUPt5kvQoBYdt9vZWyj06IefcyTLP0QSRvgnvdmvYRwOSpBOJRCJJOkk6kUgkkqSTpBOJRJJ0knQikUgkSSdJJxKJRJJ0IpFIJEknSScSiUSSdJJ0IpFIkh4FJK08YCKRSIwELEq+WmQkrWDS+eefn9pPJBLDGngKX/UdSV955ZVR7UqB+0QikRiOwE94Cl/1HUmDso/77LNP2WCDDWKHhUQikRgOwEd4CT/hqUWJYTF7Z8shdWyXWmqp2OX40ksvTStJJBILFXgH/+AhfNS4FVrfk3SF+skKeO+1115lmWWWKTvssEPs3nD55Ze33HsskUgkugU+wSv4Bc/gG7yDf5rVcU+SbgKF020GevLJJ5fddtutrLjiirF7gn3j5ImUwlQYPJFIJNoBT+ALvIE/8Ag+wSv4Bc8023gjSboH2APtvPPOK8ccc0zZeeedyyqrrFJWW221suuuu8b2Rza/lOBvtrNHIpEY3eD3/B8P4AO8gB/wBL7AG/gDj4wkjPg3SmzYetlll8Xmo0cccUQow155yy67bNlkk01iw8vjjjsu9npznK2EBm5flEgkhj/4Lf/lx/yZX/Nvfs7f+T3/xwP4wHF1Q+eRjFH72p+9AO3hNm3atNgm6Kijjoqc06abbhpDHZ+NN9647LHHHuXQQw8tp5xySpk0aVIo9qabbir33XdfekUisZDA3/gd/+OH/JFf8k9+Wn2W//Jj/syv+Tc/r5sWj0Ys1s9GYadk+SjbHtl9+LDDDgsD2HLLLcsaa6xRllxyybLqqqvGk3qXXXYpBx10UDn66KPLaaedFudcfPHFZd68ebGZrN2uB9uGPpHoB/AD/sAv+Ac/4S/8hv/wI/7Er/gXP+Nv/I7/8UP+6Bz+yU/7OWjKAhptYAbYbuVyWLNnzy5TpkyJre1NNhhS7bfffmXHHXcMY1t99dXL0ksvHdvJr7322mXzzTcPQ9x///3D6E488cRyxhlnRL7soosuin0Ar7322hi+uceDDz6YHZ4YNmCP7JJ9slP2ym7ZLztmz+yafbNz9s7u2T8/4A/8gn/wE/7Cb/gPP+JP/Mo9cuVWkvRChZnkO+64IxbAz507N3YmPuecc2KXYjto20lbJLHnnnuW7bbbLoZycmkrrLBCFHHxr/9vuOGGZeutt44ZaAvqx40bV4488shywgknlFNPPbWceeaZEWkw+EsuuaTMmTOnXH311TFkvO2222IXZ0PARx55JJUyikG/9Ezf9E7/7IA9sAv2wU7YC7thP+yIPbEr9sXO2FszO2Sf7JS9stu6Ezx7Ztfsm52zd3afK66SpEc1nnjiiXL//feXu+66K4aK1113XTjb9OnTywUXXFDOOuuscA5rO02aiE4svh87dmzZfffdY73nFltsEW9KrbXWWjGrvfzyy5clllgi1oGutNJKEeGss8464ZSin2233TYmWzghpz3wwAPL+PHjy+GHHx4z5Mcff3w56aSTosCMCMoyJmtJOf7kyZPLhRdeWKZOnRptnDlzZpk1a1Y4rWEuspg/f3448M033xwy3XrrrbGjNocmp0jKrLzhrGVQ5H/ggQdiF+qHHnooSOixxx6L3agNo/XRk08+WZ566qmu+tbxznO+67ie67q++7if+7q/dmiPdmmfdmqvdms/OchDLvKRk7zkJr9+0B/6Rf/oJ/2l3/SfftSf+lX/6mf9rd/1Pz3QB73QDz3RF73RHz3SJ73SLz3TN73TPztgD+yCfbAT9sJu2A87Yk/ayL7YGZnISX59lEiSTiyiiAvpIBzDWLm+a665plxxxRUxnJ0xY0YMaRWUESVVUjn99NNjImfixIkLSIXjT5gwIUjggAMOKPvuu2/Ze++9Y6JHdGaYu/3220eUJte42WabRVSGSNZbb70gHMQiF2mZlPoIK6+8chkzZkxMEBk2I6DlllsuCMkQ2ptg8pfIyWfxxRePqM/H3wM/jb/Vc5zvOq7nuq7vPu7nvu6vHdqjXdqnndqr3dpPDvKQi3zkJC+5ya8f9Id+0T/6SX/Vh55+1J/6tT709Ld+1//0QB/0Qj/0RF/0Rn85Quov/Bd+QvTp9Yu9bwAAAABJRU5ErkJggg=="},955:function(t,e,s){t.exports=s.p+"assets/img/35.d01c4b65.png"},956:function(t,e,s){t.exports=s.p+"assets/img/36.0802659d.png"}}]);