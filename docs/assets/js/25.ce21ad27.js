(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{1380:function(e,t,a){"use strict";a.r(t);var o=a(7),s=Object(o.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("h1",{attrs:{id:"route-53"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#route-53"}},[e._v("#")]),e._v(" Route 53")]),e._v(" "),o("h2",{attrs:{id:"what-is-dns"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#what-is-dns"}},[e._v("#")]),e._v(" What is DNS?")]),e._v(" "),o("p",[e._v("Domain Name System (DNS) which translates the human friendly hostnames into the machine IP addresses")]),e._v(" "),o("p",[e._v("E.g: "),o("code",[e._v("www.google.com")]),e._v(" => "),o("code",[e._v("172.217.18.36")])]),e._v(" "),o("ul",[o("li",[e._v("DNS is the backbone of the Internet")]),e._v(" "),o("li",[e._v("DNS uses hierarchical naming structure")])]),e._v(" "),o("h3",{attrs:{id:"dns-terms"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#dns-terms"}},[e._v("#")]),e._v(" DNS Terms")]),e._v(" "),o("ul",[o("li",[o("strong",[e._v("Domain Registrar")]),e._v(": Amazon Route 53, GoDaddy, …")]),e._v(" "),o("li",[o("strong",[e._v("DNS Records")]),e._v(": A, AAAA, CNAME, NS, …")]),e._v(" "),o("li",[o("strong",[e._v("Zone File")]),e._v(": contains DNS records")]),e._v(" "),o("li",[o("strong",[e._v("Name Server")]),e._v(": resolves DNS queries (Authoritative or Non-Authoritative)")]),e._v(" "),o("li",[o("strong",[e._v("Top Level Domain")]),e._v(" (TLD): "),o("code",[e._v(".com")]),e._v(", "),o("code",[e._v(".us")]),e._v(", "),o("code",[e._v(".in")]),e._v(", "),o("code",[e._v(".gov")]),e._v(", "),o("code",[e._v(".org")]),e._v(", …")]),e._v(" "),o("li",[o("strong",[e._v("Second Level Domain")]),e._v(" (SLD): "),o("code",[e._v("amazon.com")]),e._v(", "),o("code",[e._v("google.com")]),e._v(", …")])]),e._v(" "),o("p",[o("img",{attrs:{src:a(635),alt:"url"}})]),e._v(" "),o("h3",{attrs:{id:"how-it-works"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#how-it-works"}},[e._v("#")]),e._v(" How it works")]),e._v(" "),o("p",[o("img",{attrs:{src:a(408),alt:"dns"}})]),e._v(" "),o("ul",[o("li",[e._v("Local DNS Server: Assigned and Managed by your company or assigned by your ISP dynamically")]),e._v(" "),o("li",[e._v("Root DNS Server: Managed by ICANN")]),e._v(" "),o("li",[e._v("TLD DNS Server ("),o("code",[e._v(".edu")]),e._v("): Managed by IANA (Branch of ICANN)")]),e._v(" "),o("li",[e._v("SLD DNS Server ("),o("code",[e._v("googleplex.edu")]),e._v("): Managed by Domain Registrar (e.g., Amazon Registrar, Inc.)")])]),e._v(" "),o("p",[o("RouterLink",{attrs:{to:"/network/dns.html"}},[e._v("Detail")])],1),e._v(" "),o("h2",{attrs:{id:"amazon-route-53"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#amazon-route-53"}},[e._v("#")]),e._v(" Amazon Route 53")]),e._v(" "),o("ul",[o("li",[e._v("A highly available, scalable, fully managed and "),o("em",[e._v("Authoritative")]),e._v(" DNS\n"),o("ul",[o("li",[e._v("Authoritative = the customer (you) can update the DNS records")])])]),e._v(" "),o("li",[e._v("Route 53 is also a Domain Registrar")]),e._v(" "),o("li",[e._v("Ability to check the health of your resources")]),e._v(" "),o("li",[e._v("The only AWS service which provides "),o("strong",[e._v("100% availability SLA")])]),e._v(" "),o("li",[e._v("Why Route 53? 53 is a reference to the traditional DNS port")])]),e._v(" "),o("h2",{attrs:{id:"records"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#records"}},[e._v("#")]),e._v(" Records")]),e._v(" "),o("ul",[o("li",[e._v("How you want to route traffic for a domain")]),e._v(" "),o("li",[e._v("Each record contains:\n"),o("ul",[o("li",[o("strong",[e._v("Domain/subdomain Name")]),e._v(" – e.g., example.com")]),e._v(" "),o("li",[o("strong",[e._v("Record Type")]),e._v(" – e.g., A or AAAA")]),e._v(" "),o("li",[o("strong",[e._v("Value")]),e._v(" – e.g., 12.34.56.78")]),e._v(" "),o("li",[o("strong",[e._v("Routing Policy")]),e._v(" – how Route 53 responds to queries")]),e._v(" "),o("li",[o("strong",[e._v("TTL")]),e._v(" – amount of time the record cached at DNS Resolvers")])])]),e._v(" "),o("li",[e._v("Route 53 supports the following DNS record types:\n"),o("ul",[o("li",[e._v("(must know) A / AAAA / CNAME / NS")]),e._v(" "),o("li",[e._v("(advanced) CAA / DS / MX / NAPTR / PTR / SOA / TXT / SPF / SRV")])])])]),e._v(" "),o("table",[o("thead",[o("tr",[o("th",[e._v("Types")]),e._v(" "),o("th",[e._v("Desc")])])]),e._v(" "),o("tbody",[o("tr",[o("td",[e._v("A")]),e._v(" "),o("td",[e._v("maps a hostname to IPv4")])]),e._v(" "),o("tr",[o("td",[e._v("AAAA")]),e._v(" "),o("td",[e._v("maps a hostname to IPv6")])]),e._v(" "),o("tr",[o("td",[e._v("CNAME")]),e._v(" "),o("td",[e._v("maps a hostname to another hostname "),o("br"),e._v(" - The target is a domain name which must have an A or AAAA record "),o("br"),e._v("- Can’t create a CNAME record for the top node of a DNS namespace (Zone Apex). E.g: can't create for "),o("code",[e._v("example.com")]),e._v(" but can create "),o("code",[e._v("www.example.com")])])]),e._v(" "),o("tr",[o("td",[e._v("NS")]),e._v(" "),o("td",[e._v("Name Servers for the "),o("strong",[e._v("Hosted Zone")]),e._v(" "),o("br"),e._v("- Control how traffic is routed for a domain")])])])]),e._v(" "),o("h3",{attrs:{id:"records-ttl-time-to-live"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#records-ttl-time-to-live"}},[e._v("#")]),e._v(" Records TTL (Time To Live)")]),e._v(" "),o("ul",[o("li",[o("strong",[e._v("High TTL")]),e._v(" – e.g., 24 hr\n"),o("ul",[o("li",[e._v("Less traffic on Route 53")]),e._v(" "),o("li",[e._v("Possibly outdated records")])])]),e._v(" "),o("li",[o("strong",[e._v("Low TTL")]),e._v(" – e.g., 60 sec.\n"),o("ul",[o("li",[e._v("More traffic on Route 53 ($$)")]),e._v(" "),o("li",[e._v("Records are outdated for less time")]),e._v(" "),o("li",[e._v("Easy to change records")])])]),e._v(" "),o("li",[o("strong",[e._v("Except for Alias records, TTL is mandatory for each DNS record")])])]),e._v(" "),o("h3",{attrs:{id:"cname-vs-alias"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#cname-vs-alias"}},[e._v("#")]),e._v(" CNAME vs Alias")]),e._v(" "),o("ul",[o("li",[e._v("AWS Resources (Load Balancer, CloudFront...) expose an AWS hostname:\n"),o("ul",[o("li",[o("code",[e._v("lb1-1234.us-east-2.elb.amazonaws.com")]),e._v(" and you want "),o("code",[e._v("myapp.mydomain.com")])])])]),e._v(" "),o("li",[o("strong",[e._v("CNAME")]),e._v(":\n"),o("ul",[o("li",[e._v("Points a hostname to any other hostname. ("),o("code",[e._v("app.mydomain.com")]),e._v(" => "),o("code",[e._v("blabla.anything.com")]),e._v(")")]),e._v(" "),o("li",[o("strong",[e._v("ONLY FOR NON ROOT DOMAIN")]),e._v(" (aka. "),o("code",[e._v("something.mydomain.com")]),e._v(")")])])]),e._v(" "),o("li",[o("strong",[e._v("Alias")]),e._v(":\n"),o("ul",[o("li",[e._v("Points a hostname to an AWS Resource ("),o("code",[e._v("app.mydomain.com")]),e._v(" => "),o("code",[e._v("blabla.amazonaws.com")]),e._v(")")]),e._v(" "),o("li",[o("strong",[e._v("Works for ROOT DOMAIN and NON ROOT DOMAIN")]),e._v(" (aka "),o("code",[e._v("mydomain.com")]),e._v(")")]),e._v(" "),o("li",[e._v("Free of charge")]),e._v(" "),o("li",[e._v("Native health check")])])])]),e._v(" "),o("h3",{attrs:{id:"alias-records"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#alias-records"}},[e._v("#")]),e._v(" Alias Records")]),e._v(" "),o("ul",[o("li",[o("strong",[e._v("Maps a hostname to an AWS resource")])]),e._v(" "),o("li",[e._v("An extension to DNS functionality")]),e._v(" "),o("li",[e._v("Automatically recognizes changes in the resource’s IP addresses")]),e._v(" "),o("li",[e._v("Unlike CNAME, it can be used for the top node of a DNS namespace (Zone Apex), e.g.: "),o("code",[e._v("example.com")])]),e._v(" "),o("li",[e._v("Alias Record is always of type "),o("strong",[e._v("A/AAAA")]),e._v(" for AWS resources (IPv4 / IPv6)")]),e._v(" "),o("li",[o("strong",[e._v("You can’t set the TTL")])])]),e._v(" "),o("table",[o("thead",[o("tr",[o("th",[e._v("Record Name")]),e._v(" "),o("th",[e._v("Type")]),e._v(" "),o("th",[e._v("Value")])])]),e._v(" "),o("tbody",[o("tr",[o("td",[o("code",[e._v("example.com")])]),e._v(" "),o("td",[e._v("A")]),e._v(" "),o("td",[o("code",[e._v("MyALB-123456789.useast1.elb.amazonaws.com")])])])])]),e._v(" "),o("p",[o("strong",[e._v("Alias Records Targets")])]),e._v(" "),o("ul",[o("li",[e._v("Elastic Load Balancers")]),e._v(" "),o("li",[e._v("CloudFront Distributions")]),e._v(" "),o("li",[e._v("API Gateway")]),e._v(" "),o("li",[e._v("Elastic Beanstalk environments")]),e._v(" "),o("li",[e._v("S3 Websites")]),e._v(" "),o("li",[e._v("VPC Interface Endpoints")]),e._v(" "),o("li",[e._v("Global Accelerator accelerator")]),e._v(" "),o("li",[e._v("Route 53 record in the same hosted zone")]),e._v(" "),o("li",[o("strong",[e._v("You cannot set an ALIAS record for an EC2 DNS name")])])]),e._v(" "),o("h2",{attrs:{id:"hosted-zones"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#hosted-zones"}},[e._v("#")]),e._v(" Hosted Zones")]),e._v(" "),o("ul",[o("li",[e._v("A container for records that define how to route traffic to a domain and its subdomains")]),e._v(" "),o("li",[o("strong",[e._v("Public Hosted Zones")]),e._v(" – contains records that specify how to route traffic on the Internet (public domain names) "),o("code",[e._v("application1.mypublicdomain.com")])]),e._v(" "),o("li",[o("strong",[e._v("Private Hosted Zones")]),e._v(" – contain records that specify how you route\ntraffic within one or more VPCs (private domain names) "),o("code",[e._v("application1.company.internal")])]),e._v(" "),o("li",[e._v("You pay "),o("em",[e._v("$0.50")]),e._v(" per month per hosted zone")])]),e._v(" "),o("h3",{attrs:{id:"public-vs-private-hosted-zones"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#public-vs-private-hosted-zones"}},[e._v("#")]),e._v(" Public vs. Private Hosted Zones")]),e._v(" "),o("p",[o("img",{attrs:{src:a(636),alt:"compare"}})]),e._v(" "),o("h2",{attrs:{id:"routing-policies"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#routing-policies"}},[e._v("#")]),e._v(" Routing Policies")]),e._v(" "),o("ul",[o("li",[e._v("Define how Route 53 responds to DNS queries")]),e._v(" "),o("li",[e._v("Don’t get confused by the word “Routing”\n"),o("ul",[o("li",[e._v("It’s not the same as Load balancer routing which routes the traffic")]),e._v(" "),o("li",[e._v("DNS does not route any traffic, it "),o("strong",[e._v("only responds to the DNS queries")])])])]),e._v(" "),o("li",[e._v("Route 53 Supports the following Routing Policies\n"),o("ul",[o("li",[e._v("Simple")]),e._v(" "),o("li",[e._v("Weighted")]),e._v(" "),o("li",[e._v("Failover")]),e._v(" "),o("li",[e._v("Latency based")]),e._v(" "),o("li",[e._v("Geolocation")]),e._v(" "),o("li",[e._v("Multi-Value Answer")]),e._v(" "),o("li",[e._v("Geoproximity (using Route 53 Traffic Flow feature)")])])])]),e._v(" "),o("h3",{attrs:{id:"simple"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#simple"}},[e._v("#")]),e._v(" Simple")]),e._v(" "),o("p",[o("img",{attrs:{src:a(637),alt:"routing"}})]),e._v(" "),o("ul",[o("li",[e._v("Typically, route traffic to a "),o("strong",[e._v("single")]),e._v(" resource")]),e._v(" "),o("li",[e._v("Can specify multiple values in the same record")]),e._v(" "),o("li",[o("strong",[e._v("If multiple values are returned, a random one is chosen by the client")])]),e._v(" "),o("li",[e._v("When Alias enabled, specify only one AWS resource")]),e._v(" "),o("li",[e._v("Can’t be associated with Health Checks")])]),e._v(" "),o("h3",{attrs:{id:"weighted"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#weighted"}},[e._v("#")]),e._v(" Weighted")]),e._v(" "),o("p",[o("img",{attrs:{src:a(638),alt:"routing"}})]),e._v(" "),o("ul",[o("li",[e._v("Control the % of the requests that go to each specific resource")]),e._v(" "),o("li",[e._v("Assign each record a relative weight:\n"),o("ul",[o("li",[e._v("traffic (%) = "),o("strong",[e._v("Weight for a specific record")]),e._v(" / "),o("strong",[e._v("Sum of all the weights for all records")])]),e._v(" "),o("li",[o("code",[e._v("Weights don’t need to sum up to 100")])])])]),e._v(" "),o("li",[e._v("DNS records must have the "),o("strong",[e._v("same name and type")])]),e._v(" "),o("li",[e._v("Can be associated with Health Checks")]),e._v(" "),o("li",[e._v("Use cases: load balancing between regions, testing new application versions…")]),e._v(" "),o("li",[o("strong",[e._v("Assign a weight of 0 to a record to stop sending traffic to a resource")])]),e._v(" "),o("li",[o("strong",[e._v("If all records have weight of 0, then all records will be returned equally")])])]),e._v(" "),o("h3",{attrs:{id:"latency-based"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#latency-based"}},[e._v("#")]),e._v(" Latency-based")]),e._v(" "),o("p",[o("img",{attrs:{src:a(639),alt:"routing"}})]),e._v(" "),o("ul",[o("li",[e._v("Redirect to the resource that has the least latency close to us")]),e._v(" "),o("li",[e._v("Super helpful when latency for users is a priority")]),e._v(" "),o("li",[o("strong",[e._v("Latency is based on traffic between users and AWS Regions")])]),e._v(" "),o("li",[e._v("Germany users may be directed to the US (if that’s the lowest latency)")]),e._v(" "),o("li",[e._v("Can be associated with Health Checks (has a failover capability)")])]),e._v(" "),o("h3",{attrs:{id:"failover-active-passive"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#failover-active-passive"}},[e._v("#")]),e._v(" Failover (Active-Passive)")]),e._v(" "),o("p",[o("img",{attrs:{src:a(640),alt:"failover"}})]),e._v(" "),o("p",[e._v("Primary must use with health check")]),e._v(" "),o("h3",{attrs:{id:"geolocation"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#geolocation"}},[e._v("#")]),e._v(" Geolocation")]),e._v(" "),o("p",[o("img",{attrs:{src:a(641),alt:"routing geo"}})]),e._v(" "),o("ul",[o("li",[e._v("Different from Latency-based!")]),e._v(" "),o("li",[e._v("This routing is based on user location")]),e._v(" "),o("li",[e._v("Specify location by "),o("em",[e._v("Continent")]),e._v(", "),o("em",[e._v("Country")]),e._v(" or by "),o("em",[e._v("US State")]),e._v(" (if there’s overlapping, most precise location selected)")]),e._v(" "),o("li",[e._v("Should create a "),o("strong",[e._v("“Default”")]),e._v(" record (in case there’s no match on location)")]),e._v(" "),o("li",[e._v("Use cases: website localization, restrict content distribution, load balancing, …")]),e._v(" "),o("li",[e._v("Can be associated with Health Checks")])]),e._v(" "),o("h3",{attrs:{id:"geoproximity"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#geoproximity"}},[e._v("#")]),e._v(" Geoproximity")]),e._v(" "),o("p",[o("img",{attrs:{src:a(642),alt:"routing geo"}})]),e._v(" "),o("ul",[o("li",[e._v("Route traffic to your resources based on the geographic location of users and resources")]),e._v(" "),o("li",[e._v("Ability "),o("strong",[e._v("to shift more traffic to resources based")]),e._v(" on the defined "),o("strong",[e._v("bias")])]),e._v(" "),o("li",[e._v("To change the size of the geographic region, specify "),o("strong",[e._v("bias")]),e._v(" values:\n"),o("ul",[o("li",[e._v("To expand ("),o("code",[e._v("1 to 99")]),e._v(") – more traffic to the resource")]),e._v(" "),o("li",[e._v("To shrink ("),o("code",[e._v("-1 To -99")]),e._v(") – less traffic to the resource")])])]),e._v(" "),o("li",[e._v("Resources can be:\n"),o("ul",[o("li",[e._v("AWS resources (specify AWS region)")]),e._v(" "),o("li",[e._v("Non-AWS resources (specify Latitude and Longitude)")])])]),e._v(" "),o("li",[e._v("You must use Route 53 "),o("strong",[e._v("Traffic Flow")]),e._v(" to use this feature")])]),e._v(" "),o("h3",{attrs:{id:"ip-based-routing"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#ip-based-routing"}},[e._v("#")]),e._v(" IP-based Routing")]),e._v(" "),o("p",[o("img",{attrs:{src:a(643),alt:"routing by ip"}})]),e._v(" "),o("ul",[o("li",[e._v("Routing is based on "),o("strong",[e._v("clients’ IP addresses")])]),e._v(" "),o("li",[o("strong",[e._v("You provide a list of CIDRs for your clients")]),e._v(" and the corresponding endpoints/locations (user-IP-to-endpoint mappings)")]),e._v(" "),o("li",[e._v("Use cases: Optimize performance, reduce network costs…")]),e._v(" "),o("li",[e._v("Example: route end users from a particular ISP to a specific endpoint")])]),e._v(" "),o("h3",{attrs:{id:"multi-value"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#multi-value"}},[e._v("#")]),e._v(" Multi-Value")]),e._v(" "),o("ul",[o("li",[e._v("Use when routing traffic to multiple resources")]),e._v(" "),o("li",[e._v("Route 53 return multiple values/resources")]),e._v(" "),o("li",[e._v("Can be associated with Health Checks (return only values for healthy resources)")]),e._v(" "),o("li",[e._v("Up to 8 healthy records are returned for each Multi-Value query")]),e._v(" "),o("li",[o("strong",[e._v("Multi-Value is not a substitute for having an ELB")])])]),e._v(" "),o("table",[o("thead",[o("tr",[o("th",[e._v("Name")]),e._v(" "),o("th",[e._v("Type")]),e._v(" "),o("th",[e._v("Value")]),e._v(" "),o("th",[e._v("TTL")]),e._v(" "),o("th",[e._v("Set ID")]),e._v(" "),o("th",[e._v("Health Check")])])]),e._v(" "),o("tbody",[o("tr",[o("td",[e._v("www.example.com")]),e._v(" "),o("td",[e._v("A Record")]),e._v(" "),o("td",[e._v("192.0.2.2")]),e._v(" "),o("td",[e._v("Web1")]),e._v(" "),o("td",[e._v("A")]),e._v(" "),o("td")]),e._v(" "),o("tr",[o("td",[e._v("www.example.com")]),e._v(" "),o("td",[e._v("A Record")]),e._v(" "),o("td",[e._v("198.51.100.2")]),e._v(" "),o("td",[e._v("Web2")]),e._v(" "),o("td",[e._v("B")]),e._v(" "),o("td")]),e._v(" "),o("tr",[o("td",[e._v("www.example.com")]),e._v(" "),o("td",[e._v("A Record")]),e._v(" "),o("td",[e._v("203.0.113.2")]),e._v(" "),o("td",[e._v("Web3")]),e._v(" "),o("td",[e._v("C")]),e._v(" "),o("td")])])]),e._v(" "),o("h2",{attrs:{id:"health-checks"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#health-checks"}},[e._v("#")]),e._v(" Health checks")]),e._v(" "),o("p",[o("img",{attrs:{src:a(644),alt:"health"}})]),e._v(" "),o("ul",[o("li",[e._v("HTTP Health Checks are only for "),o("strong",[e._v("public resources")])]),e._v(" "),o("li",[e._v("Health Check => Automated DNS Failover:\n"),o("ol",[o("li",[e._v("Health checks that monitor an endpoint (application, server, other AWS resource)")]),e._v(" "),o("li",[e._v("Health checks that monitor other health checks (Calculated Health Checks)")]),e._v(" "),o("li",[e._v("Health checks that monitor CloudWatch Alarms (full control !!) – e.g., throttles of DynamoDB, alarms on RDS, custom metrics,… (helpful for private resources)")])])]),e._v(" "),o("li",[e._v("Health Checks are integrated with CW metrics")])]),e._v(" "),o("h3",{attrs:{id:"monitor-an-endpoint"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#monitor-an-endpoint"}},[e._v("#")]),e._v(" Monitor an Endpoint")]),e._v(" "),o("ul",[o("li",[e._v("About 15 global health checkers will check the endpoint health\n"),o("ul",[o("li",[e._v("Healthy/Unhealthy Threshold – 3 (default)")]),e._v(" "),o("li",[e._v("Interval – 30 sec (can set to 10 sec – higher cost)")]),e._v(" "),o("li",[e._v("Supported protocol: HTTP, HTTPS and TCP")]),e._v(" "),o("li",[e._v("If "),o("code",[e._v("> 18%")]),e._v(" of health checkers report the endpoint is healthy, Route 53 considers it "),o("strong",[e._v("Healthy")]),e._v(". Otherwise, it’s "),o("strong",[e._v("Unhealthy")])]),e._v(" "),o("li",[e._v("Ability to choose which locations you want Route 53 to use")])])]),e._v(" "),o("li",[e._v("Health Checks pass only when the endpoint responds with the 2xx and 3xx status codes")]),e._v(" "),o("li",[e._v("Health Checks can be setup to pass / fail based on the text in the first "),o("strong",[e._v("5120 bytes")]),e._v(" of the response")]),e._v(" "),o("li",[e._v("Configure you router/firewall to allow incoming requests from Route 53 Health Checkers")])]),e._v(" "),o("h3",{attrs:{id:"calculated-health-checks"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#calculated-health-checks"}},[e._v("#")]),e._v(" Calculated Health Checks")]),e._v(" "),o("ul",[o("li",[e._v("Combine the results of multiple Health Checks (Children) into a single Health Check (Parent)")]),e._v(" "),o("li",[e._v("You can use "),o("strong",[e._v("OR")]),e._v(", "),o("strong",[e._v("AND")]),e._v(", or "),o("strong",[e._v("NOT")])]),e._v(" "),o("li",[e._v("Can monitor up to 256 Child Health Checks")]),e._v(" "),o("li",[e._v("Specify how many of the health checks need to pass to make the parent pass")]),e._v(" "),o("li",[e._v("Usage: perform maintenance to your website without causing all health checks to fail")])]),e._v(" "),o("h3",{attrs:{id:"private-hosted-zones"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#private-hosted-zones"}},[e._v("#")]),e._v(" Private Hosted Zones")]),e._v(" "),o("ul",[o("li",[e._v("Route 53 health checkers are outside the VPC")]),e._v(" "),o("li",[e._v("They can’t access "),o("strong",[e._v("private")]),e._v(" endpoints (private VPC or on-premises resource)")])]),e._v(" "),o("div",{staticClass:"custom-block tip"},[o("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),o("p",[e._v("You can create a "),o("strong",[e._v("CloudWatch Metric")]),e._v(" and associate a "),o("strong",[e._v("CloudWatch Alarm")]),e._v(", then create a "),o("strong",[e._v("Health Check")]),e._v(" that checks the alarm itself")])]),e._v(" "),o("h2",{attrs:{id:"domain-registar-vs-dns-service"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#domain-registar-vs-dns-service"}},[e._v("#")]),e._v(" Domain Registar vs. DNS Service")]),e._v(" "),o("ul",[o("li",[e._v("You buy or register your domain name with a Domain Registrar typically by paying annual charges (e.g., GoDaddy, Amazon Registrar Inc., …)")]),e._v(" "),o("li",[e._v("The Domain Registrar usually provides you with a DNS service to manage your DNS records")]),e._v(" "),o("li",[e._v("But you can use another DNS service to manage your DNS records")])]),e._v(" "),o("p",[o("strong",[e._v("Example")]),e._v(": purchase the domain from GoDaddy and use Route 53 to manage your DNS records\n"),o("img",{attrs:{src:a(645),alt:"flow"}})]),e._v(" "),o("ul",[o("li",[e._v("If you buy your domain on a 3rd party registrar, you can still use Route 53 as the DNS Service provider")])]),e._v(" "),o("ol",[o("li",[e._v("Create a Hosted Zone in Route 53")]),e._v(" "),o("li",[e._v("Update NS Records on 3rd party website to use Route 53 Name Servers")])]),e._v(" "),o("ul",[o("li",[e._v("Domain Registrar != DNS Service")]),e._v(" "),o("li",[e._v("But every Domain Registrar usually comes with some DNS features")])])])}),[],!1,null,null,null);t.default=s.exports},408:function(e,t,a){e.exports=a.p+"assets/img/dnsresolution.bd8ee40a.png"},635:function(e,t,a){e.exports=a.p+"assets/img/url.4762172c.png"},636:function(e,t,a){e.exports=a.p+"assets/img/host-zones-compare.16abbbc0.png"},637:function(e,t,a){e.exports=a.p+"assets/img/routing-simple.25e0a502.png"},638:function(e,t,a){e.exports=a.p+"assets/img/routing-weighted.64a488ee.png"},639:function(e,t,a){e.exports=a.p+"assets/img/routing-latency.fc6ab949.png"},640:function(e,t,a){e.exports=a.p+"assets/img/failover.ebec9df6.png"},641:function(e,t,a){e.exports=a.p+"assets/img/routing-geolocation.68246da8.png"},642:function(e,t,a){e.exports=a.p+"assets/img/routing-geoproximity.95117f23.png"},643:function(e,t,a){e.exports=a.p+"assets/img/routing-ip.4ec8a4c2.png"},644:function(e,t,a){e.exports=a.p+"assets/img/health-check.be12d6ea.png"},645:function(e,t,a){e.exports=a.p+"assets/img/registrar-dnsservice.9e0479e7.png"}}]);