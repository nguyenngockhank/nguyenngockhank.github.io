(window.webpackJsonp=window.webpackJsonp||[]).push([[146],{756:function(t,a,e){"use strict";e.r(a);var v=e(7),r=Object(v.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"elastic-load-balancing"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#elastic-load-balancing"}},[t._v("#")]),t._v(" Elastic Load Balancing")]),t._v(" "),e("h2",{attrs:{id:"what"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#what"}},[t._v("#")]),t._v(" What?")]),t._v(" "),e("ul",[e("li",[t._v("distribute network traffic to improve app scalability")]),t._v(" "),e("li",[t._v("HA & automatic scaling")]),t._v(" "),e("li",[t._v("Monitor app health realtime, uncover bottleneck, maintain SLA compliance")]),t._v(" "),e("li",[t._v("Integrate  Association for Computing Machinery (ACM), User authentication (Amazon Cognito), SSL/TLS")])]),t._v(" "),e("h2",{attrs:{id:"types"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#types"}},[t._v("#")]),t._v(" Types")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Feature")]),t._v(" "),e("th",[t._v("Application LB")]),t._v(" "),e("th",[t._v("Network LB")]),t._v(" "),e("th",[t._v("Gateway LB")]),t._v(" "),e("th",[t._v("Classic LB")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("OSI Layer")]),t._v(" "),e("td",[t._v("7")]),t._v(" "),e("td",[t._v("4")]),t._v(" "),e("td",[t._v("3 Gateway + 4 LB")]),t._v(" "),e("td",[t._v("4 / 7")])]),t._v(" "),e("tr",[e("td",[t._v("Target type")]),t._v(" "),e("td",[t._v("IP, Instance, Lambda")]),t._v(" "),e("td",[t._v("IP, Instance, ALB")]),t._v(" "),e("td",[t._v("IP, Instance")]),t._v(" "),e("td")]),t._v(" "),e("tr",[e("td",[t._v("Terminates flow/ proxy behavior")]),t._v(" "),e("td",[t._v("✅")]),t._v(" "),e("td",[t._v("✅")]),t._v(" "),e("td",[t._v("❌")]),t._v(" "),e("td",[t._v("✅")])]),t._v(" "),e("tr",[e("td",[t._v("Protocol listerners")]),t._v(" "),e("td",[t._v("HTTP, HTTPs, gRPC")]),t._v(" "),e("td",[t._v("TCP, UDP, TLS")]),t._v(" "),e("td",[t._v("IP")]),t._v(" "),e("td",[t._v("TCP, SSL/TLS, HTTP, HTTPS")])]),t._v(" "),e("tr",[e("td",[t._v("Reachable via")]),t._v(" "),e("td",[t._v("VIP")]),t._v(" "),e("td",[t._v("VIP")]),t._v(" "),e("td",[t._v("Route table entry")]),t._v(" "),e("td")])])]),t._v(" "),e("p",[t._v("Application LB Layer 7:")]),t._v(" "),e("ul",[e("li",[t._v("Redirects")]),t._v(" "),e("li",[t._v("Fixed response")]),t._v(" "),e("li",[t._v("Desync Mitigation Mode")]),t._v(" "),e("li",[t._v("HTTP header based routing")]),t._v(" "),e("li",[t._v("HTTP2/gRPC")])]),t._v(" "),e("h2",{attrs:{id:"target-group-types"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#target-group-types"}},[t._v("#")]),t._v(" Target group types")]),t._v(" "),e("ul",[e("li",[t._v("Amazon EC2 Auto scaling")]),t._v(" "),e("li",[t._v("IP Addresses")]),t._v(" "),e("li",[t._v("Lambda function (ALB only)")]),t._v(" "),e("li",[t._v("Amazon EKS")]),t._v(" "),e("li",[t._v("Amazon ECS")])]),t._v(" "),e("h2",{attrs:{id:"pricing"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pricing"}},[t._v("#")]),t._v(" Pricing")]),t._v(" "),e("ul",[e("li",[t._v("Pay for each running / partial running hour")]),t._v(" "),e("li",[t._v("Number of LCU used per hour\n"),e("ul",[e("li",[t._v("ALB: LCU")]),t._v(" "),e("li",[t._v("NLB: NLCU")]),t._v(" "),e("li",[t._v("GLB: GLCU")])])]),t._v(" "),e("li",[t._v("For GLB, pay for GWLBE (AWS PrivateLink)")]),t._v(" "),e("li",[t._v("Free Tier:\n"),e("ul",[e("li",[t._v("12 months, 750 hours shared per month for CLB, ALB")]),t._v(" "),e("li",[t._v("15GB data for CLB, 15 LCUs for ALB")])])])]),t._v(" "),e("h3",{attrs:{id:"lcu"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lcu"}},[t._v("#")]),t._v(" LCU")]),t._v(" "),e("ul",[e("li",[t._v("Dimensions: Charge at highest elements\n"),e("ul",[e("li",[t._v("New connections per hour")]),t._v(" "),e("li",[t._v("Active connections per hour")]),t._v(" "),e("li",[t._v("Processed bytes per hour")]),t._v(" "),e("li",[t._v("Rule evaluations")])])]),t._v(" "),e("li",[t._v("1 LCU:\n"),e("ul",[e("li",[t._v("25 new connections per second")]),t._v(" "),e("li",[t._v("3,000 active connections per minutes")]),t._v(" "),e("li",[t._v("1GB data processed for Amazon EC2, containers or IP; 0.4GB data processed for Lambda.")]),t._v(" "),e("li",[t._v("1,000 rule evaluation per second")])])])]),t._v(" "),e("h3",{attrs:{id:"example"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#example"}},[t._v("#")]),t._v(" Example")]),t._v(" "),e("p",[t._v("An application receives an average of 500 new connections per seconds, 10,000 active connections per minute.")]),t._v(" "),e("p",[t._v("Request/response messages has 8KB.")]),t._v(" "),e("p",[t._v("You configured 20 rules on ALB for validation.")]),t._v(" "),e("p",[t._v("System is served by 70% EC2 and 30% Lambda.")]),t._v(" "),e("p",[t._v("As a Solution Architect, what is the pricing estimation for this scenario?")]),t._v(" "),e("p",[e("strong",[t._v("Analysis:")])]),t._v(" "),e("ul",[e("li",[t._v("New connections per second (25): 500 => 20 LCU")]),t._v(" "),e("li",[t._v("Active connections per minute (3,000): 10,000 => 3.33 LCU")]),t._v(" "),e("li",[t._v("Proceed data per hour (1GB EC2, 0.4GB Lambda): 10.08GB for EC2, 4.32GB for Lambda => LCU = 10.08 + 10.8 = 20.88 LCU")]),t._v(" "),e("li",[t._v("Rule validation per second (1,000): 20* 500 = 10,000 => LCU = 10")])]),t._v(" "),e("p",[e("strong",[t._v("Pricing (Singapore):")])]),t._v(" "),e("ul",[e("li",[t._v("Provision hour: $0.0252")]),t._v(" "),e("li",[t._v("LCU = 20.88 * $0.008 = $0.16704")]),t._v(" "),e("li",[t._v("Hourly: $0.19224 => Monthly: $138.41")])]),t._v(" "),e("p",[e("a",{attrs:{href:"https://aws.amazon.com/elasticloadbalancing/pricing/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Detail"),e("OutboundLink")],1)]),t._v(" "),e("h2",{attrs:{id:"elb-quotas"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#elb-quotas"}},[t._v("#")]),t._v(" ELB Quotas")]),t._v(" "),e("ul",[e("li",[t._v("ELB per Region: 50")]),t._v(" "),e("li",[t._v("Target Group per Region: 3,000")]),t._v(" "),e("li",[t._v("Listeners per LB: 50")]),t._v(" "),e("li",[t._v("Targets per LB: 100")]),t._v(" "),e("li",[t._v("Security Group per LB: 5")]),t._v(" "),e("li",[t._v("Rules per LB (not counting default rules): 100")]),t._v(" "),e("li",[t._v("Certificates per LB (not counting default cer): 25")]),t._v(" "),e("li",[t._v("LBs per Target group: 1")]),t._v(" "),e("li",[t._v("EC2 / IP per Target group: 1,000")]),t._v(" "),e("li",[t._v("Lambda per Target group: 1")])]),t._v(" "),e("p",[e("a",{attrs:{href:"https://docs.aws.amazon.com/elasticloadbalancing/latest/application/load-balancer-limits.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Detail"),e("OutboundLink")],1)]),t._v(" "),e("h2",{attrs:{id:"notes"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#notes"}},[t._v("#")]),t._v(" Notes")]),t._v(" "),e("ul",[e("li",[t._v("LCU: Load Balancer Capacity Units")]),t._v(" "),e("li",[t._v("VIP: Virtual IP Load Balancing")]),t._v(" "),e("li",[t._v("ALB: Application Load Balancer")]),t._v(" "),e("li",[t._v("NLB: Network Load Balancer")]),t._v(" "),e("li",[t._v("GLB: Gateway Load Balancer")])]),t._v(" "),e("h2",{attrs:{id:"refs"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#refs"}},[t._v("#")]),t._v(" Refs")]),t._v(" "),e("p",[t._v("https://jayendrapatil.com/tag/elb-vs-alb-vs-nlb/")])])}),[],!1,null,null,null);a.default=r.exports}}]);