(window.webpackJsonp=window.webpackJsonp||[]).push([[218],{1364:function(e,t,a){"use strict";a.r(t);var s=a(7),o=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"amazon-elastic-block-store-ebs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#amazon-elastic-block-store-ebs"}},[e._v("#")]),e._v(" Amazon Elastic Block Store (EBS)")]),e._v(" "),a("h2",{attrs:{id:"overview"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#overview"}},[e._v("#")]),e._v(" Overview")]),e._v(" "),a("ul",[a("li",[e._v("It’s a network drive (i.e. not a physical drive)\n"),a("ul",[a("li",[e._v("It uses the network to communicate the instance, which means there might be a bit of latency")]),e._v(" "),a("li",[e._v("It can be detached from an EC2 instance and attached to another one quickly")]),e._v(" "),a("li",[e._v("only be mounted to "),a("strong",[e._v("one instance at a time")]),e._v(" (at the CCP level)")])])]),e._v(" "),a("li",[e._v("It's locked to an Availability Zone (AZ)\n"),a("ul",[a("li",[e._v("An EBS Volume in "),a("em",[e._v("us-east-1a")]),e._v(" cannot be attached to "),a("em",[e._v("us-east-1b")])]),e._v(" "),a("li",[e._v("To move a volume across, you first need to snapshot itme")])])]),e._v(" "),a("li",[e._v("Have a provisioned capacity (size in GBs, and IOPS)\n"),a("ul",[a("li",[e._v("You get billed for all the provisioned capacity")]),e._v(" "),a("li",[e._v("You can increase the capacity of the drive over time.")])])]),e._v(" "),a("li",[e._v("It allows your instances to persist data, even after their termination ("),a("code",[e._v("Delete on Termination")]),e._v(" attribute)")])]),e._v(" "),a("p",[a("strong",[e._v("Analogy")]),e._v(": Think of them as a “network USB stick”"),a("br"),e._v(" "),a("strong",[e._v("Free tier")]),e._v(": 30 GB of free EBS storage of type General Purpose (SSD) or Magnetic per month")]),e._v(" "),a("h2",{attrs:{id:"snapshots"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#snapshots"}},[e._v("#")]),e._v(" Snapshots")]),e._v(" "),a("ul",[a("li",[e._v("Make a backup (snapshot) of your EBS volume at a point in time")]),e._v(" "),a("li",[e._v("Not necessary to detach volume to do snapshot, but recommended")]),e._v(" "),a("li",[e._v("Can copy snapshots across AZ or Region")])]),e._v(" "),a("h3",{attrs:{id:"ebs-snapshot-archive"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ebs-snapshot-archive"}},[e._v("#")]),e._v(" "),a("strong",[e._v("EBS Snapshot Archive")])]),e._v(" "),a("ul",[a("li",[e._v("Move a Snapshot to an ”archive tier” that is 75% cheaper")]),e._v(" "),a("li",[e._v("Takes within 24 to 72 hours for restoring the archive")])]),e._v(" "),a("h3",{attrs:{id:"recycle-bin-for-ebs-snapshots"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#recycle-bin-for-ebs-snapshots"}},[e._v("#")]),e._v(" "),a("strong",[e._v("Recycle Bin for EBS Snapshots")])]),e._v(" "),a("ul",[a("li",[e._v("Setup rules to retain deleted snapshots so you can recover them after an accidental deletion")]),e._v(" "),a("li",[e._v("Specify retention (from 1 day to 1 year)")])]),e._v(" "),a("h3",{attrs:{id:"fast-snapshot-restore-fsr"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#fast-snapshot-restore-fsr"}},[e._v("#")]),e._v(" "),a("strong",[e._v("Fast Snapshot Restore (FSR)")])]),e._v(" "),a("ul",[a("li",[e._v("Force full initialization of snapshot to have no latency on the first use ($$$)")])]),e._v(" "),a("h2",{attrs:{id:"volume-types"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#volume-types"}},[e._v("#")]),e._v(" Volume Types")]),e._v(" "),a("ul",[a("li",[e._v("EBS Volumes come in 6 types\n"),a("ul",[a("li",[a("strong",[e._v("gp2")]),e._v(" / "),a("strong",[e._v("gp3")]),e._v(" (SSD): General purpose SSD volume that balances price and performance for a wide variety of workloads")]),e._v(" "),a("li",[a("strong",[e._v("io1")]),e._v(" / "),a("strong",[e._v("io2")]),e._v(" (SSD): Highest-performance SSD volume for mission-critical low-latency or high-throughput workloads")]),e._v(" "),a("li",[a("strong",[e._v("st1")]),e._v(" (HDD): Low cost HDD volume designed for frequently accessed, throughput intensive workloads")]),e._v(" "),a("li",[a("strong",[e._v("sc1")]),e._v(" (HDD): Lowest cost HDD volume designed for less frequently accessed workloads")])])]),e._v(" "),a("li",[e._v("EBS Volumes are characterized in Size | Throughput | IOPS (I/O Ops Per Sec)")]),e._v(" "),a("li",[e._v("When in doubt always consult the AWS documentation – it’s good!")]),e._v(" "),a("li",[e._v("Only gp2/gp3 and io1/io2 can be used as boot volumes")])]),e._v(" "),a("h3",{attrs:{id:"general-purpose-ssd"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#general-purpose-ssd"}},[e._v("#")]),e._v(" "),a("strong",[e._v("General Purpose SSD")])]),e._v(" "),a("ul",[a("li",[e._v("Cost effective storage, low-latency")]),e._v(" "),a("li",[e._v("System boot volumes, Virtual desktops, Development and test environments")]),e._v(" "),a("li",[e._v("1 GiB - 16 TiB")]),e._v(" "),a("li",[e._v("gp3:\n"),a("ul",[a("li",[e._v("Baseline of 3,000 IOPS and throughput of 125 MiB/s")]),e._v(" "),a("li",[e._v("Can increase IOPS up to 16,000 and throughput up to 1000 MiB/s independently")])])]),e._v(" "),a("li",[e._v("gp2:\n"),a("ul",[a("li",[e._v("Small gp2 volumes can burst IOPS to 3,000")]),e._v(" "),a("li",[e._v("Size of the volume and IOPS are linked, max IOPS is 16,000")]),e._v(" "),a("li",[e._v("3 IOPS per GB, means at 5,334 GB we are at the max IOPS")])])])]),e._v(" "),a("h3",{attrs:{id:"provisioned-iops-piops-ssd"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#provisioned-iops-piops-ssd"}},[e._v("#")]),e._v(" "),a("strong",[e._v("Provisioned IOPS (PIOPS) SSD")])]),e._v(" "),a("ul",[a("li",[e._v("Critical business applications with sustained IOPS performance")]),e._v(" "),a("li",[e._v("Or applications that need more than 16,000 IOPS")]),e._v(" "),a("li",[e._v("Great for "),a("strong",[e._v("databases workloads")]),e._v(" (sensitive to storage perf and consistency)")]),e._v(" "),a("li",[e._v("io1/io2 (4 GiB - 16 TiB):\n"),a("ul",[a("li",[e._v("Max PIOPS: 64,000 for Nitro EC2 instances & 32,000 for other")]),e._v(" "),a("li",[e._v("Can increase PIOPS independently from storage size")]),e._v(" "),a("li",[e._v("io2 have more durability and more IOPS per GiB (at the same price as io1)")])])]),e._v(" "),a("li",[e._v("io2 Block Express (4 GiB – 64 TiB):\n"),a("ul",[a("li",[e._v("Sub-millisecond latency")]),e._v(" "),a("li",[e._v("Max PIOPS: 256,000 with an IOPS:GiB ratio of 1,000:1")])])]),e._v(" "),a("li",[e._v("Supports EBS Multi-attach")])]),e._v(" "),a("h3",{attrs:{id:"hard-disk-drives-hdd"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hard-disk-drives-hdd"}},[e._v("#")]),e._v(" "),a("strong",[e._v("Hard Disk Drives (HDD)")])]),e._v(" "),a("ul",[a("li",[e._v("Cannot be a boot volume")]),e._v(" "),a("li",[e._v("125 GiB to 16 TiB")]),e._v(" "),a("li",[e._v("Throughput Optimized HDD (st1)\n"),a("ul",[a("li",[e._v("Big Data, Data Warehouses, Log Processing")]),e._v(" "),a("li",[e._v("Max throughput 500 MiB/s – max IOPS 500")])])]),e._v(" "),a("li",[e._v("Cold HDD (sc1):\n"),a("ul",[a("li",[e._v("For data that is infrequently accessed")]),e._v(" "),a("li",[e._v("Scenarios where lowest cost is important")]),e._v(" "),a("li",[e._v("Max throughput 250 MiB/s – max IOPS 250")])])])]),e._v(" "),a("p",[a("a",{attrs:{href:"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-volume-types.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Ref: Amazon EBS volume types"),a("OutboundLink")],1)]),e._v(" "),a("h2",{attrs:{id:"multi-attach-io1-io2-family"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#multi-attach-io1-io2-family"}},[e._v("#")]),e._v(" Multi-Attach – io1/io2 family")]),e._v(" "),a("ul",[a("li",[e._v("Attach the same EBS volume to multiple EC2 instances in the "),a("strong",[e._v("same AZ")])]),e._v(" "),a("li",[e._v("Each instance has full read & write permissions to the high-performance volume")]),e._v(" "),a("li",[e._v("Up to 16 EC2 Instances at a time")]),e._v(" "),a("li",[e._v("Must use a file system that’s cluster-aware (not XFS, EXT4, etc…)")])]),e._v(" "),a("p",[a("strong",[e._v("Use case:")])]),e._v(" "),a("ul",[a("li",[e._v("Achieve higher application availability in clustered Linux applications (ex: Teradata)")]),e._v(" "),a("li",[e._v("Applications must manage concurrent write operations")])]),e._v(" "),a("h2",{attrs:{id:"encryption"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#encryption"}},[e._v("#")]),e._v(" Encryption")]),e._v(" "),a("p",[e._v("When you create an encrypted EBS volume, you get the following:")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Data at rest is encrypted inside the volume")])]),e._v(" "),a("li",[a("p",[e._v("All the data in flight moving between the instance and the volume is encrypted")])]),e._v(" "),a("li",[a("p",[e._v("All snapshots are encrypted")])]),e._v(" "),a("li",[a("p",[e._v("All volumes created from the snapshot")])]),e._v(" "),a("li",[a("p",[e._v("Encryption and decryption are handled "),a("strong",[e._v("transparently")]),e._v(" (you have nothing to do)")])]),e._v(" "),a("li",[a("p",[e._v("Encryption has a "),a("strong",[e._v("minimal impact on latency")])])]),e._v(" "),a("li",[a("p",[e._v("EBS Encryption leverages keys from Key Management Service (KMS) (AES-256)")])]),e._v(" "),a("li",[a("p",[e._v("Copying an unencrypted snapshot allows encryption")])]),e._v(" "),a("li",[a("p",[e._v("Snapshots of encrypted volumes are encrypted")])])]),e._v(" "),a("h3",{attrs:{id:"encryption-encrypt-an-unencrypted-ebs-volume"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#encryption-encrypt-an-unencrypted-ebs-volume"}},[e._v("#")]),e._v(" Encryption: encrypt an unencrypted EBS volume")]),e._v(" "),a("ul",[a("li",[e._v("Create an EBS snapshot of the volume")]),e._v(" "),a("li",[e._v("Encrypt the EBS snapshot ( using copy )")]),e._v(" "),a("li",[e._v("Create new ebs volume from the snapshot ( the volume will also be encrypted )")]),e._v(" "),a("li",[e._v("Now you can attach the encrypted volume to the original instance")])])])}),[],!1,null,null,null);t.default=o.exports}}]);