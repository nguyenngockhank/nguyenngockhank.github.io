(window.webpackJsonp=window.webpackJsonp||[]).push([[124],{1406:function(t,n,e){"use strict";e.r(n);var a=e(7),s=Object(a.a)({},(function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"optimize-performance-for-web"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#optimize-performance-for-web"}},[t._v("#")]),t._v(" Optimize performance for Web")]),t._v(" "),a("TagLinks"),t._v(" "),a("p",[t._v("Câu hỏi muôn thuở đi phỏng vấn chắc gặp hoài lun :v kkkk nhưng không đơn thuần là đối phó, mà là để ghi nhớ rồi sau này áp dụng hoy")]),t._v(" "),a("h2",{attrs:{id:"kim-chi-nam"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#kim-chi-nam"}},[t._v("#")]),t._v(" "),a("em",[a("strong",[t._v("💎 KIM CHỈ NAM")])])]),t._v(" "),a("p",[a("img",{attrs:{src:e(680),alt:"overview"}})]),t._v(" "),a("p",[t._v("👍 Cái mục đích, mục tiêu khi mà tối ưu website đó là nhanh hơn, mượt hơn, xì mút hơn... chủ yếu là tạo thêm phần sung sướng tột đỉnh cho người dùng 🌟")]),t._v(" "),a("p",[t._v("Để mà có thể tối ưu được website hiệu quả, các bạn nên biết được khi người dùng gõ "),a("code",[t._v("mywebsite.com")]),t._v(" trên trình duyệt rồi enter sẽ xảy ra chuyện gì? Chuyện gì xảy ra trên Browser, chuyện gì trên server, chuyện gì xảy ra trên internet :v ahihi")]),t._v(" "),a("p",[t._v("✌️ Mình có thể ví dụ ra như sau:")]),t._v(" "),a("ul",[a("li",[t._v("Browser sẽ tìm tới DNS Server -> coi địa chỉ IP của domain")]),t._v(" "),a("li",[t._v("Browser sẽ tạo request tới server đích (để tải HTML)")]),t._v(" "),a("li",[t._v("Trên server khi nhận request của Browser sẽ xử lý đưa ra HTML response... rồi gửi lại Browser")]),t._v(" "),a("li",[t._v("Browser nhận HTML ... parse HTML từ trên xuống dưới, và nếu gặp phải resource (CSS, JS, Fonts, Images,...) nào đó để hiển thị thì tạo request để tải các resource theo một độ ưu tiên... nào đó =))")])]),t._v(" "),a("p",[t._v("🤘 Một vài phương thức để hiện thực hóa chuyện đó như là")]),t._v(" "),a("ul",[a("li",[t._v("giảm số lượng, số lần request tới server của browser")]),t._v(" "),a("li",[t._v("giảm khối lượng & thời gian response")]),t._v(" "),a("li",[t._v("giảm sự ngăn cản render trên browser")]),t._v(" "),a("li",[t._v("xử lý trước một số thao tác khi CPU rãnh...")])]),t._v(" "),a("h2",{attrs:{id:"gzip"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gzip"}},[t._v("#")]),t._v(" ⚡️ Gzip")]),t._v(" "),a("ul",[a("li",[t._v("Cách này server sẽ trả về những file đã được nén lại. Cách hoạt động của Gzip thì được hỗ trợ bởi các Browser 4.0 hết roài, khỏi lo.")]),t._v(" "),a("li",[t._v("Để kích hoạt cái này cũng tùy vào cái platform bạn sử dụng :v có thể cấu hình trong "),a("code",[t._v(".htaccess")]),t._v(", "),a("code",[t._v("apache")]),t._v(", "),a("code",[t._v("nginx")]),t._v(", ...")]),t._v(" "),a("li",[t._v("Thấy response trả về có: "),a("code",[t._v("Accept-Encoding: gzip, ...")]),t._v(" là hiểu được nén rồi. "),a("em",[t._v("Lưu ý")]),t._v(": đừng để sót các đuôi extension file từ image tới fonts, tới html, css, js, cứ j mà trả về server là nén hết đi =))")]),t._v(" "),a("li",[t._v("Tool kiểm tra: "),a("a",{attrs:{href:"https://www.websiteplanet.com/webtools/gzip-compression/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Link"),a("OutboundLink")],1),t._v(" thấy còn Uncompressed page size là có nghĩa có phần còn chưa nén =))")])]),t._v(" "),a("h2",{attrs:{id:"http-cache-header"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#http-cache-header"}},[t._v("#")]),t._v(" ⚡️ HTTP Cache Header")]),t._v(" "),a("ul",[a("li",[t._v("Cách này là thêm vào vài thuộc tính lên header của response js, css, fonts, images,... để kích hoạt công năng đặc biệt của browser... "),a("a",{attrs:{href:"https://www.keycdn.com/blog/http-cache-headers",target:"_blank",rel:"noopener noreferrer"}},[t._v("Link tham khảo"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("Cách làm thì tùy vào cái công nghệ bạn làm luôn. Có thể là "),a("code",[t._v(".htaccess")]),t._v(", "),a("code",[t._v("apache")]),t._v(", "),a("code",[t._v("nginx")]),t._v(", hoặc là trong code ...")])]),t._v(" "),a("h2",{attrs:{id:"resource-hints"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#resource-hints"}},[t._v("#")]),t._v(" ⚡️ "),a("a",{attrs:{href:"https://www.w3.org/TR/resource-hints/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Resource hints"),a("OutboundLink")],1)]),t._v(" "),a("ul",[a("li",[a("code",[t._v("preload")]),t._v(": đặt độ ưu tiên cao khi browser load tài nguyên, ko chặn render. Thường sử dụng cho css, font, image.")]),t._v(" "),a("li",[a("code",[t._v("prefetch")]),t._v(": sau khi load xong những resouce cần thiết, browser sẽ nạp ngầm những preconnect chuẩn bị sử dụng trong tương lai.")]),t._v(" "),a("li",[a("code",[t._v("prefetch-dns")]),t._v(": DNS requests thì rất nhỏ, nhưng độ trễ đôi khi là rất lớn. Đây là giải pháp cho vấn đề đó.")]),t._v(" "),a("li",[a("code",[t._v("preconnect")]),t._v(": cái này giống như trên nhưng gồm 3 bước "),a("code",[t._v("DNS lookups")]),t._v(", "),a("code",[t._v("TLS negotiations")]),t._v(", "),a("code",[t._v("TCP handshakes")]),t._v(". Làm nhiều hơn cái trên 2 bước cuối.")]),t._v(" "),a("li",[a("code",[t._v("prerender")]),t._v(": cái này thì hơi dữ dằng :v cho ngầm load trước cái trang luôn, bao gồm js, css, ...")])]),t._v(" "),a("h2",{attrs:{id:"script-defer-async"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#script-defer-async"}},[t._v("#")]),t._v(" ⚡️ Script defer / async")]),t._v(" "),a("ul",[a("li",[t._v("Chúng ta thường đem hết các thẻ "),a("code",[t._v("<script>")]),t._v(" về cuối footer để tránh blocking sự render của browser.")]),t._v(" "),a("li",[t._v("Nay HTML5 cho chúng ta có nhiều cách hơn\n"),a("ul",[a("li",[a("code",[t._v("<script async >")]),t._v(" load đồng bộ, và browser làm việc browser, script làm việc script, script load xong tự execute =))) thường sử dụng cho: Google Analytics, "),a("a",{attrs:{href:"https://sentry.io/welcome/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Sentry"),a("OutboundLink")],1),t._v(", User Log, ...")]),t._v(" "),a("li",[a("code",[t._v("<script defer >")]),t._v(" khi nào document parsed xong thì mới execute script")]),t._v(" "),a("li",[a("code",[t._v("<script>")]),t._v(" chạy mặc định, khi nào script chạy xong thì parse DOM tiếp")])])])]),t._v(" "),a("h2",{attrs:{id:"cdn-content-delivery-network"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cdn-content-delivery-network"}},[t._v("#")]),t._v(" ⚡️ CDN (Content Delivery Network)")]),t._v(" "),a("p",[t._v("Mình sẽ ko giải thích CDN là gì và làm gì đâu? Mình chỉ giải thích tại sao nó có thể giảm số lần request thôi.")]),t._v(" "),a("ul",[a("li",[t._v("Vd bạn có 2 website: "),a("code",[t._v("webcuatui.com")]),t._v(" và "),a("code",[t._v("sub.webcuatui.com")]),t._v(" cả 2 website đều sử dụng JQuery giống nhau nhưng URI khác nhau "),a("code",[t._v("http://webcuatui.com/assets/js/jquery.js")]),t._v(" và "),a("code",[t._v("http://sub.webcuatui.com/assets/js/jquery.js")]),t._v(". Điều này khiến browser load 2 lần nếu truy cập vào 2 web.")]),t._v(" "),a("li",[t._v("Thế cho nên khi sử dụng CDN bạn sẽ sử dụng chung 1 URI thì browser chỉ load lần đầu thôi.")]),t._v(" "),a("li",[t._v("Cách nào cũng ưu nhược điểm riêng... ví dụ khi sử dụng CDN thì mất công phải mất công truy cập DNS Server, phụ thuộc vào 3rd party, tốn tiền =)) ...")])]),t._v(" "),a("h2",{attrs:{id:"http-version"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#http-version"}},[t._v("#")]),t._v(" HTTP Version")]),t._v(" "),a("p",[t._v("Đổi version xịn sò 😨 cho chạy nhanh hơn này. Nghe giang hồ đồn đại do mấy anh to Google làm ra, có mấy cơ chế ngon nghẻ mà chưa có cơ hội xài =))")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://www.cloudflare.com/learning/performance/http2-vs-http1.1/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Why is HTTP/2 faster than HTTP/1.1?"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"css-sprite"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#css-sprite"}},[t._v("#")]),t._v(" ⚡️ CSS Sprite")]),t._v(" "),a("ul",[a("li",[t._v("Cách này là gôm các hình ảnh thành 1 tấm, rồi sử dụng css background xử lý... mục đích để giảm bớt request tới server")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://www.w3schools.com/css/css_image_sprites.asp",target:"_blank",rel:"noopener noreferrer"}},[t._v("Bài văn mẫu"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"internal-css"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#internal-css"}},[t._v("#")]),t._v(" ⚡️ Internal CSS")]),t._v(" "),a("ul",[a("li",[t._v("Nghĩa là đem hết CSS vào vào trong HTML, không dùng external thẻ "),a("code",[t._v("link")])]),t._v(" "),a("li",[t._v("Vì browser xem đó là tài nguyên chặn sự render")])]),t._v(" "),a("p",[a("em",[t._v("Note")]),t._v(":")]),t._v(" "),a("ul",[a("li",[t._v("Tất nhiên phải sửa lại các đường dẫn image, "),a("code",[t._v("@font-face")]),t._v(" các kiểu.")]),t._v(" "),a("li",[t._v("Cách này luyện không cẩn thận sẽ bị tẩu hỏa nhập ma 😜 File css mà cả chục MB thì đây là sai sách.")])]),t._v(" "),a("h2",{attrs:{id:"fonts"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#fonts"}},[t._v("#")]),t._v(" ⚡️ Fonts")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("Case 1: bạn xài fonts awesome bạn có muốn sử dụng có 10 icon mà phải load tới 300 cái icon khác không. Tất nhiên ai cũng bảo là *éo rồi nhưng làm như thế nào? Tool này sẽ giúp bạn chỉ chọn những icon mà bạn muốn. "),a("a",{attrs:{href:"https://icomoon.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("IcoMoon"),a("OutboundLink")],1)])]),t._v(" "),a("li",[a("p",[t._v("Case 2: bạn xài google fonts mà lại muốn tải font đó zìa host của bạn để bạn có thể tự lo phần cache. Tìm mãi mới ra cái "),a("a",{attrs:{href:"https://google-webfonts-helper.herokuapp.com/fonts",target:"_blank",rel:"noopener noreferrer"}},[t._v("tool này"),a("OutboundLink")],1)])]),t._v(" "),a("li",[a("p",[t._v("Case 3: bạn desiner đưa bạn 1 cái template khoảng 7,8 font custom gì đó, solution nhanh trong case này là bạn nên gửi 1 lời cảnh báo tới PM và ép thèng designer làm lại 1 template khác ít fonts hơn. Thế nhưng ... PM vẫn cứng đầu thì sao? Solution: hãy display font System trước, sau đó font custom load xong thì hiển thị nó lên với 1 dòng code CSS.")])])]),t._v(" "),a("div",{staticClass:"language-css extra-class"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token atrule"}},[a("span",{pre:!0,attrs:{class:"token rule"}},[t._v("@font-face")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-family")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Helvetica"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-display")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" swap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* Mặt trời chân lý là đây */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("À ... thèng bên Microsoft chưa hỗ trợ tính năng này nhé =))) Nhưng có hơn ko... cứ thêm vào đi =))")]),t._v(" "),a("h2",{attrs:{id:"hinh-anh"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hinh-anh"}},[t._v("#")]),t._v(" ⚡️ Hình ảnh")]),t._v(" "),a("p",[t._v("Hình ảnh là thứ nặng nề nhất trong khi browser render á :v")]),t._v(" "),a("ul",[a("li",[t._v("Resize hình ảnh, chỉ vừa với kích cỡ cần render thôi, không cần to quá :p")]),t._v(" "),a("li",[t._v("Giảm / nén chất lượng hình ảnh")]),t._v(" "),a("li",[t._v("Loại bỏ các meta data trong file")]),t._v(" "),a("li",[t._v("Tools online:\n"),a("ul",[a("li",[a("a",{attrs:{href:"http://jpeg-optimizer.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("JPEG Optimizer"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://kraken.io/web-interface",target:"_blank",rel:"noopener noreferrer"}},[t._v("Kraken"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"http://optimizilla.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Optimizilla"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"http://enviragallery.com/refer/imagerecycle/",target:"_blank",rel:"noopener noreferrer"}},[t._v("ImageRecycle"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://compressnow.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("CompressNow"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://trimage.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Trimage"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"http://tools.dynamicdrive.com/imageoptimizer/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Online Image Optimizer"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://tinypng.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Tiny PNG"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"http://www.resize-photos.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Resize Photos"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://www.giftofspeed.com/tools/",target:"_blank",rel:"noopener noreferrer"}},[t._v("GiftOfSpeed"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://compressor.io/compress",target:"_blank",rel:"noopener noreferrer"}},[t._v("Compressor.io"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"http://www.jpegmini.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("JPEGmini"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://pnggauntlet.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("PNGGauntlet"),a("OutboundLink")],1)])])]),t._v(" "),a("li",[t._v("Packages: có thể kết hợp vs webpack, hay grunt, gulp j đó 😄\n"),a("ul",[a("li",[a("a",{attrs:{href:"https://www.npmjs.com/package/imagemin",target:"_blank",rel:"noopener noreferrer"}},[t._v("imagemin"),a("OutboundLink")],1)])])]),t._v(" "),a("li",[t._v("Serve next-Gen Formats (JPEG 2000, JPEG XR, WebP). Tham khảo "),a("a",{attrs:{href:"https://developers.google.com/web/tools/lighthouse/audits/webp",target:"_blank",rel:"noopener noreferrer"}},[t._v("link google"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("Responsive images "),a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Learn/HTML/Multimedia_and_embedding/Responsive_images",target:"_blank",rel:"noopener noreferrer"}},[t._v("Link ví dụ"),a("OutboundLink")],1),t._v(". Cách này dùng feature mới của HTML5. Hoặc có thể thêm vào "),a("a",{attrs:{href:"https://github.com/aFarkas/lazysizes",target:"_blank",rel:"noopener noreferrer"}},[t._v("lazysizes"),a("OutboundLink")],1),t._v(" có hỗ trợ feature này, cũng như lazy load.")])]),t._v(" "),a("h2",{attrs:{id:"khong-load-du-thua"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#khong-load-du-thua"}},[t._v("#")]),t._v(" ⚡️ Không load dư thừa")]),t._v(" "),a("p",[t._v("ví dụ:")]),t._v(" "),a("ul",[a("li",[t._v("Bạn xài bootstrap thì có phần "),a("a",{attrs:{href:"https://getbootstrap.com/docs/3.4/customize/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Customize"),a("OutboundLink")],1),t._v(" để chọn phần bạn cần thôi...")]),t._v(" "),a("li",[t._v("Hoặc bạn xài "),a("a",{attrs:{href:"https://lodash.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Lodash"),a("OutboundLink")],1),t._v(" thì không cần load full mà cần gì load đó thôi")])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" _ "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'lodash'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// không nên load full như này ")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" at "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'lodash/at'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// cần gì load đó thôi :D ")]),t._v("\n")])])]),a("ul",[a("li",[t._v("Icon Fonts thì "),a("a",{attrs:{href:"https://icomoon.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("IcoMoon"),a("OutboundLink")],1),t._v(" mình có nói ở trên rồi")]),t._v(" "),a("li",[t._v("Cách khổ dâm: Chrome có nhận biết được dòng code nào đã được chạy trên JS và CSS\n"),a("ol",[a("li",[t._v("Trên Chrome mở devtools lên ( Command + Option + J )")]),t._v(" "),a("li",[t._v("Mở search lên ( Command + Shift + P )")]),t._v(" "),a("li",[t._v('Gõ vào "Show Coverage" > Click vào')]),t._v(" "),a("li",[t._v('Nhìn dưới đáy có cái toolbar > Click vào tab "Coverage"')]),t._v(" "),a("li",[t._v("Kéo cái thanh đó lên và nhìn xem dòng code JS & CSS nào được sử dụng =)) rãnh thì vào code xóa bớt mấy chỗ thừa đi... Lưu ý là nhiều khi nó đỏ nhưng mà nó chưa được kích hoạt lên thôi, như CSS thì có "),a("code",[t._v("hover")]),t._v(". JS thì có trigger "),a("code",[t._v("on click")])])])])]),t._v(" "),a("h2",{attrs:{id:"lazy-load"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lazy-load"}},[t._v("#")]),t._v(" ⚡️ Lazy load")]),t._v(" "),a("p",[t._v("Cách này sẽ không tạo ra request tới server khi mà chưa cần thiết, tránh tắc nghẽn giao thông =))")]),t._v(" "),a("ul",[a("li",[t._v("Lazy load hình ảnh khi nào scroll sắp đến mới load src của img lên.")]),t._v(" "),a("li",[t._v("Lazy load video :v đừng cho nó autoplay =))")]),t._v(" "),a("li",[t._v("Cách implement thì: Mình xài thư viện này, vừa có feature lazy load vừa có feature Responsive images lun "),a("a",{attrs:{href:"https://github.com/aFarkas/lazysizes",target:"_blank",rel:"noopener noreferrer"}},[t._v("lazysizes"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"adm-asynchronous-module-definition"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#adm-asynchronous-module-definition"}},[t._v("#")]),t._v(" ⚡️ ADM (Asynchronous Module Definition)")]),t._v(" "),a("ul",[a("li",[t._v("ADM, có thể component như là popup & tab & route ... cách này thì tùy vào case, tùy vào framework, build tools mà implement ...")]),t._v(" "),a("li",[t._v("Tools:\n"),a("ul",[a("li",[a("a",{attrs:{href:"https://requirejs.org/docs/whyamd.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("RequireJS"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://webpack.js.org/guides/code-splitting/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Code spliting"),a("OutboundLink")],1),t._v(" trong "),a("a",{attrs:{href:"https://webpack.js.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Webpack"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("Hand made =))")])])])]),t._v(" "),a("h2",{attrs:{id:"bundle-assets"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bundle-assets"}},[t._v("#")]),t._v(" ⚡️ Bundle Assets")]),t._v(" "),a("ul",[a("li",[t._v("Lưỡng long nhất thể các file CSS thành 1 file")]),t._v(" "),a("li",[t._v("Quy tụ các file JS thành 1 file")]),t._v(" "),a("li",[t._v("Tools: "),a("a",{attrs:{href:"https://webpack.js.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Webpack"),a("OutboundLink")],1),t._v(", "),a("a",{attrs:{href:"https://gruntjs.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Grunt"),a("OutboundLink")],1),t._v(", "),a("a",{attrs:{href:"https://gulpjs.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gulp"),a("OutboundLink")],1),t._v(", tay to ...")])]),t._v(" "),a("h2",{attrs:{id:"minimize-assets"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#minimize-assets"}},[t._v("#")]),t._v(" ⚡️ Minimize Assets")]),t._v(" "),a("ul",[a("li",[t._v("Xóa hết các ký tự khoảng trắng, tab, xuống hàng dư thừa đối với các file html, css, js, json, ...")]),t._v(" "),a("li",[t._v("Đổi các tên biến dài thòn trong JS. Ví dụ:")])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" total "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" number1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" number2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// rewrite")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" n "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" m"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("Trừ mấy bạn thất tình, đen bạc, thì mới làm thủ công bước này thôi. Chứ các build tool nó support tận răng mấy bước này roài. 😄")]),t._v(" "),a("ul",[a("li",[a("p",[a("a",{attrs:{href:"https://github.com/webpack-contrib/uglifyjs-webpack-plugin",target:"_blank",rel:"noopener noreferrer"}},[t._v("uglifyjs"),a("OutboundLink")],1),t._v(" in webpack")])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"https://marketplace.visualstudio.com/items?itemName=olback.es6-css-minify",target:"_blank",rel:"noopener noreferrer"}},[t._v("plugin"),a("OutboundLink")],1),t._v(" cho Visual Code")])]),t._v(" "),a("li",[a("p",[t._v("... cần gì search đó")])]),t._v(" "),a("li",[a("p",[t._v("Minimize html trả về cũng khá là kỳ công đó :v")])])]),t._v(" "),a("p",[t._v("Ví dụ như mình sử dụng Laravel, mình sẽ sử dụng Middleware: "),a("a",{attrs:{href:"https://laravel.com/docs/5.0/middleware#defining-middleware",target:"_blank",rel:"noopener noreferrer"}},[t._v("Link tham khảo"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token php language-php"}},[a("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("<?php")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("namespace")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token package"}},[t._v("App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Middleware")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AfterMiddleware")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Middleware")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("handle")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$request")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Closure "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$response")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$request")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// implement code how to filter $response ")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$response")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),a("p",[t._v("Còn như khi làm với Codeigniter, mình cần định nghĩa lại cách display. "),a("a",{attrs:{href:"https://github.com/bcit-ci/CodeIgniter/wiki/Compress-HTML-output",target:"_blank",rel:"noopener noreferrer"}},[t._v("Link tham khảo"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token php language-php"}},[a("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("<?php")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Compress output")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$hook")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'display_override'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("array")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'class'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'function'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'compress'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'filename'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'compress.php'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'filepath'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'hooks'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])]),a("h2",{attrs:{id:"upload-hieu-qua"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#upload-hieu-qua"}},[t._v("#")]),t._v(" Upload hiệu quả")]),t._v(" "),a("h3",{attrs:{id:"presigned-url"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#presigned-url"}},[t._v("#")]),t._v(" Presigned URL")]),t._v(" "),a("p",[t._v("Đại loại là tính năng upload hình ảnh mà hình ảnh đang chứa ở AWS S3. Backend ko cần nhận trực tiếp nguyên file từ Frontend, rồi tự mình dùng tấm thân mỏng manh của BE đẩy chiếc file nặng nề ấy lên S3. Chúng ta sẽ dùng công thức của AWS đưa ra đó là Presigned URL")]),t._v(" "),a("ul",[a("li",[t._v("FE hash md5 cái content file, rồi tên file, gửi lên BE xin cái "),a("strong",[t._v("Presigned URL")])]),t._v(" "),a("li",[t._v("BE tạo ra "),a("strong",[t._v("Presigned URL")])]),t._v(" "),a("li",[t._v("FE dùng "),a("strong",[t._v("Presigned URL")]),t._v(" upload file lên AWS S3")])]),t._v(" "),a("p",[a("a",{attrs:{href:"https://aws.amazon.com/blogs/developer/generate-presigned-url-modular-aws-sdk-javascript/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Full ko che - Generate a presigned URL in modular AWS SDK for JavaScript"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"upload-multipart"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#upload-multipart"}},[t._v("#")]),t._v(" Upload multipart")]),t._v(" "),a("p",[t._v('Nếu bạn cần upload 1 cái file "biệt thự", thì cứ chiến thuật chia để trị nhé. Hoặc mạng tắt bật như công tắc thì bí kiếp AWS Docs nói răng')]),t._v(" "),a("ul",[a("li",[a("em",[t._v("If you're uploading large objects over a stable high-bandwidth network, use multipart upload to maximize the use of your available bandwidth by uploading object parts in parallel for multi-threaded performance.")])]),t._v(" "),a("li",[a("em",[t._v("If you're uploading over a spotty network, use multipart upload to increase resiliency to network errors by avoiding upload restarts. When using multipart upload, you need to retry uploading only the parts that are interrupted during the upload. You don't need to restart uploading your object from the beginning.")])])]),t._v(" "),a("p",[t._v("Chi tiết tại đây: "),a("a",{attrs:{href:"https://docs.aws.amazon.com/AmazonS3/latest/userguide/mpuoverview.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Uploading and copying objects using multipart upload"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"service-worker"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#service-worker"}},[t._v("#")]),t._v(" ⚡️ Service worker")]),t._v(" "),a("p",[t._v('Thèng này có tên là "công nhân dịch vụ" hoạt động ngầm underground =)) Giao tiếp với overground qua '),a("code",[t._v("postMessage")]),t._v(", cái này cũng giống "),a("code",[t._v("iframe")]),t._v(".")]),t._v(" "),a("p",[t._v("Muốn sử dụng được tính năng này thì điều tiên quyết đó là tự cung... cấp "),a("code",[t._v("https")]),t._v(' :v Vì thằng "công nhân dịch vụ" này có công năng đặc dị có thể thay đổi các response trên http nên cần '),a("code",[t._v("https")]),t._v(" để giới hạn tài năng nó lại =)) "),a("a",{attrs:{href:"https://developers.google.com/web/fundamentals/primers/service-workers/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Google bảo thế"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("Và nó cũng là xương sống trong việc làm 1 PWA (web có thể dùng offline ). Nhưng mà để nó hợp thức hóa, liên quan hóa với chủ đề tối ưu website thì chỉ nên chú trọng vào phần Backgroun sync & Cache request thôi nhé :v")]),t._v(" "),a("h2",{attrs:{id:"css-rendering-performance"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#css-rendering-performance"}},[t._v("#")]),t._v(" ⚡️ CSS Rendering Performance")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://web.dev/rendering-performance/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Link tựa vào"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("Khi browser render thì cần trải qua 5 bước:")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("Javascript")]),t._v(" > "),a("strong",[t._v("Style calculations")]),t._v(" > "),a("strong",[t._v("Layout")]),t._v(" > "),a("strong",[t._v("Paint")]),t._v(" > "),a("strong",[t._v("Compositing")])])]),t._v(" "),a("p",[t._v("Cách tối ưu là sử dụng CSS property hợp lý để có thể skip được bước nào hay bước đó =)) Trong 5 bước này thì 2 bước đầu là fixed. Còn bước "),a("strong",[t._v("Layout")]),t._v(" nặng nhất vì kiểu gì cũng phải "),a("strong",[t._v("Paint")]),t._v(" lại, "),a("strong",[t._v("Compositing")]),t._v(" lại.")]),t._v(" "),a("p",[t._v("Đây là "),a("a",{attrs:{href:"https://docs.google.com/spreadsheets/d/1Hvi0nu2wG3oQ51XRHtMv-A_ZlidnwUYwgQsPQUg1R2s/pub?single=true&gid=0&output=html",target:"_blank",rel:"noopener noreferrer"}},[t._v("danh sách các thuộc tính CSS"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("Túm nhẹ một số CSS chi phí rẻ mạt:")]),t._v(" "),a("div",{staticClass:"language-css extra-class"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* Position */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v("selector")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("transform")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("translate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("n px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" n px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* Scale */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v("selector")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("transform")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("scale")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* Rotation */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v("selector")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("transform")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rotate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("n deg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* Opacity */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v("selector")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("opacity")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 0 -> 1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"css-bem"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#css-bem"}},[t._v("#")]),t._v(" ⚡️ "),a("a",{attrs:{href:"http://getbem.com/introduction/",target:"_blank",rel:"noopener noreferrer"}},[t._v("CSS BEM"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("Đây là cách viết code hướng module trong CSS, hướng tới việc giảm độ sâu, độ dài của selector bằng cách đặt cái tên dài hơn, chi tiết hơn =))) Tất nhiên là giảm được cái độ phức tạp của selector thì CPU rãnh hơn, rãnh hơn thì web nhanh hơn =))")]),t._v(" "),a("h2",{attrs:{id:"short-polling-long-polling-websocket"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#short-polling-long-polling-websocket"}},[t._v("#")]),t._v(" ⚡️ Short polling, Long polling, WebSocket")]),t._v(" "),a("p",[t._v("Xem xét nên đổi một số công nghệ implement hay không? Vd: feature nhận thông báo giống facebook, thay vì bạn làm "),a("code",[t._v("Short polling")]),t._v(", cứ mỗi 5s request lên server 1 lần để kiểm tra dữ liệu mới nhất... thì xem xét có nên đổi sang "),a("code",[t._v("long polling")]),t._v(" hay "),a("code",[t._v("websocket")]),t._v(". Tất nhiên là làm cái gì cũng có cái giá của nó =))")]),t._v(" "),a("h2",{attrs:{id:"su-dung-tools"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#su-dung-tools"}},[t._v("#")]),t._v(" ⚡️ Sử dụng Tools")]),t._v(" "),a("p",[t._v("Cách này thì kiểu làm bài tập, đưa website cho tools chấm. Làm tới khi nào điểm cao thì thôi")]),t._v(" "),a("p",[t._v("Tool mình hay xài:")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://chrome.google.com/webstore/detail/lighthouse/blipmdconlkpinefehnmjammfjpmpbjk",target:"_blank",rel:"noopener noreferrer"}},[t._v("Lighthouse"),a("OutboundLink")],1),t._v(" trên google, thật ra có sẵn trong DevTools mà mình thích cài Extension cho dễ coi.")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://developers.google.com/speed/pagespeed/insights/",target:"_blank",rel:"noopener noreferrer"}},[t._v("PageSpeed Insights"),a("OutboundLink")],1),t._v(" tool này trước page mình nó chấm cả 100 giờ còn 60 =))) cập nhật cách tính liên tục =)))")])]),t._v(" "),a("h2",{attrs:{id:"cache-tai-backend"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cache-tai-backend"}},[t._v("#")]),t._v(" ⚡️ Cache tại Backend")]),t._v(" "),a("p",[t._v("Viết gì nhỉ =)) Có thể là bạn đang sử dụng 1 framework backend nào đó và có đủ thứ docs về Cache. Nào là "),a("code",[t._v("memcache")]),t._v(", "),a("code",[t._v("redis")]),t._v(" ... đọc rất là easy nhưng mà implement nó là cả 1 vùng trời kiến thức, kiến trúc, sáng kiến, cao kiến, phong kiến lun á =)))")]),t._v(" "),a("p",[t._v("Nói vậy thôi để implement Cache thì chỉ cần biết vài chỗ này thôi =))")]),t._v(" "),a("ul",[a("li",[t._v("Nơi xử lý "),a("code",[t._v("Cache miss")])]),t._v(" "),a("li",[t._v("Nơi xử lý "),a("code",[t._v("Cache hit")])]),t._v(" "),a("li",[t._v("Nơi xử lý "),a("code",[t._v("Cache remove")])]),t._v(" "),a("li",[t._v("Nơi xử lý "),a("code",[t._v("Cache refresh")])])]),t._v(" "),a("p",[t._v("Tuy nhiên, khi sử cache thì đây cũng sẽ là thứ bạn cần phải quan tâm. Cache (Redis / Memcache /...) trở thành 1 storage kế tiếp cạnh chiếc Database thân yêu. Đồng nghĩa tại đây chiếc app của bạn đã bước lên con đường trở thành Distributed System. Bạn sẽ đối diện với nhiều thứ hơn như là Consistency hay Availability các kiểu.")]),t._v(" "),a("p",[t._v("Ví dụ Availability cho case "),a("a",{attrs:{href:"https://www.percona.com/blog/cache-miss-storm/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Cache Miss Storm"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("Hoặc Consistency cho case "),a("strong",[t._v("cache invalidation")])]),t._v(" "),a("blockquote",{staticClass:"highlight-quote"},[a("p",[t._v("There are only two hard things in Computer Science: cache invalidation and naming things.")]),t._v(" "),a("div",{staticClass:"custom-block right"},[a("p",[t._v("― Phil Karlton")])])]),a("h2",{attrs:{id:"🔗-toi-uu-database"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🔗-toi-uu-database"}},[t._v("#")]),t._v(" 🔗 Tối ưu Database")]),t._v(" "),a("p",[a("RouterLink",{attrs:{to:"/db/optimize_db.html"}},[t._v("📕 Xem bài này")])],1),t._v(" "),a("h2",{attrs:{id:"🔗-toi-uu-backend-sau-hon"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🔗-toi-uu-backend-sau-hon"}},[t._v("#")]),t._v(" 🔗 Tối ưu backend sâu hơn")]),t._v(" "),a("p",[a("RouterLink",{attrs:{to:"/common/optimize_be.html"}},[t._v("Optimize Performance at Backend")])],1),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("Những cách lỗi thời =))")]),t._v(" "),a("h2",{attrs:{id:"basketjs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#basketjs"}},[t._v("#")]),t._v(" ☔️ BasketJS")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://addyosmani.com/basket.js/",target:"_blank",rel:"noopener noreferrer"}},[t._v("BasketJS"),a("OutboundLink")],1),t._v("\nCái thư viện này sẽ load file JS qua AJAX sau đó cất vào trong localStorage tại browser và lần sau không request lên server nữa...")]),t._v(" "),a("h2",{attrs:{id:"deferred-css"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#deferred-css"}},[t._v("#")]),t._v(" ☔️ Deferred CSS")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("noscript")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("deferred-styles"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("link")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://yourwebsite/assets/css/main.min.css?v=7.9"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("rel")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("stylesheet"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("noscript")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" \n \n "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}},[a("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("loadDeferredStyles")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" addStylesNode "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"deferred-styles"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" replacement "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"div"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    replacement"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHTML "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" addStylesNode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("textContent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("replacement"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    addStylesNode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("parentElement"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeChild")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("addStylesNode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" raf "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" requestAnimationFrame "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" mozRequestAnimationFrame "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v("\n      webkitRequestAnimationFrame "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" msRequestAnimationFrame"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("raf"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("raf")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("loadDeferredStyles"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'load'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" loadDeferredStyles"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[t._v("Bỏ qua mấy vụ phân tán, load balancing, microservice gì đi nhé =))")]),t._v(" "),a("p",[t._v("To be continued... Khi phát hiện gì mới thì update tiếp :v")])],1)}),[],!1,null,null,null);n.default=s.exports},680:function(t,n,e){t.exports=e.p+"assets/img/perf-web.e27d356e.png"}}]);