(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{517:function(t,e,a){t.exports=a.p+"assets/img/cache-aside.faf1b6f8.png"},518:function(t,e,a){t.exports=a.p+"assets/img/cache-read-through.1a8af934.png"},519:function(t,e,a){t.exports=a.p+"assets/img/cache-write-through.bca249c5.png"},520:function(t,e,a){t.exports=a.p+"assets/img/cache-write-back.4abe7ae4.png"},521:function(t,e,a){t.exports=a.p+"assets/img/cache-write-around.6ff1e3a9.png"},763:function(t,e,a){"use strict";a.r(e);var r=a(7),i=Object(r.a)({},(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"cache-strategies"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#cache-strategies"}},[t._v("#")]),t._v(" Cache Strategies")]),t._v(" "),r("p",[t._v("Choose strategies for applying a cache layer")]),t._v(" "),r("h2",{attrs:{id:"read-strategies"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#read-strategies"}},[t._v("#")]),t._v(" Read Strategies")]),t._v(" "),r("h3",{attrs:{id:"cache-aside"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#cache-aside"}},[t._v("#")]),t._v(" Cache Aside")]),t._v(" "),r("p",[r("img",{attrs:{src:a(517),alt:"Image"}})]),t._v(" "),r("ul",[r("li",[t._v("The cache is sitting aside the database.")]),t._v(" "),r("li",[t._v("The application will first request the data from the cache.\n"),r("ul",[r("li",[t._v("If the data exists "),r("strong",[t._v("cache hit")]),t._v(", the app will retrieve the data directly.")]),t._v(" "),r("li",[t._v("If not "),r("strong",[t._v("cache miss")]),t._v(", the app will request data from the database and write it to the cache so that the data can be retrieved from the cache again next time.")])])])]),t._v(" "),r("h3",{attrs:{id:"read-through"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#read-through"}},[t._v("#")]),t._v(" Read through")]),t._v(" "),r("p",[r("img",{attrs:{src:a(518),alt:"Image"}})]),t._v(" "),r("ul",[r("li",[t._v("The cache sits in between the application and the database.")]),t._v(" "),r("li",[t._v("The application only request data from the cache.")]),t._v(" "),r("li",[t._v("If a "),r("strong",[t._v("cache miss")]),t._v(" occurs, the cache is responsible to retrieve data from the database, update itself and return data to the application.")])]),t._v(" "),r("h2",{attrs:{id:"write-strategies"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#write-strategies"}},[t._v("#")]),t._v(" Write Strategies")]),t._v(" "),r("h3",{attrs:{id:"write-through"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#write-through"}},[t._v("#")]),t._v(" Write through")]),t._v(" "),r("p",[r("img",{attrs:{src:a(519),alt:"Image"}})]),t._v(" "),r("ul",[r("li",[t._v("The cache sits in between the application and the database.")]),t._v(" "),r("li",[t._v("Every writes from the application must go through the cache to the database. (double write)")])]),t._v(" "),r("h3",{attrs:{id:"write-back-a-k-a-write-behind"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#write-back-a-k-a-write-behind"}},[t._v("#")]),t._v(" Write Back (a.k.a Write Behind)")]),t._v(" "),r("p",[r("img",{attrs:{src:a(520),alt:"Image"}})]),t._v(" "),r("ul",[r("li",[t._v("The application still writes data to the cache.")]),t._v(" "),r("li",[t._v("However, there is a delay in writing from the cache to the database.")]),t._v(" "),r("li",[t._v("The cache only flushes all updated data to the DB once in a while (e.g. every 2 minutes).")])]),t._v(" "),r("h3",{attrs:{id:"write-around"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#write-around"}},[t._v("#")]),t._v(" Write Around")]),t._v(" "),r("p",[r("img",{attrs:{src:a(521),alt:"Image"}})]),t._v(" "),r("ul",[r("li",[t._v("Write around usually combines with either "),r("strong",[t._v("cache aside")]),t._v(" or "),r("strong",[t._v("read through")]),t._v(" strategy.")]),t._v(" "),r("li",[t._v("The application writes directly to the database.")]),t._v(" "),r("li",[t._v("Only data that is read goes to the cache.")])]),t._v(" "),r("h2",{attrs:{id:"invalidate-cache"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#invalidate-cache"}},[t._v("#")]),t._v(" Invalidate cache")]),t._v(" "),r("ul",[r("li",[t._v("At Read side\n"),r("ul",[r("li",[t._v("let the cache item live until its expiration (probably stale data)")]),t._v(" "),r("li",[t._v("use soft expiration (probably stale data)")])])]),t._v(" "),r("li",[t._v("At write side\n"),r("ul",[r("li",[t._v("remove completely cache item from storage if we using "),r("strong",[t._v("Cache Aside")])]),t._v(" "),r("li",[t._v("remove soft expiration (probably stale data)")]),t._v(" "),r("li",[t._v("update new value into the cache item (will be problem if data structure of cache item)")]),t._v(" "),r("li",[t._v("emit an event, then cache updator will update itself (CQRS architecture)")])])])]),t._v(" "),r("h2",{attrs:{id:"ðŸ”—-readmore"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#ðŸ”—-readmore"}},[t._v("#")]),t._v(" ðŸ”— Readmore")]),t._v(" "),r("ul",[r("li",[r("RouterLink",{attrs:{to:"/common/security/software-security.html#cache-miss-attack-prevention"}},[t._v("Cache Miss Attack Prevention")])],1),t._v(" "),r("li",[r("a",{attrs:{href:"https://dev.to/uzumakinarut0/cache-miss-escaping-the-storm-1f9j",target:"_blank",rel:"noopener noreferrer"}},[t._v("Cache miss : Escaping the Storm"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://www.percona.com/blog/cache-miss-storm/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Cache Miss Storm"),r("OutboundLink")],1)])]),t._v(" "),r("p",[t._v("https://www.youtube.com/watch?v=jIA7z1gxuc8&ab_channel=HusseinNasser")])])}),[],!1,null,null,null);e.default=i.exports}}]);