(window.webpackJsonp=window.webpackJsonp||[]).push([[236],{812:function(e,t,a){"use strict";a.r(t);var s=a(7),n=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"_3-names-that-can-t-be-misconstrued"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-names-that-can-t-be-misconstrued"}},[e._v("#")]),e._v(" 3. Names That Can’t Be Misconstrued")]),e._v(" "),a("p",[e._v("In the previous chapter, we covered how to put a lot of information into your names. In this chapter, we focus on a different topic: watching out for names that can be misunderstood.")]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("K E Y I D E A")]),e._v(" "),a("p",[e._v("Actively scrutinize your names by asking yourself, “What other meanings could\nsomeone interpret from this name?”")])]),e._v(" "),a("p",[e._v("Really try to be creative here, actively seeking “wrong interpretations.” This step will help you spot those ambiguous names so you can change them.")]),e._v(" "),a("p",[e._v("For the examples in this chapter, we’re going to “think aloud” as we discuss the misinterpretations of each name we see, and then pick better names.")]),e._v(" "),a("h2",{attrs:{id:"example-filter"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#example-filter"}},[e._v("#")]),e._v(" Example: Filter()")]),e._v(" "),a("p",[e._v("Suppose you’re writing code to manipulate a set of database results:")]),e._v(" "),a("div",{staticClass:"language-JS extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[e._v("results "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" Database"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("all_objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("filter")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"year <= 2011"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n")])])]),a("p",[e._v("What does results now contain?")]),e._v(" "),a("ul",[a("li",[e._v("Objects whose year is "),a("code",[e._v("<= 2011")]),e._v("?")]),e._v(" "),a("li",[e._v("Objects whose year is "),a("code",[e._v("_not_ <= 2011")]),e._v("?")])]),e._v(" "),a("p",[e._v("The problem is that filter is an ambiguous word. It’s unclear whether it means “to pick out” or “to get rid of.” It’s best to avoid the name filter because it’s so easily misconstrued.")]),e._v(" "),a("p",[e._v("If you want “to pick out,” a better name is "),a("code",[e._v("select()")]),e._v(". If you want “to get rid of,” a better name is "),a("code",[e._v("exclude()")]),e._v(".")]),e._v(" "),a("h2",{attrs:{id:"example-clip-text-length"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#example-clip-text-length"}},[e._v("#")]),e._v(" Example: Clip(text, length)")]),e._v(" "),a("p",[e._v("Suppose you have a function that clips the contents of a paragraph:")]),e._v(" "),a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[e._v('# Cuts off the end of the text, and appends "..."')]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("def")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("Clip")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("text"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# ...")]),e._v("\n")])])]),a("p",[e._v("There are two ways you can imagine how "),a("code",[e._v("Clip()")]),e._v(" behaves:")]),e._v(" "),a("ul",[a("li",[e._v("It removes length from the end")]),e._v(" "),a("li",[e._v("It truncates to a maximum length")])]),e._v(" "),a("p",[e._v("The second way (truncation) is most likely, but you never know for sure. Rather than leave your reader with any nagging doubt, it would be better to name the function "),a("code",[e._v("Truncate(text, length)")]),e._v(".")]),e._v(" "),a("p",[e._v("However, the parameter name length is also to blame. If it were max_length, that would make it even more clear.")]),e._v(" "),a("p",[e._v("But we’re still not done. The name "),a("code",[e._v("max_length")]),e._v(" still leaves multiple interpretations:")]),e._v(" "),a("ul",[a("li",[e._v("A number of bytes")]),e._v(" "),a("li",[e._v("A number of characters")]),e._v(" "),a("li",[e._v("A number of words")])]),e._v(" "),a("p",[e._v("As you saw in the previous chapter, this is a case where the units should be attached to the name. In this case, we mean “number of characters,” so instead of max_length, it should be "),a("code",[e._v("max_chars")]),e._v(".")]),e._v(" "),a("h2",{attrs:{id:"prefer-min-and-max-for-inclusive-limits"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#prefer-min-and-max-for-inclusive-limits"}},[e._v("#")]),e._v(" Prefer min and max for (Inclusive) Limits")]),e._v(" "),a("p",[e._v("Let’s say your shopping cart application needs to stop people from buying more than 10 items at once:")]),e._v(" "),a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[e._v("CART_TOO_BIG_LIMIT "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("10")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("if")]),e._v(" shopping_cart"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("num_items"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">=")]),e._v(" CART_TOO_BIG_LIMIT"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n    Error"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Too many items in cart."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n")])])]),a("p",[e._v("This code has a classic off-by-one bug. We could easily fix it by changing "),a("code",[e._v(">=")]),e._v(" to "),a("code",[e._v(">")]),e._v(":")]),e._v(" "),a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("if")]),e._v(" shopping_cart"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("num_items"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" CART_TOO_BIG_LIMIT"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n")])])]),a("p",[e._v("(or by redefining "),a("code",[e._v("CART_TOO_BIG_LIMIT")]),e._v(" to 11 ). But the root problem is that "),a("code",[e._v("CART_TOO_BIG_LIMIT")]),e._v(" is an ambiguous name—it’s not clear whether you mean “up to” or “up to and including.”")]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("K E Y I D E A")]),e._v(" "),a("p",[e._v("The clearest way to name a limit is to put "),a("strong",[e._v("max_")]),e._v(" or "),a("strong",[e._v("min_")]),e._v(" in front of the thing being limited.")])]),e._v(" "),a("p",[e._v("In this case, the name should be "),a("code",[e._v("MAX_ITEMS_IN_CART")]),e._v(". The new code is simple and clear:")]),e._v(" "),a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[e._v("MAX_ITEMS_IN_CART "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("10")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("if")]),e._v(" shopping_cart"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("num_items"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" MAX_ITEMS_IN_CART "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n    Error"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Too many items in cart."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n")])])]),a("h2",{attrs:{id:"prefer-first-and-last-for-inclusive-ranges"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#prefer-first-and-last-for-inclusive-ranges"}},[e._v("#")]),e._v(" Prefer first and last for Inclusive Ranges")]),e._v(" "),a("p",[e._v("Here is another example where you can’t tell if it’s “up to” or “up to and including”:")]),e._v(" "),a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("print")]),e._v(" integer_range"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("start"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" stop"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("4")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Does this print [2,3] or [2,3,4] (or something else)?")]),e._v("\n")])])]),a("p",[e._v("Although start is a reasonable parameter name, stop can be interpreted in multiple ways here.")]),e._v(" "),a("p",[e._v("For "),a("em",[e._v("inclusive")]),e._v(" ranges likes these (where the range should include both end points), a good choice is first/last. For instance:")]),e._v(" "),a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin"}},[e._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("PrintKeys"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v(" first"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Bart"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" last"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Maggie"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n")])])]),a("p",[e._v("Unlike stop, the word last is clearly inclusive.")]),e._v(" "),a("p",[e._v("In addition to first/last, the names min/max may also work for inclusive ranges, assuming they “sound right” in that context.")]),e._v(" "),a("h2",{attrs:{id:"prefer-begin-and-end-for-inclusive-exclusive-ranges"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#prefer-begin-and-end-for-inclusive-exclusive-ranges"}},[e._v("#")]),e._v(" Prefer begin and end for Inclusive/Exclusive Ranges")]),e._v(" "),a("p",[e._v("In practice, it’s often more convenient to use inclusive/exclusive ranges. For example, if you want to print all the events that happened on October 16, it’s easier to write:")]),e._v(" "),a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[e._v("PrintEventsInRange"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"OCT 16 12:00am"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"OCT 17 12:00am"')]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n")])])]),a("p",[e._v("than it is to write:")]),e._v(" "),a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[e._v("PrintEventsInRange"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"OCT 16 12:00am"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"OCT 16 11:59:59.9999pm"')]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n")])])]),a("p",[e._v("So what is a good pair of names for these parameters? Well, the typical programming convention for naming an inclusive/exclusive range is begin/end.")]),e._v(" "),a("p",[e._v("But the word end is a little ambiguous. For example, in the sentence, “I’m at the end of the book,” the “end” is inclusive.")]),e._v(" "),a("p",[e._v("Unfortunately, English doesn’t have a succinct word for “just past the last value.”")]),e._v(" "),a("p",[e._v("Because begin/end is so idiomatic (at least, it’s used this way in the standard library for C++, and most places where an array needs to be “sliced” this way), it’s the best option.")]),e._v(" "),a("h2",{attrs:{id:"naming-booleans"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#naming-booleans"}},[e._v("#")]),e._v(" Naming Booleans")]),e._v(" "),a("p",[e._v("When picking a name for a boolean variable or a function that returns a boolean, be sure it’s clear what true and false really mean.")]),e._v(" "),a("p",[e._v("Here’s a dangerous example:")]),e._v(" "),a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin"}},[e._v("bool")]),e._v(" read_password "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" true"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])]),a("p",[e._v("Depending on how you read it (no pun intended), there are two very different interpretations:")]),e._v(" "),a("ul",[a("li",[e._v("We "),a("em",[e._v("need")]),e._v(" to read the password")]),e._v(" "),a("li",[e._v("The password has already "),a("em",[e._v("been")]),e._v(" read")])]),e._v(" "),a("p",[e._v("In this case, it’s best to avoid the word “read,” and name it "),a("code",[e._v("need_password")]),e._v(" or "),a("code",[e._v("user_is_authenticated")]),e._v(" instead.")]),e._v(" "),a("p",[e._v("In general, adding words like is, has, can, or should can make booleans more clear.")]),e._v(" "),a("p",[e._v("For example, a function named "),a("code",[e._v("SpaceLeft()")]),e._v(" sounds like it might return a number. If it were meant to return a boolean, a better name would be "),a("code",[e._v("HasSpaceLeft()")]),e._v(".")]),e._v(" "),a("p",[e._v("Finally, it’s best to "),a("strong",[e._v("avoid "),a("em",[e._v("negated")]),e._v(" terms")]),e._v(" in a name. For example, instead of:")]),e._v(" "),a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin"}},[e._v("bool")]),e._v(" disable_ssl "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" false"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])]),a("p",[e._v("it would be easier to read (and more compact) to say:")]),e._v(" "),a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin"}},[e._v("bool")]),e._v(" use_ssl "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" true"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])]),a("h2",{attrs:{id:"matching-expectations-of-users"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#matching-expectations-of-users"}},[e._v("#")]),e._v(" Matching Expectations of Users")]),e._v(" "),a("p",[e._v("Some names are misleading because the user has a preconceived idea of what the name means, even though you mean something else. In these cases, it’s best to just “give in” and change the name so that it’s not misleading.")]),e._v(" "),a("h3",{attrs:{id:"example-get"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#example-get"}},[e._v("#")]),e._v(" "),a("em",[a("em",[e._v("Example: get")]),e._v("()")]),e._v("*")]),e._v(" "),a("p",[e._v("Many programmers are used to the convention that methods starting with get are “lightweight accessors” that simply return an internal member. Going against this convention is likely to  mislead those users.")]),e._v(" "),a("p",[e._v("Here’s an example, in Java, of what "),a("em",[e._v("not")]),e._v(" to do:")]),e._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("public")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("class")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("StatisticsCollector")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("public")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("void")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("addSample")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("double")]),e._v(" x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n    \n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("public")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("double")]),e._v(" getMean "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// Iterate through all samples and return total / num_samples")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n    \n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// ...")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),a("p",[e._v("In this case, the implementation of "),a("code",[e._v("getMean()")]),e._v(" is to iterate over past data and calculate the mean on the fly. This step might be very expensive if there’s a lot of data! But an unsuspecting programmer might call getMean() carelessly, assuming that it’s an inexpensive call.")]),e._v(" "),a("p",[e._v("Instead, the method should be renamed to something like "),a("code",[e._v("computeMean()")]),e._v(", which sounds more like an expensive operation. (Alternatively, it should be reimplemented to indeed be a lightweight operation.)")]),e._v(" "),a("h3",{attrs:{id:"example-list-size"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#example-list-size"}},[e._v("#")]),e._v(" "),a("strong",[e._v("Example: list::size()")])]),e._v(" "),a("p",[e._v("Here’s an example from the C++ Standard Library. The following code was the cause of a very difficult-to-find bug that made one of our servers slow down to a crawl:")]),e._v(" "),a("div",{staticClass:"language-cpp extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cpp"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("void")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("ShrinkList")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("list"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("Node"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&")]),e._v(" list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("int")]),e._v(" max_size"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("while")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v(" list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("size")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" max_size"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("FreeNode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("back")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n        list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("pop_back")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),a("p",[e._v("The “bug” is that the author didn’t know that "),a("code",[e._v("list.size()")]),e._v(" is an "),a("em",[e._v("O(n)")]),e._v(" operation—it counts through the linked list node by node, instead of just returning a precalculated count, which makes "),a("code",[e._v("ShrinkList()")]),e._v(" an "),a("code",[e._v("_O(n_^2 _)_")]),e._v(" operation.")]),e._v(" "),a("p",[e._v("The code is technically “correct,” and in fact passed all our unit tests. But when "),a("code",[e._v("ShrinkList()")]),e._v(" was called on a list with a million elements, it took over an hour to finish!")]),e._v(" "),a("p",[e._v("Maybe you’re thinking, “That’s the caller’s fault—he or she should have read the documentation more carefully.” That’s true, but in this case, the fact that "),a("code",[e._v("list.size()")]),e._v(" isn’t a constant-time operation is "),a("em",[e._v("surprising")]),e._v(". All of the other containers in C++ have a constant-time size() method.")]),e._v(" "),a("p",[e._v("Had "),a("code",[e._v("size()")]),e._v(" been named "),a("code",[e._v("countSize()")]),e._v(" or "),a("code",[e._v("countElements()")]),e._v(", the same mistake would be less likely.")]),e._v(" "),a("p",[e._v("The writers of the C++ Standard Library probably wanted to name the method "),a("code",[e._v("size()")]),e._v(" to match all the other containers like vector and map. But because they did, programmers easily mistake it to be a fast operation, the way it is for other containers. Thankfully, the latest C++ standard now mandates "),a("code",[e._v("size()")]),e._v(" to be "),a("em",[e._v("O(1)")]),e._v(".")]),e._v(" "),a("h3",{attrs:{id:"⭐️-who-s-the-wizard"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#⭐️-who-s-the-wizard"}},[e._v("#")]),e._v(" ⭐️ WHO’S THE WIZARD?")]),e._v(" "),a("blockquote",[a("p",[e._v("A while ago, one of the authors was installing the OpenBSD operating system. During the disk formatting step, a complicated menu appeared, asking for disk parameters. One of the options was to go to “ Wizard mode.” He was relieved to find this user-friendly option and selected it. To his dismay, it dropped the installer into a low-level prompt waiting for manual disk formatting commands, with no clear way to get out of it. Evidently “wizard” meant you were the wizard!")])]),e._v(" "),a("h2",{attrs:{id:"example-evaluating-multiple-name-candidates"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#example-evaluating-multiple-name-candidates"}},[e._v("#")]),e._v(" Example: Evaluating Multiple Name Candidates")]),e._v(" "),a("p",[e._v("When deciding on a good name, you might have multiple candidates that you’re considering.")]),e._v(" "),a("p",[e._v("It’s common to debate the merits of each name in your head before settling on the final choice. The following example illustrates this critiquing process.")]),e._v(" "),a("p",[e._v("High-traffic websites often use “experiments” to test whether a change to the website improves business. Here’s an example of a config file that controls some experiments:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('experiment_id: 100\ndescription: "increase font size to 14pt"\ntraffic_fraction: 5%\n...\n')])])]),a("p",[e._v("Each experiment is defined by about 15 attribute/value pairs. Unfortunately, when defining another experiment that’s very similar, you have to copy and paste most of those lines:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('experiment_id: 101\ndescription: "increase font size to 13pt "\n[other lines identical to experiment_id 100]\n')])])]),a("p",[e._v('Suppose we want to fix this situation by introducing a way to have one experiment reuse the properties from another. (This is the "prototype inheritance" pattern.) The end result is that you would type something like:')]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("experiment_id: 101\nthe_other_experiment_id_I_want_to_reuse : 100\n[change any properties as needed]\n")])])]),a("p",[e._v("The question is: what should "),a("code",[e._v("the_other_experiment_id_I_want_to_reuse")]),e._v(" really be named?")]),e._v(" "),a("p",[e._v("Here are four names to consider:\n1.template\n2.reuse\n3.copy\n4.inherit")]),e._v(" "),a("p",[e._v("Any of these names make sense to "),a("em",[e._v("us")]),e._v(" because we’re the ones adding this new feature to the config language. But we have to imagine how the name will sound to someone who comes across the code and doesn’t know about this feature. So let’s analyze each name, thinking of ways someone could misinterpret it.")]),e._v(" "),a("p",[a("strong",[e._v("1. Let’s imagine using the name template:")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("experiment_id: 101\ntemplate: 100\n...\n")])])]),a("p",[e._v("template has a couple problems. First, it’s not clear whether it’s saying “I am a template” or “I am using this other template.” Second, a “template” is often something "),a("em",[e._v("abstract")]),e._v(" that must be “filled in” before it is "),a("em",[e._v("concrete")]),e._v(". Someone might think a templated experiment isn’t a “real” experiment. Overall, template is just too vague in this situation.")]),e._v(" "),a("p",[a("strong",[e._v("2. How about reuse:")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("experiment_id: 101\nreuse: 100\n...\n")])])]),a("p",[e._v("reuse is an okay word, but as written, someone might think it’s saying, “This experiment can be reused at most 100 times.” Changing the name to reuse_id would help. But a confused reader might think reuse_id: 100 means “my id for reuse is 100.”")]),e._v(" "),a("p",[a("strong",[e._v("3. Let’s consider copy.")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("experiment_id: 101\ncopy: 100\n...\n")])])]),a("p",[e._v("copy is a good word. But by itself, copy: 100 seems like it might be saying “copy this experiment 100 times” or “this is the 100th copy of something.” To make it clear that this term refers to "),a("em",[e._v("another")]),e._v(" experiment, we could change the name to copy_experiment. This is probably the best name so far.")]),e._v(" "),a("p",[a("strong",[e._v("4. But now let’s consider inherit:")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("experiment_id: 101\ninherit: 100\n...\n")])])]),a("p",[e._v("The word “inherit” is familiar to most programmers, and it’s understood that further modifications are made after inheritance. With class inheritance, you get all the methods and members of another class and then modify them or add more. Even in real life, when you inherit possessions from a relative, it’s understood that you might sell them or own other things yourself.")]),e._v(" "),a("p",[e._v("But again, let’s make it clear that we’re inheriting from another experiment. We can improve the name to "),a("code",[e._v("inherit_from")]),e._v(" or even "),a("code",[e._v("inherit_from_experiment_id")]),e._v(".")]),e._v(" "),a("p",[e._v("Overall, copy_experiment and "),a("code",[e._v("inherit_from_experiment_id")]),e._v(" are the best names, because they most clearly describe what’s happening and are least likely to be misunderstood.")]),e._v(" "),a("h2",{attrs:{id:"summary"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#summary"}},[e._v("#")]),e._v(" Summary")]),e._v(" "),a("p",[e._v("The best names are ones that can’t be misconstrued—the person reading your code will understand it the way you meant it, and no other way. Unfortunately, a lot of English words are ambiguous when it comes to programming, such as filter, length, and limit.")]),e._v(" "),a("p",[e._v("Before you decide on a name, play devil’s advocate and imagine how your name might be misunderstood. The best names are resistant to misinterpretation.")]),e._v(" "),a("p",[e._v("When it comes to defining an upper or lower limit for a value, max_ and min_ are good prefixes to use. For inclusive ranges, first and last are good. For inclusive/exclusive ranges, begin and end are best because they’re the most idiomatic.")]),e._v(" "),a("p",[e._v("When naming a boolean, use words like is and has to make it clear that it’s a boolean. "),a("strong",[e._v("Avoid negated terms")]),e._v(" (e.g., "),a("code",[e._v("disable_ssl")]),e._v(").")]),e._v(" "),a("p",[e._v("Beware of users’ expectations about certain words. For example, users may expect "),a("code",[e._v("get()")]),e._v(" or "),a("code",[e._v("size()")]),e._v(" to be lightweight methods.")])])}),[],!1,null,null,null);t.default=n.exports}}]);