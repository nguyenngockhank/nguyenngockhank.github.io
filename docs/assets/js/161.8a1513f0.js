(window.webpackJsonp=window.webpackJsonp||[]).push([[161],{1272:function(e,t,r){"use strict";r.r(t);var a=r(7),o=Object(a.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"error-responses"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#error-responses"}},[e._v("#")]),e._v(" Error Responses")]),e._v(" "),r("p",[e._v("Error responses should following the following format:")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v('{\n"status": "ERROR",\n"type": "InternalServerError",\n"detail": "UON system is down",\n"correlationId": "53bffb246fb16f60613abf31a95102a3"\n...\n}\n')])])]),r("p",[e._v("Where:")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("status")]),e._v(': "ERROR"')]),e._v(" "),r("li",[r("code",[e._v("type")]),e._v(': the specific error class name. Always have post-fixed with "Error"')]),e._v(" "),r("li",[r("code",[e._v("detail")]),e._v(": extra detail about the error")]),e._v(" "),r("li",[r("code",[e._v("correlationId")]),e._v(": request's tracing id")])]),e._v(" "),r("p",[e._v("Error response can have extra fields depending on the specific error to provide more programmatic detail to the client. For example, field  "),r("code",[e._v("maxTotalUons")]),e._v(" in:")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v('{\n  "status": "ERROR",\n  "type": "MaximumNumberOfUONsExceededError",\n  "detail": "The maximum number of UONs authorized for this distribution has been exceeded",\n  "correlationId": "53bffb246fb16f60613abf31a95102a3",\n  "maxTotalUons": 10000\n}\n')])])]),r("p",[e._v("Public endpoints "),r("strong",[e._v("MUST")]),e._v(" use this convention by default.")]),e._v(" "),r("p",[e._v("Existing legacy endpoints "),r("strong",[e._v("MUST")]),e._v(" gradually refactor to this convention by applying "),r("code",[e._v("UseNewErrorFormatGuard")]),e._v(" on the controller method:")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v('@Post("/uon/claims")\n  @HttpCode(HttpStatus.OK)\n  @UseGuards(UseNewErrorFormatGuard) // MUST apply for legacy endpoint to apply new convention\n  redeemClaimCode(\n    @Req() request: AppRequest,\n    @Body() codes: CollectCodeRedeemPayload,\n  ) {\n    return this.collectCodeRedeemInteractor.execute(request, codes);\n  }\n\n')])])])])}),[],!1,null,null,null);t.default=o.exports}}]);