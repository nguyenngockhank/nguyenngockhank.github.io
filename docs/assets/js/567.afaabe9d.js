(window.webpackJsonp=window.webpackJsonp||[]).push([[567],{1806:function(e,t,a){"use strict";a.r(t);var s=a(7),r=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"ffmpeg"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ffmpeg"}},[e._v("#")]),e._v(" ffmpeg")]),e._v(" "),a("h2",{attrs:{id:"install"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#install"}},[e._v("#")]),e._v(" Install")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("brew install ffmpeg\n")])])]),a("p",[e._v("Use on aws with "),a("a",{attrs:{href:"https://serverlessrepo.aws.amazon.com/applications/us-east-1/145266761615/ffmpeg-lambda-layer",target:"_blank",rel:"noopener noreferrer"}},[e._v("ffmpeg-lambda-layer"),a("OutboundLink")],1)]),e._v(" "),a("h2",{attrs:{id:"split-mp3-to-parts"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#split-mp3-to-parts"}},[e._v("#")]),e._v(" Split mp3 to parts")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("ffmpeg -i thiendinh.mp3 -ss 00:00:00 -t 15:04:00 part1.mp3\nffmpeg -i thiendinh.mp3 -ss 15:04:00 -t 15:04:00 part2.mp3\nffmpeg -i thiendinh.mp3 -ss 30:08:00 -t 15:04:00 part3.mp3\nffmpeg -i thiendinh.mp3 -ss 45:12:00 -t 15:04:00 part4.mp3\nffmpeg -i thiendinh.mp3 -ss 60:16:00           part5.mp3\n")])])]),a("h2",{attrs:{id:"merge-mp3-files"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#merge-mp3-files"}},[e._v("#")]),e._v(" Merge mp3 files")]),e._v(" "),a("p",[e._v("Prepare "),a("code",[e._v("file_list.txt")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("file 'part1.mp3'\nfile 'part2.mp3'\nfile 'part3.mp3'\nfile 'part4.mp3'\nfile 'part5.mp3'\n")])])]),a("p",[e._v("Run Command:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("ffmpeg -f concat -safe 0 -i file_list.txt -c copy output.mp3\n")])])]),a("h2",{attrs:{id:"convert-mp4-into-hls"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#convert-mp4-into-hls"}},[e._v("#")]),e._v(" Convert mp4 into hls")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("ffmpeg -i input.mp4 \\\n  -codec: copy \\\n  -start_number 0 \\\n  -hls_time 10 \\\n  -hls_list_size 0 \\\n  -f hls output.m3u8\n")])])]),a("ul",[a("li",[a("code",[e._v("-codec: copy")]),e._v("\tNo re-encoding, faster")]),e._v(" "),a("li",[a("code",[e._v("-hls_time 10")]),e._v("\tSegment length = 10 seconds")]),e._v(" "),a("li",[a("code",[e._v("-f hls")]),e._v("\tOutput format is HLS")]),e._v(" "),a("li",[a("code",[e._v("output.m3u8")]),e._v("\tMaster playlist file")])]),e._v(" "),a("p",[a("strong",[e._v("Re-encode for Compatibility (Recommended for Web)")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("ffmpeg -i input.mp4 \\\n  -c:v libx264 -c:a aac \\\n  -preset fast -crf 20 \\\n  -hls_time 10 \\\n  -hls_list_size 0 \\\n  -f hls output.m3u8\n")])])]),a("ul",[a("li",[e._v("Use this if playback fails or audio is missing")]),e._v(" "),a("li",[a("strong",[e._v("libx264")]),e._v(" + "),a("strong",[e._v("aac")]),e._v(" is widely supported by browsers")])]),e._v(" "),a("h2",{attrs:{id:"convert-remote-hls-url-to-mp4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#convert-remote-hls-url-to-mp4"}},[e._v("#")]),e._v(" Convert Remote HLS URL to MP4")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('ffmpeg -i "https://example.com/stream/playlist.m3u8" -c copy output.mp4\n')])])]),a("p",[e._v("ffmpeg -i https://edge-hls.sacdnssedge.com/hls/151494296/master/151494296_480p.m3u8 -c copy output.mp4")]),e._v(" "),a("h2",{attrs:{id:"extract-a-single-frame-at-specific-time"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#extract-a-single-frame-at-specific-time"}},[e._v("#")]),e._v(" Extract a Single Frame at Specific Time")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("ffmpeg -ss 00:01:23 -i input.mp4 -frames:v 1 output.jpg\n")])])]),a("ul",[a("li",[a("code",[e._v("-ss 00:01:23")]),e._v("\tSeek to 1 minute 23 seconds")]),e._v(" "),a("li",[a("code",[e._v("-frames:v 1")]),e._v("\tOutput only 1 video frame")])]),e._v(" "),a("h2",{attrs:{id:"generate-thumbnails"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#generate-thumbnails"}},[e._v("#")]),e._v(" Generate Thumbnails")]),e._v(" "),a("h3",{attrs:{id:"generate-thumbnails-every-10-seconds"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#generate-thumbnails-every-10-seconds"}},[e._v("#")]),e._v(" Generate Thumbnails Every 10 Seconds")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("ffmpeg -i input.mp4 -vf fps=1/10 thumb_%03d.jpg\n")])])]),a("h3",{attrs:{id:"generate-a-single-preview-tile-image"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#generate-a-single-preview-tile-image"}},[e._v("#")]),e._v(" Generate a Single Preview Tile Image")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('ffmpeg -i input.mp4 -vf "select=not(mod(n\\,100)),scale=320:-1,tile=3x3" -frames:v 1 preview.jpg\n')])])]),a("h3",{attrs:{id:"full-example-for-filmstrip-wide-format"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#full-example-for-filmstrip-wide-format"}},[e._v("#")]),e._v(" Full Example for Filmstrip (Wide format)")]),e._v(" "),a("p",[e._v('ffmpeg -i input.mp4 -vf "fps=1/30,scale=320:-1,tile=5x1" -frames:v 1 filmstrip.jpg')]),e._v(" "),a("h2",{attrs:{id:"adjust-speed"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#adjust-speed"}},[e._v("#")]),e._v(" Adjust Speed")]),e._v(" "),a("h3",{attrs:{id:"double-speed"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#double-speed"}},[e._v("#")]),e._v(" Double speed")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('ffmpeg -i input.mp3 -filter:a "atempo=2.0" output_fast.mp3\n')])])]),a("ul",[a("li",[a("code",[e._v("-filter:a")]),e._v("\tApply filter to audio stream")]),e._v(" "),a("li",[a("code",[e._v("atempo=2.0")]),e._v("\tPlayback speed = 2x (audio pitch stays normal)")])]),e._v(" "),a("h3",{attrs:{id:"for-speed-2×-e-g-4x"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#for-speed-2×-e-g-4x"}},[e._v("#")]),e._v(" For Speed > 2× (e.g. 4x)")]),e._v(" "),a("p",[e._v("FFmpeg limits "),a("code",[e._v("atempo")]),e._v(" to max 2.0 per filter, so you must chain filters:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('ffmpeg -i input.mp3 -filter:a "atempo=2.0,atempo=2.0" output_4x.mp3\n')])])]),a("h3",{attrs:{id:"to-slow-down-instead-e-g-0-5x"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#to-slow-down-instead-e-g-0-5x"}},[e._v("#")]),e._v(" To Slow Down Instead (e.g. 0.5x)")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('ffmpeg -i input.mp3 -filter:a "atempo=0.5" output_slow.mp3\n')])])])])}),[],!1,null,null,null);t.default=r.exports}}]);