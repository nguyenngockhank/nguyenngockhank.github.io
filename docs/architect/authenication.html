<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Authenication | Nguyễn Khánk&#39;s Wiki</title>
    <meta name="description" content="Wikipedia của tui">
    <link rel="apple-touch-icon" sizes="180x180" href="../public/favicons/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="../public/favicons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="../public/favicons/favicon-16x16.png">
  <link rel="manifest" href="../public/favicons/manifest.json">
  <link rel="mask-icon" href="../public/favicons/safari-pinned-tab.svg" color="#3a0839">
  <link rel="shortcut icon" href="../public/favicons/favicon.ico">
  <meta name="msapplication-TileColor" content="#3a0839">
  <meta name="msapplication-config" content="../public/favicons/browserconfig.xml">
  <meta name="theme-color" content="#ffffff">
    
    <link rel="preload" href="/docs/assets/css/0.styles.be3c5b62.css" as="style"><link rel="preload" href="/docs/assets/js/app.1fd0e4f1.js" as="script"><link rel="preload" href="/docs/assets/js/2.5d66152f.js" as="script"><link rel="preload" href="/docs/assets/js/13.b2330066.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.f33e39c9.js"><link rel="prefetch" href="/docs/assets/js/100.6c198b63.js"><link rel="prefetch" href="/docs/assets/js/101.0a5b8f75.js"><link rel="prefetch" href="/docs/assets/js/11.155c1efb.js"><link rel="prefetch" href="/docs/assets/js/12.738245a2.js"><link rel="prefetch" href="/docs/assets/js/14.fdf703f8.js"><link rel="prefetch" href="/docs/assets/js/15.fef02e7b.js"><link rel="prefetch" href="/docs/assets/js/16.991b935a.js"><link rel="prefetch" href="/docs/assets/js/17.b97707db.js"><link rel="prefetch" href="/docs/assets/js/18.e18a2816.js"><link rel="prefetch" href="/docs/assets/js/19.0ebe18cc.js"><link rel="prefetch" href="/docs/assets/js/20.7a7516de.js"><link rel="prefetch" href="/docs/assets/js/21.d7dab457.js"><link rel="prefetch" href="/docs/assets/js/22.3568cbfc.js"><link rel="prefetch" href="/docs/assets/js/23.aa4c5cb7.js"><link rel="prefetch" href="/docs/assets/js/24.0e146c73.js"><link rel="prefetch" href="/docs/assets/js/25.74aae6b9.js"><link rel="prefetch" href="/docs/assets/js/26.e8323fd5.js"><link rel="prefetch" href="/docs/assets/js/27.4f91cf83.js"><link rel="prefetch" href="/docs/assets/js/28.642e5273.js"><link rel="prefetch" href="/docs/assets/js/29.14877f47.js"><link rel="prefetch" href="/docs/assets/js/3.7d5b2a55.js"><link rel="prefetch" href="/docs/assets/js/30.8bb52cd6.js"><link rel="prefetch" href="/docs/assets/js/31.8c0313fe.js"><link rel="prefetch" href="/docs/assets/js/32.8c9e2a92.js"><link rel="prefetch" href="/docs/assets/js/33.b6b2cbfe.js"><link rel="prefetch" href="/docs/assets/js/34.5ad49757.js"><link rel="prefetch" href="/docs/assets/js/35.b2cdbee2.js"><link rel="prefetch" href="/docs/assets/js/36.b6d20975.js"><link rel="prefetch" href="/docs/assets/js/37.1cbec45c.js"><link rel="prefetch" href="/docs/assets/js/38.54ada0cc.js"><link rel="prefetch" href="/docs/assets/js/39.52975bf7.js"><link rel="prefetch" href="/docs/assets/js/4.3d1abbec.js"><link rel="prefetch" href="/docs/assets/js/40.f7792fcf.js"><link rel="prefetch" href="/docs/assets/js/41.760e90c0.js"><link rel="prefetch" href="/docs/assets/js/42.754f9ffd.js"><link rel="prefetch" href="/docs/assets/js/43.2dc281d5.js"><link rel="prefetch" href="/docs/assets/js/44.dfd1dcee.js"><link rel="prefetch" href="/docs/assets/js/45.69a40eea.js"><link rel="prefetch" href="/docs/assets/js/46.f94cd21e.js"><link rel="prefetch" href="/docs/assets/js/47.2aa6281f.js"><link rel="prefetch" href="/docs/assets/js/48.09c0e5c7.js"><link rel="prefetch" href="/docs/assets/js/49.a3a73606.js"><link rel="prefetch" href="/docs/assets/js/5.3ac0d6ed.js"><link rel="prefetch" href="/docs/assets/js/50.f6570aad.js"><link rel="prefetch" href="/docs/assets/js/51.9e289b2f.js"><link rel="prefetch" href="/docs/assets/js/52.a1eca094.js"><link rel="prefetch" href="/docs/assets/js/53.3cf0a616.js"><link rel="prefetch" href="/docs/assets/js/54.046c1aac.js"><link rel="prefetch" href="/docs/assets/js/55.016c907c.js"><link rel="prefetch" href="/docs/assets/js/56.db9cf979.js"><link rel="prefetch" href="/docs/assets/js/57.04cdba34.js"><link rel="prefetch" href="/docs/assets/js/58.55c97303.js"><link rel="prefetch" href="/docs/assets/js/59.8da4694d.js"><link rel="prefetch" href="/docs/assets/js/6.ddf91e3f.js"><link rel="prefetch" href="/docs/assets/js/60.8fd2d54a.js"><link rel="prefetch" href="/docs/assets/js/61.3e70ebb9.js"><link rel="prefetch" href="/docs/assets/js/62.3b072eb2.js"><link rel="prefetch" href="/docs/assets/js/63.58824690.js"><link rel="prefetch" href="/docs/assets/js/64.2ed3fb11.js"><link rel="prefetch" href="/docs/assets/js/65.67250ac4.js"><link rel="prefetch" href="/docs/assets/js/66.15df0663.js"><link rel="prefetch" href="/docs/assets/js/67.e4f6e12b.js"><link rel="prefetch" href="/docs/assets/js/68.6f8b1258.js"><link rel="prefetch" href="/docs/assets/js/69.a1feca58.js"><link rel="prefetch" href="/docs/assets/js/7.a76b39ee.js"><link rel="prefetch" href="/docs/assets/js/70.42bfe900.js"><link rel="prefetch" href="/docs/assets/js/71.8dc2eeaf.js"><link rel="prefetch" href="/docs/assets/js/72.0378c0f5.js"><link rel="prefetch" href="/docs/assets/js/73.9cc0be3d.js"><link rel="prefetch" href="/docs/assets/js/74.ecc2eae4.js"><link rel="prefetch" href="/docs/assets/js/75.d6329b75.js"><link rel="prefetch" href="/docs/assets/js/76.29a59568.js"><link rel="prefetch" href="/docs/assets/js/77.0c922f1a.js"><link rel="prefetch" href="/docs/assets/js/78.6e5a853d.js"><link rel="prefetch" href="/docs/assets/js/79.ef98ec8d.js"><link rel="prefetch" href="/docs/assets/js/8.3d2eb7da.js"><link rel="prefetch" href="/docs/assets/js/80.6663ac3c.js"><link rel="prefetch" href="/docs/assets/js/81.388c02e3.js"><link rel="prefetch" href="/docs/assets/js/82.f8631a42.js"><link rel="prefetch" href="/docs/assets/js/83.5c618010.js"><link rel="prefetch" href="/docs/assets/js/84.5f43bc78.js"><link rel="prefetch" href="/docs/assets/js/85.c2a6f37a.js"><link rel="prefetch" href="/docs/assets/js/86.8ab3073c.js"><link rel="prefetch" href="/docs/assets/js/87.55fe5c3a.js"><link rel="prefetch" href="/docs/assets/js/88.905b08ef.js"><link rel="prefetch" href="/docs/assets/js/89.c138ac14.js"><link rel="prefetch" href="/docs/assets/js/9.f628a6b0.js"><link rel="prefetch" href="/docs/assets/js/90.b0545444.js"><link rel="prefetch" href="/docs/assets/js/91.ac0c5350.js"><link rel="prefetch" href="/docs/assets/js/92.2a587c56.js"><link rel="prefetch" href="/docs/assets/js/93.2a6506e6.js"><link rel="prefetch" href="/docs/assets/js/94.daedc050.js"><link rel="prefetch" href="/docs/assets/js/95.5217c1e1.js"><link rel="prefetch" href="/docs/assets/js/96.a72a6ef1.js"><link rel="prefetch" href="/docs/assets/js/97.607836af.js"><link rel="prefetch" href="/docs/assets/js/98.f182d1e0.js"><link rel="prefetch" href="/docs/assets/js/99.f0b8cbd3.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.be3c5b62.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><!----> <span class="site-name">Nguyễn Khánk's Wiki</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/architect/" class="nav-link router-link-active">Architecture</a></div><div class="nav-item"><a href="https://nguyenngockhank.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Home
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/architect/" class="nav-link router-link-active">Architecture</a></div><div class="nav-item"><a href="https://nguyenngockhank.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Home
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/docs/architect/" class="sidebar-link">Tổng quan Architecture</a></li><li><a href="/docs/architect/ddd.html" class="sidebar-link">Domain-Driven Design</a></li><li><a href="/docs/architect/clean_A.html" class="sidebar-link">Clean Architecture</a></li><li><a href="/docs/architect/ebi.html" class="sidebar-link">EBI Architecture</a></li><li><a href="/docs/architect/onion_A.html" class="sidebar-link">Onion Architecture</a></li><li><a href="/docs/architect/soa.html" class="sidebar-link">Service Oriented Architecture (SOA)</a></li><li><a href="/docs/architect/cqrs.html" class="sidebar-link">Command Query Responsibility Segregation (CQRS)</a></li><li><a href="/docs/architect/event_driven_A.html" class="sidebar-link">Event-driven architecture</a></li><li><a href="/docs/architect/hexagonal_A.html" class="sidebar-link">Hexagonal Architecture</a></li><li><a href="/docs/architect/spa.html" class="sidebar-link">Single Page Application</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Họ làm điều đó như nào?</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Khác</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/architect/authenication.html" class="active sidebar-link">Authenication</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/architect/authenication.html#dau-hieu-chung" class="sidebar-link">Dấu hiệu chung</a></li><li class="sidebar-sub-header"><a href="/docs/architect/authenication.html#basic-authentication" class="sidebar-link">Basic Authentication</a></li><li class="sidebar-sub-header"><a href="/docs/architect/authenication.html#session-based-authentication" class="sidebar-link">Session-based Authentication</a></li><li class="sidebar-sub-header"><a href="/docs/architect/authenication.html#token-based-authentication" class="sidebar-link">Token-based Authentication</a></li><li class="sidebar-sub-header"><a href="/docs/architect/authenication.html#oauth" class="sidebar-link">OAuth</a></li></ul></li><li><a href="/docs/architect/full_stack_software_design.html" class="sidebar-link">The Full-stack Software Design &amp; Architecture Map</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="authenication"><a href="#authenication" aria-hidden="true" class="header-anchor">#</a> Authenication</h1> <p>Theo Wiki =))</p> <div class="custom-block tip"><p>Xác thực là một hành động nhằm thiết lập hoặc chứng thực một cái gì đó đáng tin cậy, có nghĩa là, những lời khai báo do người đó đưa ra hoặc về vật đó là sự thật. Xác thực một đối tượng còn có nghĩa là công nhận nguồn gốc của đối tượng, trong khi, xác thực một người thường bao gồm việc thẩm tra nhận dạng của họ.</p></div> <h2 id="dau-hieu-chung"><a href="#dau-hieu-chung" aria-hidden="true" class="header-anchor">#</a> Dấu hiệu chung</h2> <p>Xác thực một HTTP request bằng một dấu hiệu nào đó trên request:</p> <ul><li>URL: <code>/post/create?api_key=my_key</code></li> <li>Cookie: SESSION_ID=CLIENT_TOKEN</li> <li>Authorization Header: <code>Authorization: my_token</code></li> <li>Custom Header: <code>Authorization: my_token</code></li> <li>Body: <code>content=...&amp;token=my_token</code></li></ul> <h2 id="basic-authentication"><a href="#basic-authentication" aria-hidden="true" class="header-anchor">#</a> Basic Authentication</h2> <div class="custom-block tip"><p>Cách hoạt động của Basic Auth là gửi chính <code>username</code> + <code>password</code> của người dùng theo <code>mỗi request</code>.</p></div> <p><strong>Ưu điểm</strong></p> <ul><li>Đơn giản, đa số browsers &amp; server đều support</li> <li>Dễ dàng kết hợp với các phương pháp khác.</li></ul> <p><strong>Nhược điểm</strong></p> <ul><li>Username/password dễ bị lộ vì mỗi request đều phải truyền username và password</li> <li>Không thể logout. Ngoại trừ việc tự xóa lịch sử duyệt web hoặc hết thời gian lưu của trình duyệt.</li> <li>Không thân thiện với người dùng. UI xấu</li></ul> <h2 id="session-based-authentication"><a href="#session-based-authentication" aria-hidden="true" class="header-anchor">#</a> Session-based Authentication</h2> <p>Thi thoảng được gọi là cookie-based authentication.</p> <div class="custom-block tip"><p>Session-based authentication là cơ chế đăng nhập người dùng dựa trên việc tạo ra <code>session</code> của người dùng ở <code>phía server</code>.</p></div> <p>Thường được dùng trong các website và những ứng dụng web làm việc <code>chủ yếu với browser</code>, những <code>hệ thống monolithic</code> do cần sự tập trung trong việc lưu session data và sự hạn chế về domain.</p> <p><strong>Ưu điểm</strong></p> <ul><li>Thông tin được giấu kín. Session ID thường random không mang thông tin user</li> <li>Dung lượng truyền tải nhỏ</li> <li>Không cần tác động client nhiều. 2 động tác hay làm đó là set Cookie cho mỗi request, hoặc nhét thêm hidden field trong Form.</li> <li>Fully-controlled session. VD: thời gian login, force logout, ...</li></ul> <p><strong>Nhược điểm</strong></p> <ul><li>Chiếm nhiều bộ nhớ trên server</li> <li>Khó scale: vì phải <code>dùng chung chỗ lưu session</code> hoặc <code>ghi nhớ user đã kết nối tới server nào</code> phục vụ cho việc <strong>Load Balancer</strong> có đẩy request server khác vẫn hiểu được đã authenication.</li> <li>Phụ thuộc domain. Thường sử dụng cookie để lưu <code>Session ID</code>, mà cookie lại phụ thuộc vào domain</li> <li><code>CSRF</code> - một cách thức để tấn công, ăn cắp quyền</li></ul> <h2 id="token-based-authentication"><a href="#token-based-authentication" aria-hidden="true" class="header-anchor">#</a> Token-based Authentication</h2> <div class="custom-block tip"><p><code>Token-based Authentication</code> là cơ chế đăng nhập người dùng dựa trên việc tạo ra <code>token</code> - một chuỗi ký tự (thường được mã hóa) <code>mang thông tin xác định người dùng</code> được server tạo ra và <code>lưu ở client</code>. Server sau đó [có thể] không lưu lại token này.</p></div> <p>Thường được sử dụng trong các hệ thống <code>Web API</code>, <code>các hệ thống phân tán</code>, <code>micro-services</code>, các hệ thống có sự tham gia của các nền tảng khác như <code>mobile</code>, <code>IoT</code>, <code>server</code>,..., hoặc các <code>website kiểu mới</code> (phân tách rõ UI app và API).</p> <p><strong>Ưu điểm</strong></p> <ul><li>Stateless: <code>token</code> thường có tính chất <code>self-contained</code> =&gt; tính chất quan trọng nhất cho việc scale ngang - không cần quan tâm <code>sinh token ở đâu</code> và <code>verify token ở đâu</code></li> <li>Phù hợp với nhiều loại client: không chỉ <code>browser</code> mà cả</li> <li>Chống CSRF</li> <li>Không bị giới hạn bởi domain nhưng cũng có khả năng sẽ bị Cross Domain - <a href="/docs/architect/cross_domain.html">Đọc thêm bài này để tham khảo thêm vấn đề này</a></li></ul> <p><strong>Nhược điểm</strong></p> <ul><li>Khó quản lý đăng xuất</li> <li>Phức tạp phần client</li> <li>Thông tin dễ lộ =&gt; thông thường chỉ lưu 1 số thông tin thiết yếu như <code>user_id</code>, <code>username</code> mà không lưu thông tin nhạy cảm như <code>password</code> vào token</li> <li>Dung lượng truyền tải lớn</li></ul> <h2 id="oauth"><a href="#oauth" aria-hidden="true" class="header-anchor">#</a> OAuth</h2> <p><strong>Viết tắt</strong>: <code>Open Authentication</code></p> <div class="custom-block tip"><p><code>OAuth</code> ra đời nhằm giải quyết vấn đề trên và xa hơn nữa, đây là một phương thức chứng thực giúp các ứng dụng có thể chia sẻ tài nguyên với nhau mà không cần chia sẻ thông tin username và password.</p></div> <ul><li><strong>Ứng dụng</strong>  (website hoặc mobile app)yêu cầu ủy quyền để truy cập vào <strong>Resource Server</strong> (Gmail,Facebook, Twitter hay Github…) thông qua User</li> <li>Nếu <strong>User</strong> ủy quyền cho yêu cầu trên, <strong>Ứng dụng</strong> sẽ nhận được <em><code>ủy quyền từ phía User</code></em> (dưới dạng một token string)</li> <li><strong>Ứng dụng</strong> gửi thông tin <em><code>định danh</code></em> (ID) của mình kèm theo <em><code>ủy quyền của User</code></em> tới <strong>Authorization Server</strong></li> <li>Nếu <em><code>thông tin định danh</code></em> được xác thực và ủy quyền hợp lệ, <strong>Authorization Server</strong> sẽ trả về cho <strong>Ứng dụng</strong> <em><code>access_token</code></em>. Đến đây quá trình ủy quyền hoàn tất.</li> <li>Nếu <em><code>access_token</code></em> hợp lệ, <strong>Resource Server</strong> sẽ trả về dữ liệu của tài nguyên đã được yêu cầu cho <strong>Ứng dụng</strong>.</li></ul> <p><img src="/docs/assets/img/oauth.a174415e.png" alt="Mô hình OAuth2"></p> <p>Tóm tắt <a href="https://viblo.asia/p/authentication-story-part-1-authentication-la-lam-gi-63vKj2YMK2R" target="_blank" rel="noopener noreferrer">bài viết gốc<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/docs/db/pinterest_shard.html" class="prev">Pinterest đã thực hiện scaled MySQL của họ như thế nào</a></span> <span class="next"><a href="/docs/architect/full_stack_software_design.html">The Full-stack Software Design &amp; Architecture Map</a>→
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/docs/assets/js/app.1fd0e4f1.js" defer></script><script src="/docs/assets/js/2.5d66152f.js" defer></script><script src="/docs/assets/js/13.b2330066.js" defer></script>
  </body>
</html>
